"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[214,394,849],{5394:function(e,t,l){l.r(t),l.d(t,{default:function(){return d}});var o=l(641);const s={key:0,class:"flex items-center justify-center"};function n(e,t,l,n,r,a){return l.loading?((0,o.uX)(),(0,o.CE)("div",s,t[0]||(t[0]=[(0,o.Lk)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 40 40","enable-background":"new 0 0 40 40","xml:space":"preserve"},[(0,o.Lk)("path",{opacity:"0.2",fill:"#1da1f2",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\n    s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\n    c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}),(0,o.Lk)("path",{fill:"#1da1f2",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\n    C22.32,8.481,24.301,9.057,26.013,10.047z"},[(0,o.Lk)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"})])],-1)]))):(0,o.Q3)("",!0)}var r={name:"Loader",props:["loading"]},a=l(6262);const i=(0,a.A)(r,[["render",n]]);var d=i},3214:function(e,t,l){l.r(t),l.d(t,{default:function(){return P}});var o=l(641),s=l(33);const n={class:"w-1/6 md:w-1/12 xl:w-1/6 border-r border-lighter lg:px-6 py-2 flex-col justify-between hidden sm:flex"},r={key:0,class:"absolute -mt-6 ml-2"},a={class:"inline-flex items-center px-1.5 py-0.5 border-2 border-white rounded-full text-xs font-semibold leading-4 bg-blue text-white"},i={key:0,class:"absolute -mt-6 ml-2"},d={class:"inline-flex items-center px-1.5 py-0.5 border-2 border-white rounded-full text-xs font-semibold leading-4 bg-blue text-white"},u={key:0,class:"xl:w-full relative mt-2 w-10 h-10"},c=["src"],f={class:"hidden xl:block ml-4 truncate"},h={class:"text-left text-sm font-bold leading-tight truncate"},g={class:"text-left text-sm leading-tight text-dark truncate"},m={key:0,class:"absolute bottom-0 left-0 w-80 rounded-lg shadow-md border-lightest bg-white mb-16"},p=["src"],b={class:"ml-4"},x={class:"text-left text-sm font-bold leading-tight"},k={class:"text-left text-sm leading-tight text-dark"};function w(e,t,l,w,v,L){const y=(0,o.g2)("QRCodeModal");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.bF)(y,{show:v.qrModalOpen,qrData:v.qrCode,onClose:L.closeQR},null,8,["show","qrData","onClose"])]),(0,o.Lk)("div",n,[(0,o.Lk)("div",null,[t[14]||(t[14]=(0,o.Lk)("button",{class:"h-12 w-12 hover:bg-lightblue text-3xl text-blue rounded-full"},null,-1)),(0,o.Lk)("div",null,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>L.open("Home")),class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:(0,s.C4)(["fa fa-home","Home"===e.$route.name?"text-2xl":"text-xl"]),"aria-hidden":"true"},null,2),(0,o.Lk)("p",{class:(0,s.C4)(["text-lg ml-4 text-left hidden xl:block","Home"===e.$route.name?"font-bold":""])}," Home ",2)]),(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>L.open("Notifications")),class:"cursor-not-allowed relative focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:(0,s.C4)(["fa-bell","Notifications"===e.$route.name?"text-2xl fas":"text-xl far"]),"aria-hidden":"true"},null,2),v.newNotifications>0?((0,o.uX)(),(0,o.CE)("span",r,[(0,o.Lk)("div",a,(0,s.v_)(v.newNotifications),1)])):(0,o.Q3)("",!0),(0,o.Lk)("p",{class:(0,s.C4)(["text-lg ml-4 text-left hidden xl:block","Notifications"===e.$route.name?"font-bold":""])}," Notifications ",2)]),(0,o.Lk)("button",{onClick:t[2]||(t[2]=e=>L.open("Chats")),class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:(0,s.C4)(["fa-envelope","Chats"===e.$route.name?"text-2xl fas":"text-xl far"]),"aria-hidden":"true"},null,2),v.newMessages>0?((0,o.uX)(),(0,o.CE)("span",i,[(0,o.Lk)("div",d,(0,s.v_)(v.newMessages),1)])):(0,o.Q3)("",!0),(0,o.Lk)("p",{class:(0,s.C4)(["text-lg ml-4 text-left hidden xl:block","Chats"===e.$route.name?"font-bold":""])}," Messages ",2)]),t[12]||(t[12]=(0,o.Lk)("button",{class:"cursor-not-allowed focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:"text-xl far fa-bookmark","aria-hidden":"true"}),(0,o.Lk)("p",{class:"text-lg ml-4 text-left hidden xl:block"},"Bookmarks")],-1)),(0,o.Lk)("button",{onClick:t[3]||(t[3]=e=>L.open("Profile")),class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:(0,s.C4)(["fa-user","Profile"===e.$route.name?"text-2xl fas":"text-xl far"]),"aria-hidden":"true"},null,2),(0,o.Lk)("p",{class:(0,s.C4)(["text-lg ml-4 text-left hidden xl:block","Profile"===e.$route.name?"font-bold":""])}," Profile ",2)]),(0,o.Lk)("button",{onClick:t[4]||(t[4]=()=>{}),class:"cursor-not-allowed focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},t[11]||(t[11]=[(0,o.Lk)("i",{class:"text-xl fas fa-cog","aria-hidden":"true"},null,-1),(0,o.Lk)("p",{class:"text-lg ml-4 text-left hidden xl:block"},"Settings",-1)]))]),(0,o.Lk)("button",{onClick:t[5]||(t[5]=e=>L.open("Home")),class:"text-white bg-blue rounded-full font-semibold h-12 lg:h-auto w-12 xl:w-full hover:bg-darkblue p-3"},t[13]||(t[13]=[(0,o.Lk)("p",{class:"hidden xl:block"},"Tweet",-1),(0,o.Lk)("i",{class:"fas fa-plus xl:hidden"},null,-1)]))]),v.profile?((0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=e=>v.dropdown=!v.dropdown),class:"flex items-center w-full hover:bg-lightblue rounded-full"},[(0,o.Lk)("img",{src:v.profile.avatar||"default_profile.png",class:"w-10 h-10 rounded-full"},null,8,c),(0,o.Lk)("div",f,[(0,o.Lk)("div",h,(0,s.v_)(v.profile.username),1),(0,o.Lk)("div",g,(0,s.v_)(v.profile.id),1)]),t[15]||(t[15]=(0,o.Lk)("i",{class:"hidden xl:block fas fa-angle-down ml-auto text-lg"},null,-1))]),v.dropdown?((0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=e=>v.dropdown=!1),class:"p-3 flex items-center w-full hover:bg-lightest"},[(0,o.Lk)("img",{src:v.profile.avatar||"default_profile.png",class:"w-10 h-10 rounded-full"},null,8,p),(0,o.Lk)("div",b,[(0,o.Lk)("p",x,(0,s.v_)(v.profile.username),1),(0,o.Lk)("p",k,(0,s.v_)(v.profile.id),1)]),t[16]||(t[16]=(0,o.Lk)("i",{class:"fas fa-check ml-auto text-blue"},null,-1))]),(0,o.Lk)("button",{class:"w-full text-left hover:bg-lightest border-t border-lighter p-3 text-sm",onClick:t[8]||(t[8]=(...e)=>L.toggleDarkMode&&L.toggleDarkMode(...e))}," Toggle Theme "),(0,o.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>L.signInByQR&&L.signInByQR(...e)),class:"w-full text-left hover:bg-lightest border-t border-lighter p-3 text-sm"}," Sign in by QR-code "),(0,o.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>L.signOut&&L.signOut(...e)),class:"w-full text-left hover:bg-lightest border-t border-lighter p-3 text-sm"}," Log out "+(0,s.v_)(v.profile.username),1)])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)])],64)}l(4114);var v=l(3751);const L={class:"bg-white rounded-lg shadow-lg p-6 w-80 relative"},y={key:0,class:"flex justify-center mb-4"},C=["src"],E={key:1,class:"text-center text-gray-500"};function Q(e,t,l,s,n,r){return l.show?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",onClick:t[1]||(t[1]=(0,v.D$)(((...e)=>r.close&&r.close(...e)),["self"]))},[(0,o.Lk)("div",L,[(0,o.Lk)("button",{class:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:t[0]||(t[0]=(...e)=>r.close&&r.close(...e))},t[2]||(t[2]=[(0,o.Lk)("i",{class:"fas fa-times"},null,-1)])),t[4]||(t[4]=(0,o.Lk)("h3",{class:"text-xl font-semibold text-center mb-4"},"Your QR Code",-1)),l.qrData?((0,o.uX)(),(0,o.CE)("div",y,[(0,o.Lk)("img",{src:l.qrData,alt:"QR Code",class:"w-48 h-48"},null,8,C)])):((0,o.uX)(),(0,o.CE)("div",E,t[3]||(t[3]=[(0,o.Lk)("p",null,"No QR code is currently available. Please try again later.",-1)]))),t[5]||(t[5]=(0,o.Lk)("p",{class:"text-sm text-gray-600 text-center"}," Scan this QR code with your app to log in. ",-1))])])):(0,o.Q3)("",!0)}var _={props:{show:{type:Boolean,required:!0},qrData:{type:String,required:!1}},emits:["close"],methods:{close(){this.$emit("close")},handleEscape(e){"Escape"===e.key&&this.close()}},mounted(){window.addEventListener("keydown",this.handleEscape)},beforeUnmount(){window.removeEventListener("keydown",this.handleEscape)}},$=l(6262);const M=(0,$.A)(_,[["render",Q]]);var q=M,I=l(1787),R={name:"SideNav",components:{QRCodeModal:q},data(){return{dropdown:!1,profile:{},newMessages:0,newNotifications:0,qrModalOpen:!1,qrCode:""}},mounted(){const e=localStorage.getItem("theme");"dark"===e||!e&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},methods:{async open(e){const t=this.$route.name;e===t&&this.$route.params.id===this.profile.id||this.$router.push({name:e,params:{id:this.profile.id}})},toggleDarkMode(){const e=document.documentElement;e.classList.contains("dark")?(e.classList.remove("dark"),localStorage.setItem("theme","light")):(e.classList.add("dark"),localStorage.setItem("theme","dark"))},async signInByQR(){this.qrCode=await I.n.getQR(),this.qrModalOpen=!0},async closeQR(){this.qrModalOpen=!1},async signOut(){await I.n.logoutUser(),this.$router.push("/")}},async created(){console.log("loading component:",this.$options.name),this.profile=I.n.getOwnerProfile(),console.log("profile",this.profile),this.profile.avatar=await I.n.getImage({userId:this.profile.id,key:this.profile.avatar_key})}};const X=(0,$.A)(R,[["render",w]]);var P=X},5843:function(e,t,l){l.d(t,{A:function(){return k}});var o=l(641),s=l(33);const n={class:"w-full px-4 py-2 border-b hover:bg-lightest flex flex-row"},r={class:"flex-none"},a=["src"],i={class:"ml-2 flex flex-col w-full"},d={class:"flex flex-row justify-between w-full"},u={class:"flex flex-col"},c={class:"font-bold"},f={class:"text-dark text-sm"},h={key:0};function g(e,t,l,g,m,p){return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("div",r,[(0,o.Lk)("a",{onClick:t[0]||(t[0]=e=>p.pushToProfilePage(l.user.id))},[(0,o.Lk)("img",{src:`${l.user.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full"},null,8,a)])]),(0,o.Lk)("div",i,[(0,o.Lk)("div",d,[(0,o.Lk)("div",u,[(0,o.Lk)("p",c,(0,s.v_)(l.user.username),1),(0,o.Lk)("p",f,"@"+(0,s.v_)(l.user.id),1)]),m.profile&&m.profile.id!==l.user.id?((0,o.uX)(),(0,o.CE)("div",h,[l.user.following?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>p.follow&&p.follow(...e)),class:"ml-auto text-blue font-bold px-4 py-1 rounded-full border border-blue mb-2 hover:bg-lightblue"}," Follow ")),l.user.following?((0,o.uX)(),(0,o.CE)("button",{key:1,onMouseover:t[2]||(t[2]=e=>m.followingLabel="Unfollow"),onMouseleave:t[3]||(t[3]=e=>m.followingLabel="Following"),onClick:t[4]||(t[4]=(...e)=>p.unfollow&&p.unfollow(...e)),class:"ml-auto text-white bg-blue font-bold px-4 py-1 rounded-full border mb-2 hover:bg-red-700"},(0,s.v_)(m.followingLabel),33)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",null,[(0,o.Lk)("p",null,(0,s.v_)(l.user.bio),1)])])])}l(4114);var m=l(1787),p={name:"User",props:{user:{id:"",username:"",type:Object,required:!0,avatar:"",following:!1}},data(){return{followingLabel:"Following",profile:{}}},methods:{async follow(){try{await m.n.followUser(this.user.id),this.user.following=!0}catch(e){console.error(`failed to follow [${this.user.id}]`,e)}},async unfollow(){try{await m.n.unfollowUser(this.user.id),this.user.following=!1}catch(e){console.error(`failed to unfollow [${this.user.id}]`,e)}},async pushToProfilePage(e){this.$router.push({name:"Profile",params:{id:e}})}},async created(){console.log("loading component:",this.$options.name),this.profile=m.n.getOwnerProfile(),this.profile.background_image=await m.n.getImage({userId:this.profile.id,key:this.profile.background_image_key}),this.profile.avatar=await m.n.getImage({userId:this.profile.id,key:this.profile.avatar_key}),this.user.avatar=await m.n.getImage({userId:this.user.id,key:this.user.avatar_key})}},b=l(6262);const x=(0,b.A)(p,[["render",g]]);var k=x}}]);
//# sourceMappingURL=849.605e55a0.js.map