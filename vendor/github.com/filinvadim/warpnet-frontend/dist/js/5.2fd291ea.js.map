{"version":3,"file":"js/5.2fd291ea.js","mappings":"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","sources":["webpack://warpnet-frontend/./src/components/DefaultRightBar.vue","webpack://warpnet-frontend/./src/components/WhoToFollow.vue","webpack://warpnet-frontend/./src/components/WhoToFollow.vue?12f1","webpack://warpnet-frontend/./src/components/DefaultRightBar.vue?9b26","webpack://warpnet-frontend/./src/components/SearchBar.vue","webpack://warpnet-frontend/./src/components/SearchBar.vue?fbac"],"sourcesContent":["<template>\n   <div class=\"hidden md:block w-1/3 h-full border-l border-lighter px-6 py-2 relative min-w-max\">\n      <SearchBar />\n      <WhoToFollow />\n    </div>\n</template>\n<script>\nimport SearchBar from './SearchBar.vue';\nimport WhoToFollow from './WhoToFollow.vue';\nexport default {\n  name: 'DefaultRightBar',\n  components: {\n    SearchBar,\n    WhoToFollow,\n  },\n};\n</script>","<template>\n  <div class=\"w-full rounded-lg bg-lightest my-4\">\n    <div class=\"p-3\">\n      <p class=\"text-lg font-bold\">Who to follow</p>\n    </div>\n    <div v-for=\"profile in profiles\" :key=\"profile.id\" class=\"w-full flex hover:bg-lighter p-3 border-t border-lighter\">\n      <img \n        @click=\"pushToProfilePage(profile.id)\" \n        :src=\"getAvatar(profile.id, profile.avatar_key) || 'default_profile.png'\"\n        class=\"w-12 h-12 rounded-full cursor-pointer\"  \n        :alt=\"profile.username\"\n      />\n      <div class=\"hidden lg:block ml-4\">\n        <p @click=\"pushToProfilePage(profile.id)\" class=\"text-left text-sm font-bold leading-tight cursor-pointer\">{{ profile.username }}</p>\n        <p class=\"text-left text-sm leading-tight text-dark\">{{ profile.id.slice(0, 8) }}...</p>\n      </div>\n      <button\n        v-if=\"!isFollowed(profile.id)\"\n        @click=\"follow(profile.id)\" \n        class=\"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2\"\n      >\n        Follow\n      </button>\n      <button\n          v-if=\"isFollowed(profile.id)\"\n          @click=\"unfollow(profile.id)\"\n          class=\"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2\"\n      >\n        Unfollow\n      </button>\n    </div>\n    <button\n        @click=\"loadWhoToFollow(profile.id)\"\n        class=\"p-3 w-full hover:bg-lighter text-left text-blue border-t border-lighter\"\n    >\n      Show More\n    </button>\n  </div>\n</template>\n\n<script>\nimport {reactiveCache} from \"@/store/modules/cache/cache\";\n\nexport default {\n  name: 'WhoToFollow',\n  data() {\n    return {\n      userProfile: undefined,\n      profiles: [],\n      profilesCursor: \"\",\n      profilesAvatars: new Map(),\n      isFollowedMap: new Map(),\n    };\n  },\n  methods: {\n    async pushToProfilePage(profileId) {\n      this.$router.push({ \n        name: \"Profile\",\n        params: {\n          id: profileId\n        }\n      });\n    },\n    isFollowed(profileId) {\n      return reactiveCache.isFollowed(profileId)\n    },\n    async follow(profileId) {\n      await reactiveCache.followUser(profileId);\n    },\n    async unfollow(profileId) {\n      await reactiveCache.unfollowUser(profileId);\n    },\n    getAvatar(userId, avatarKey) {\n      this.loadAvatar(userId, avatarKey)\n      return this.profilesAvatars.get(userId)\n    },\n    async loadAvatar(userId, avatarKey) {\n      const img  = await reactiveCache.getImage({userId:userId, key:avatarKey})\n      this.profilesAvatars.set(userId, img)\n    },\n    async loadWhoToFollow(profileId) {\n      const whotofollow = await reactiveCache.getUsers({userId:profileId, limit:20, cursor:this.profilesCursor});\n      let allUsers = whotofollow.users.filter(user => user.id !== this.userProfile.id);\n      allUsers = allUsers.filter(user => user.id !== profileId);\n\n      this.profilesCursor = whotofollow.cursor;\n\n      const followersData = await reactiveCache.getFollowers({userId:profileId, limit:20, cursor:this.followersCursor})\n      const followers = followersData.users || [];\n\n      this.profiles = allUsers.filter(item => !followers.includes(item));\n    },\n   },\n  async created() {\n    console.log(\"loading component:\", this.$options.name);\n    this.userProfile = await reactiveCache.getProfile(this.$route.params.id);\n\n    let profileId;\n    if (this.$route.name === \"Home\") {\n      profileId = this.userProfile.id;\n    } else {\n      profileId = this.$route.params.id;\n    }\n    await this.loadWhoToFollow(profileId)\n  },\n};\n</script>","import { render } from \"./WhoToFollow.vue?vue&type=template&id=040dade8\"\nimport script from \"./WhoToFollow.vue?vue&type=script&lang=js\"\nexport * from \"./WhoToFollow.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DefaultRightBar.vue?vue&type=template&id=5998afdd\"\nimport script from \"./DefaultRightBar.vue?vue&type=script&lang=js\"\nexport * from \"./DefaultRightBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <i class=\"fas fa-search absolute mt-2 ml-5 text-sm text-light cursor-not-allowed\"></i>\n    <input\n      class=\"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4\"\n      placeholder=\"Search Tweet\"\n      v-model=\"query\"\n      v-on:keyup.enter=\"submit()\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SearchBar\",\n  data() {\n    return {\n      query: \"Doesn't work for now\",\n    };\n  },\n  methods: {\n    submit() {\n      this.$router.push({\n        name: \"Search\",\n        query: { q: this.query },\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./SearchBar.vue?vue&type=template&id=aa8f6bd2\"\nimport script from \"./SearchBar.vue?vue&type=script&lang=js\"\nexport * from \"./SearchBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_SearchBar","_component_WhoToFollow","_createElementVNode","_Fragment","_renderList","$data","profiles","profile","key","id","onClick","$event","$options","pushToProfilePage","src","getAvatar","avatar_key","alt","username","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","slice","isFollowed","_createCommentVNode","follow","_hoisted_6","unfollow","_hoisted_7","_cache","loadWhoToFollow","_ctx","name","data","userProfile","undefined","profilesCursor","profilesAvatars","Map","isFollowedMap","methods","profileId","this","$router","push","params","reactiveCache","followUser","unfollowUser","userId","avatarKey","loadAvatar","get","img","getImage","set","whotofollow","getUsers","limit","cursor","allUsers","users","filter","user","followersData","getFollowers","followersCursor","followers","item","includes","created","console","log","getProfile","$route","__exports__","components","SearchBar","WhoToFollow","render","placeholder","query","onKeyup","_withKeys","submit","q"],"sourceRoot":""}