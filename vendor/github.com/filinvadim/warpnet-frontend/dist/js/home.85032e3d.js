"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[962],{518:function(e,t,i){i.r(t),i.d(t,{default:function(){return x}});var l=i(641),n=i(3751),o=i(33);const s={id:"app",class:"flex container h-screen w-full"},r={class:"w-full h-full overflow-y-scroll no-scrollbar"},a={class:"px-5 py-3 border-b border-lighter flex items-center justify-between"},f={class:"px-5 py-3 border-b-8 border-lighter flex"},c={key:0,class:"flex-none mr-4"},d=["src"],u={class:"w-full relative"},h={key:0,class:"flex flex-col items-center justify-center w-full pt-10 px-6"};function g(e,t,i,g,w,b){const p=(0,l.g2)("SideNav"),m=(0,l.g2)("Loader"),x=(0,l.g2)("Timeline"),v=(0,l.g2)("InfoOverlay"),k=(0,l.g2)("DefaultRightBar"),y=(0,l.gN)("scroll");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(p),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",r,[(0,l.Lk)("div",a,[t[3]||(t[3]=(0,l.Lk)("h1",{class:"text-xl font-bold"},"Home",-1)),(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>b.toggleInfo&&b.toggleInfo(...e)),class:"fas fa-info-circle text-xl text-blue cursor-pointer hover:bg-lighter","aria-hidden":"true"})]),(0,l.Lk)("div",f,[w.profile?((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("img",{src:w.profile.avatar||"default_profile.png",class:"flex-none w-12 h-12 rounded-full",alt:"Profile avatar"},null,8,d)])):(0,l.Q3)("",!0),(0,l.Lk)("div",u,[(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>w.tweet.text=e),placeholder:"What's happening?",class:"w-full focus:outline-none mt-3 pb-3"},null,512),[[n.Jo,w.tweet.text]]),t[4]||(t[4]=(0,l.Lk)("div",null,[(0,l.Lk)("i",{class:"text-lg text-blue mr-4 far fa-image"}),(0,l.Lk)("i",{class:"text-lg text-blue mr-4 fas fa-film"}),(0,l.Lk)("i",{class:"text-lg text-blue mr-4 far fa-chart-bar"}),(0,l.Lk)("i",{class:"text-lg text-blue mr-4 far fa-smile"})],-1)),(0,l.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>b.addNewTweet&&b.addNewTweet(...e)),type:"button",class:(0,o.C4)(["h-10 px-4 text-white font-semibold bg-blue hover:bg-darkblue rounded-full absolute bottom-0 right-0",w.tweet.text?"":"opacity-50 cursor-not-allowed"])}," Tweet ",2)])]),(0,l.bF)(m,{loading:w.loading},null,8,["loading"]),w.loading||0!==w.timeline.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",h,t[5]||(t[5]=[(0,l.Fv)('<p class="font-bold text-lg">Welcome to Warpnet!</p><p class="text-sm text-dark text-center"> This is the best place to see what&#39;s happening in your world. Find some people and topics to follow now. </p><button class="text-white bg-blue rounded-full font-semibold mt-4 px-4 py-2 hover:bg-darkblue"><p class="hidden lg:block">Let&#39;s go!</p><i class="fas fa-plus lg:hidden"></i></button>',3)]))),(0,l.bF)(x,{timeline:w.timeline},null,8,["timeline"])])),[[y,b.loadMore,"bottom"]]),(0,l.bF)(v,{visible:w.showInfo,content:w.infoContent,position:w.infoPosition},null,8,["visible","content","position"]),(0,l.bF)(k)])}var w=i(6278),b={name:"Home",components:{SideNav:(0,l.$V)((()=>i.e(655).then(i.bind(i,6655)))),DefaultRightBar:(0,l.$V)((()=>i.e(39).then(i.bind(i,4039)))),Timeline:(0,l.$V)((()=>i.e(741).then(i.bind(i,4741)))),Loader:(0,l.$V)((()=>i.e(587).then(i.bind(i,5587)))),InfoOverlay:(0,l.$V)((()=>i.e(460).then(i.bind(i,8460))))},data(){return{tweet:{text:"",root_id:""},loading:!0,profile:{},timeline:[],timelineCursor:"",showInfo:!1,infoContent:"",infoPosition:{top:"0px",left:"0px"}}},methods:{...(0,w.i0)("warpnet",["getOwnerProfile","getMyTimeline","createTweet","getNodeInfo"]),async addNewTweet(){if(!this.tweet.text)return;await this.createTweet(this.tweet.text),this.tweet.text="";const e=await this.getMyTimeline(20,this.timelineCursor);this.timeline=e.tweets||[],this.timelineCursor=e.cursor},async loadMore(){const e=await this.getMyTimeline(20,this.timelineCursor);this.timeline=this.timeline.concat(e.tweets||[]),this.timelineCursor=e.cursor},async toggleInfo(e){if(this.showInfo)return void(this.showInfo=!1);const t=await this.getInfo();this.infoContent="string"===typeof t?t:JSON.stringify(t,null,2);const i=e.target.getBoundingClientRect();this.infoPosition={top:`${i.bottom+window.scrollY}px`,left:`${i.left+window.scrollX}px`},this.showInfo=!0},async getInfo(){return await this.getNodeInfo()}},async created(){this.timeline.length>0&&(this.loading=!1),this.profile=await this.getOwnerProfile()||{};const e=await this.getMyTimeline(20,this.timelineCursor);this.timeline=e.tweets||[],this.timelineCursor=e.cursor,this.loading=!1}},p=i(6262);const m=(0,p.A)(b,[["render",g]]);var x=m}}]);
//# sourceMappingURL=home.85032e3d.js.map