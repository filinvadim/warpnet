"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[138],{6159:function(e,l,t){t.d(l,{A:function(){return n}});var o=t(641),i=t(3751);function r(e,l,t,r,s,a){return(0,o.uX)(),(0,o.CE)("div",null,[l[2]||(l[2]=(0,o.Lk)("i",{class:"fas fa-search absolute mt-2 ml-5 text-sm text-light"},null,-1)),(0,o.bo)((0,o.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4",placeholder:"Search Tweet","onUpdate:modelValue":l[0]||(l[0]=e=>s.query=e),onKeyup:l[1]||(l[1]=(0,i.jR)((e=>a.submit()),["enter"]))},null,544),[[i.Jo,s.query]])])}t(4114);var s={name:"SearchBar",data(){return{query:""}},methods:{submit(){this.$router.push({name:"Search",query:{q:this.query}})}}},a=t(6262);const d=(0,a.A)(s,[["render",r]]);var n=d},336:function(e,l,t){t.r(l),t.d(l,{default:function(){return We}});var o=t(641),i=t(33);const r={id:"app",class:"flex container h-screen w-full"},s={class:"flex container h-screen w-full"},a={class:"w-full md:w-2/3 lg:w-1/2 h-full overflow-y-scroll no-scrollbar"},d={class:"px-5 py-3 border-b border-lighter flex items-center"},n={class:"lg:block ml-4"},u={class:"text-xl font-bold"},f={key:0,class:"text-left text-sm leading-tight text-dark"},p={class:"border-b-1 border-lighter flex",style:{height:"200px",display:"block"}},c={key:0,class:"h-full max-h-full"},h=["src"],b={key:1,class:"bg-gray-400 h-full max-h-full"},g={class:"py-3 flex flex-col"},m={class:"px-3 flex flex-row justify-between"},w=["src"],k={key:1},x={key:2},v={key:0,class:"text-xs md:text-base md:ml-auto mr-1 md:mr-3 text-blue font-bold px-3 py-1 md:px-3 md:py-2 rounded-full border border-blue mb-2 hover:bg-lightblue"},y={key:0,class:"px-3"},L={class:"font-bold text-xl"},P={class:"text-dark"},C={key:0,class:"text-sm font-medium bg-gray-100 py-1 px-1 mx-2 rounded text-gray-500 align-middle"},U={class:"my-2"},E={class:"flex flex-col md:flex-row mt-1 mb-2"},M={key:0,class:"flex flex-row mr-4"},F={class:"text-dark"},_={key:1,class:"flex flex-row mr-4"},S=["href"],X={key:2,class:"flex flex-row mr-4"},Q={class:"text-dark"},I={key:0,class:"flex flex-row mt-1"},T={class:"font-bold"},$={class:"font-bold"},A={key:1,class:"px-5"},j={class:"text-black text-lg"},D={key:2,class:"flex flex-row justify-evenly mt-2"},W={key:0,class:"flex flex-col items-center justify-center w-full pt-10"},Y={class:"font-bold text-lg"},K={class:"text-sm text-dark"},R={key:0,class:"text-white bg-blue rounded-full font-semibold mt-4 px-4 py-2 hover:bg-darkblue"},q={key:1,class:"flex flex-col items-center justify-center"},J={class:"hidden md:block w-1/3 z-0 h-full border-l border-lighter px-6 py-2 overflow-y-scroll no-scrollbar relative"};function O(e,l,t,O,B,N){const V=(0,o.g2)("SideNav"),H=(0,o.g2)("Loader"),z=(0,o.g2)("Tweets"),G=(0,o.g2)("SearchBar"),Z=(0,o.g2)("SetUpProfileOverlay"),ee=(0,o.g2)("EditProfileOverlay"),le=(0,o.gN)("scroll");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",s,[(0,o.bF)(V),(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("div",d,[(0,o.Lk)("button",{onClick:l[0]||(l[0]=e=>N.gotoHome()),class:"rounded-full md:pr-2 focus:outline-none hover:bg-lightblue"},l[10]||(l[10]=[(0,o.Lk)("i",{class:"fas fa-arrow-left text-blue"},null,-1)])),(0,o.Lk)("div",n,[(0,o.Lk)("h1",u,(0,i.v_)(e.profile.username||"Profile"),1),B.noUser?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("p",f,(0,i.v_)(e.profile.tweets_num)+" Tweets ",1))])]),(0,o.Lk)("div",p,[e.profile.background_image?((0,o.uX)(),(0,o.CE)("div",c,[(0,o.Lk)("img",{src:e.profile.background_image,class:"h-full w-full object-cover"},null,8,h)])):(0,o.Q3)("",!0),e.profile.background_image?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",b))]),(0,o.Lk)("div",g,[(0,o.Lk)("div",m,[e.profile?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.profile.avatar,class:"w-24 h-24 md:w-32 md:h-32 rounded-full border-white",style:{"margin-top":"-80px","border-width":"6px"}},null,8,w)):(0,o.Q3)("",!0),B.isSelf&&e.profile?((0,o.uX)(),(0,o.CE)("div",k,[null===e.profile.avatar||"default_profile.png"===e.profile.avatar?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:l[1]||(l[1]=e=>N.setUpProfile()),class:"text-xs md:text-base md:ml-auto text-blue font-bold px-4 py-2 rounded-full border border-blue mb-2 hover:bg-lightblue"}," Set up profile ")):(0,o.Q3)("",!0),null!==e.profile.avatar&&"default_profile.png"!==e.profile.avatar?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:l[2]||(l[2]=e=>N.editProfile()),class:"text-xs md:text-base md:ml-auto text-blue font-bold px-4 py-2 rounded-full border border-blue mb-2 hover:bg-lightblue"}," Edit profile ")):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),B.noUser||B.isSelf||B.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",x,[l[11]||(l[11]=(0,o.Lk)("button",{class:"text-xs md:text-base md:ml-auto mr-1 md:mr-3 text-blue font-bold px-3 py-1 md:px-3 md:py-2 rounded-full border border-blue mb-2 hover:bg-lightblue"},[(0,o.Lk)("i",{class:"fas fa-ellipsis-h"})],-1)),N.isFollower?((0,o.uX)(),(0,o.CE)("button",v,[(0,o.Lk)("i",{onClick:l[3]||(l[3]=e=>N.sendMessage()),class:"fas fa-envelope"})])):(0,o.Q3)("",!0),N.isFollowed?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:l[4]||(l[4]=e=>N.followUser()),class:"text-xs md:text-base md:ml-auto text-blue font-bold px-2 py-1 md:px-4 md:py-2 rounded-full border border-blue mb-2 hover:bg-lightblue w-24 md:w-28"}," Follow ")),N.isFollowed?((0,o.uX)(),(0,o.CE)("button",{key:2,onMouseover:l[5]||(l[5]=e=>B.followingLabel="Unfollow"),onMouseleave:l[6]||(l[6]=e=>B.followingLabel="Following"),onClick:l[7]||(l[7]=e=>N.unfollowUser()),class:"text-xs md:text-base md:ml-auto mr-1 md:mr-3 text-white bg-blue font-bold px-3 py-1 md:px-3 md:py-2 rounded-full border mb-2 hover:bg-red-700 w-22 md:w-28"},(0,i.v_)(B.followingLabel),33)):(0,o.Q3)("",!0)]))]),B.noUser||B.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",y,[(0,o.Lk)("p",L,(0,i.v_)(e.profile.username),1),(0,o.Lk)("p",P,[(0,o.eW)(" @"+(0,i.v_)(e.profile.id),1),N.isFollower&&!B.isSelf?((0,o.uX)(),(0,o.CE)("span",C,"Follows you")):(0,o.Q3)("",!0)]),(0,o.Lk)("p",U,(0,i.v_)(e.profile.bio),1),(0,o.Lk)("div",E,[e.profile.location?((0,o.uX)(),(0,o.CE)("div",M,[l[12]||(l[12]=(0,o.Lk)("i",{class:"fas fa-map-marker-alt text-dark align-text-bottom pt-1 mr-2"},null,-1)),(0,o.Lk)("p",F,(0,i.v_)(e.profile.location),1)])):(0,o.Q3)("",!0),e.profile.website?((0,o.uX)(),(0,o.CE)("div",_,[l[13]||(l[13]=(0,o.Lk)("i",{class:"fas fa-link text-dark align-text-bottom pt-1 mr-2"},null,-1)),(0,o.Lk)("a",{href:`${e.profile.website}`,target:"_blank",class:"text-dark"},(0,i.v_)(e.profile.website.replace("https://","").replace("http://","")),9,S)])):(0,o.Q3)("",!0),e.joinedDate?((0,o.uX)(),(0,o.CE)("div",X,[l[14]||(l[14]=(0,o.Lk)("i",{class:"far fa-calendar-alt text-dark align-text-bottom pt-1 mr-2"},null,-1)),(0,o.Lk)("p",Q,"Joined "+(0,i.v_)(e.joinedDate),1)])):(0,o.Q3)("",!0)]),B.noUser||B.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",I,[(0,o.Lk)("button",{onClick:l[8]||(l[8]=e=>N.goToFollowing()),class:"mr-4 flex flex-row hover:underline"},[(0,o.Lk)("span",T,(0,i.v_)(B.following.length),1),l[15]||(l[15]=(0,o.Lk)("span",{class:"text-dark whitespace-pre"}," Following",-1))]),(0,o.Lk)("button",{onClick:l[9]||(l[9]=e=>N.goToFollowers()),class:"flex flex-row hover:underline"},[(0,o.Lk)("span",$,(0,i.v_)(B.followers.length),1),l[16]||(l[16]=(0,o.Lk)("span",{class:"text-dark whitespace-pre"}," Followers",-1))])]))])),B.noUser?((0,o.uX)(),(0,o.CE)("div",A,[(0,o.Lk)("p",j," @"+(0,i.v_)(this.$route.params.id),1)])):(0,o.Q3)("",!0),B.noUser||B.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",D,l[17]||(l[17]=[(0,o.Lk)("button",{class:"flex-grow text-dark font-bold border-b-2 border-blue p-1 md:px-2 md:py-4 hover:bg-lightblue"}," Tweets ",-1),(0,o.Lk)("button",{class:"flex-grow text-dark font-bold border-b-2 p-1 md:px-2 md:py-4 hover:bg-lightblue"}," Tweets & replies ",-1),(0,o.Lk)("button",{class:"flex-grow text-dark font-bold border-b-2 p-1 md:px-2 md:py-4 hover:bg-lightblue"}," Media ",-1),(0,o.Lk)("button",{class:"flex-grow text-dark font-bold border-b-2 p-1 md:px-2 md:py-4 hover:bg-lightblue"}," Like ",-1)])))]),(0,o.bF)(H,{loading:B.loading},null,8,["loading"]),B.noUser||B.loading||0!==e.tweets.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",W,[(0,o.Lk)("p",Y,[(0,o.Lk)("span",null,(0,i.v_)(B.isSelf?"You":`@${e.profile.username}`),1),l[18]||(l[18]=(0,o.eW)(" haven’t Tweeted yet "))]),(0,o.Lk)("p",K,[l[19]||(l[19]=(0,o.eW)(" When ")),(0,o.Lk)("span",null,(0,i.v_)(B.isSelf?"you post":`@${e.profile.username} posts`),1),l[20]||(l[20]=(0,o.eW)(" a Tweet, it’ll show up here. "))]),B.isSelf?((0,o.uX)(),(0,o.CE)("button",R,l[21]||(l[21]=[(0,o.Lk)("p",{class:"hidden lg:block"},"Tweet now",-1),(0,o.Lk)("i",{class:"fas fa-plus lg:hidden"},null,-1)]))):(0,o.Q3)("",!0)])),B.noUser?((0,o.uX)(),(0,o.CE)("div",q,l[22]||(l[22]=[(0,o.Lk)("div",{class:"w-3/5 flex flex-col items-left mt-10"},[(0,o.Lk)("p",{class:"font-bold text-2xl"},"This account doesn’t exist"),(0,o.Lk)("p",{class:"text-lg text-dark"},"Try searching for another.")],-1)]))):(0,o.Q3)("",!0),B.noUser?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(z,{key:2,tweets:e.tweets},null,8,["tweets"]))])),[[le,N.loadMore,"bottom"]]),(0,o.Lk)("div",J,[(0,o.bF)(G)]),B.showSetUpProfileModal?((0,o.uX)(),(0,o.Wv)(Z,{key:0,showSetUpProfileModal:B.showSetUpProfileModal},null,8,["showSetUpProfileModal"])):(0,o.Q3)("",!0),B.showEditProfileModal?((0,o.uX)(),(0,o.Wv)(ee,{key:1,showEditProfileModal:B.showEditProfileModal},null,8,["showEditProfileModal"])):(0,o.Q3)("",!0)])])}t(4114),t(8992),t(7550);var B=t(1450),N=t(6159);function V(e,l,t,i,r,s){const a=(0,o.g2)("Tweet"),d=(0,o.g2)("Retweet");return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.tweets,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id},[e.is_retweet_of?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(a,{key:0,tweet:e},null,8,["tweet"])),e.is_retweet_of?((0,o.uX)(),(0,o.Wv)(d,{key:1,tweet:e},null,8,["tweet"])):(0,o.Q3)("",!0)])))),128))])}var H=t(6278),z=t(9536),G=t(4937),Z={name:"Tweets",props:["tweets"],components:{Tweet:z.A,Retweet:G.A},computed:{...(0,H.L8)("warpnet",{cursor:"cursorTweets"}),...(0,H.L8)("warpnet",["profile"])}},ee=t(6262);const le=(0,ee.A)(Z,[["render",V]]);var te=le,oe=t(3751);const ie={class:"fixed w-full h-full top-0 left-0 flex items-center justify-center"},re={class:"modal-main bg-white mx-auto rounded-lg z-50 overflow-y-auto",style:{height:"80%",width:"40%"}},se={class:"pl-1 pr-4 py-1 h-12"},ae={class:"pt-5 px-8"},de={class:"mt-16 w-full flex items-center justify-center"},ne={class:"fixed"},ue=["src"];function fe(e,l,t,i,r,s){return(0,o.uX)(),(0,o.CE)("div",ie,[(0,o.Lk)("div",{class:"absolute w-full h-full bg-gray-900 opacity-50",onClick:l[0]||(l[0]=(0,oe.D$)((l=>e.$emit("update:showSetUpProfileModal",!1)),["prevent"]))}),(0,o.Lk)("div",re,[(0,o.Lk)("div",se,[null===r.newImage||"default_profile.png"===r.newImage?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:l[1]||(l[1]=l=>e.$emit("update:showSetUpProfileModal",!1)),class:"rounded-full bg-white font-bold text-blue mt-2 p-1 px-3 relative right-0 float-right focus:outline-none hover:bg-lightblue"}," Skip for now ")):(0,o.Q3)("",!0),null!==r.newImage&&"default_profile.png"!==r.newImage?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:l[2]||(l[2]=e=>s.finishSetUpProfile()),class:"rounded-full bg-blue font-bold text-white mt-2 p-1 px-4 relative right-0 float-right focus:outline-none hover:bg-darkblue"}," Next ")):(0,o.Q3)("",!0),l[5]||(l[5]=(0,o.Lk)("i",{class:"relative fab text-blue text-2xl mt-2 mb-8",style:{"margin-left":"50%"}},null,-1))]),(0,o.Lk)("div",ae,[l[8]||(l[8]=(0,o.Lk)("div",{class:"flex justify-between items-center mb-5"},[(0,o.Lk)("p",{class:"text-2xl font-bold"},"Pick a profile picture")],-1)),l[9]||(l[9]=(0,o.Lk)("p",{class:"text-dark"},"Have a favorite selfie? Upload it now.",-1)),(0,o.Lk)("div",de,[(0,o.Lk)("div",ne,[l[7]||(l[7]=(0,o.Lk)("div",{class:"absolute w-32 h-32 rounded-full bg-gray-600 opacity-50"},null,-1)),(0,o.Lk)("button",{onClick:l[4]||(l[4]=(...e)=>s.openFileInput&&s.openFileInput(...e)),class:"fixed hover:bg-gray-800 p-3 rounded-full ml-10 mt-10"},[l[6]||(l[6]=(0,o.Lk)("i",{class:"text-2xl fas fa-camera text-white"},null,-1)),(0,o.Lk)("input",{onChange:l[3]||(l[3]=(...e)=>s.fileChange&&s.fileChange(...e)),ref:"fileInput",accept:"image/jpeg",type:"file",class:"hidden"},null,544)]),(0,o.Lk)("img",{class:"w-32 h-32 rounded-full",src:r.newImage},null,8,ue)])])])])])}var pe={name:"SetUpProfileOverlay",props:["showSetUpProfileModal"],data(){return{newImage:"default_profile.png"}},computed:{...(0,H.L8)("profilePage",["profile"])},methods:{...(0,H.i0)("warpnet",{editUserProfile:"editMyProfile"}),...(0,H.i0)("profilePage",["getImageUploadUrl","editMyProfile","loadTweets"]),handleKeyup(e){"Escape"===e.key&&this.$emit("update:showSetUpProfileModal",!1)},openFileInput(){this.$refs.fileInput.click()},async fileChange(){const e=this.$refs.fileInput.files[0],l=new FileReader;l.readAsDataURL(e),l.onload=()=>this.newImage=l.result,l.onerror=e=>alert(e)},async finishSetUpProfile(){const e={username:this.profile.username,avatar:this.newImage};await Promise.all([this.editMyProfile(e),this.loadTweets(this.profile.id),this.editUserProfile(e)]),this.$emit("update:showSetUpProfileModal",!1)}},mounted(){window.addEventListener("keyup",this.handleKeyup)},destroyed:function(){window.removeEventListener("keyup",this.handleKeyup)}};const ce=(0,ee.A)(pe,[["render",fe]]);var he=ce;const be={class:"fixed w-full h-full top-0 left-0 flex items-center justify-center"},ge={class:"modal-main bg-white mx-auto rounded-lg z-50 overflow-y-auto no-scrollbar",style:{height:"85%",width:"40%"}},me={class:"pl-1 pr-4 py-1 h-16 border-b-2 border-lightblue"},we={class:"flex flex-row mt-1 ml-4"},ke={class:"border-l-2 border-r-2 border-white"},xe={class:"relative",style:{height:"200px",display:"block"}},ve={key:0,class:"h-full max-h-full"},ye=["src"],Le={key:1,class:"bg-gray-400 h-full max-h-full"},Pe={class:"p-3 flex flex-col"},Ce={style:{"margin-top":"-80px"},class:"relative w-32 h-32 rounded-full mb-6"},Ue=["src"],Ee={class:"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3"},Me={class:"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3"},Fe={class:"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3"},_e={class:"w-full bg-lightest border-b-2 border-dark mb-24 py-1 px-3"};function Se(e,l,t,i,r,s){return(0,o.uX)(),(0,o.CE)("div",be,[(0,o.Lk)("div",{class:"absolute w-full h-full bg-gray-900 opacity-50",onClick:l[0]||(l[0]=(0,oe.D$)((l=>e.$emit("update:showEditProfileModal",!1)),["prevent"]))}),(0,o.Lk)("div",ge,[(0,o.Lk)("div",me,[(0,o.Lk)("button",{onClick:l[1]||(l[1]=e=>s.saveProfile()),class:"rounded-full bg-blue font-bold text-white mt-2 p-1 px-4 relative right-0 float-right focus:outline-none hover:bg-darkblue"}," Save "),(0,o.Lk)("div",we,[(0,o.Lk)("i",{onClick:l[2]||(l[2]=l=>e.$emit("update:showEditProfileModal",!1)),class:"fas fa-times text-blue text-2xl mb-8 mr-6 rounded-full bg-white p-2 px-3 hover:bg-lightblue"}),l[11]||(l[11]=(0,o.Lk)("p",{class:"text-xl pt-1 font-bold"},"Edit profile",-1))])]),(0,o.Lk)("div",ke,[(0,o.Lk)("div",xe,[l[13]||(l[13]=(0,o.Lk)("div",{class:"absolute w-full max-w-full h-full max-h-full bg-gray-600 opacity-50"},null,-1)),(0,o.Lk)("button",{onClick:l[4]||(l[4]=e=>s.openFileInput("backgroundFileInput")),class:"absolute hover:bg-gray-800 p-3 rounded-full",style:{"margin-left":"45%","margin-top":"80px"}},[l[12]||(l[12]=(0,o.Lk)("i",{class:"text-2xl fas fa-camera text-white"},null,-1)),(0,o.Lk)("input",{onChange:l[3]||(l[3]=e=>s.fileChange("backgroundFileInput","background_image")),ref:"backgroundFileInput",accept:"image/jpeg",type:"file",class:"hidden"},null,544)]),r.background_image?((0,o.uX)(),(0,o.CE)("div",ve,[(0,o.Lk)("img",{src:r.background_image,class:"h-full w-full object-cover"},null,8,ye)])):(0,o.Q3)("",!0),r.background_image?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Le))]),(0,o.Lk)("div",Pe,[(0,o.Lk)("div",Ce,[l[15]||(l[15]=(0,o.Lk)("div",{class:"absolute w-32 h-32 rounded-full bg-gray-600 opacity-50 border-4 border-white"},null,-1)),(0,o.Lk)("button",{onClick:l[6]||(l[6]=e=>s.openFileInput("imageUrlFileInput")),class:"absolute hover:bg-gray-800 p-3 rounded-full ml-10 mt-10"},[l[14]||(l[14]=(0,o.Lk)("i",{class:"text-2xl fas fa-camera text-white"},null,-1)),(0,o.Lk)("input",{onChange:l[5]||(l[5]=e=>s.fileChange("imageUrlFileInput","avatar")),ref:"imageUrlFileInput",accept:"image/jpeg",type:"file",class:"hidden"},null,544)]),(0,o.Lk)("img",{src:r.avatar,class:"w-32 h-32 rounded-full border-4 border-white"},null,8,Ue)]),(0,o.Lk)("div",Ee,[l[16]||(l[16]=(0,o.Lk)("label",{class:"text-dark"},"Name",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[7]||(l[7]=e=>r.username=e),class:"w-full bg-lightest text-lg focus:outline-none",type:"text"},null,512),[[oe.Jo,r.username]])]),(0,o.Lk)("div",Me,[l[17]||(l[17]=(0,o.Lk)("label",{class:"text-dark"},"Bio",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":l[8]||(l[8]=e=>r.bio=e),class:"w-full bg-lightest text-lg focus:outline-none",type:"text",placeholder:"Add your bio"},null,512),[[oe.Jo,r.bio]])]),(0,o.Lk)("div",Fe,[l[18]||(l[18]=(0,o.Lk)("label",{class:"text-dark"},"Website",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>r.website=e),class:"w-full bg-lightest text-lg focus:outline-none",type:"text",placeholder:"Add your website"},null,512),[[oe.Jo,r.website]])]),(0,o.Lk)("div",_e,[l[19]||(l[19]=(0,o.Lk)("label",{class:"text-dark"},"Birth date",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[10]||(l[10]=e=>r.birthdate=e),class:"w-full bg-lightest text-lg focus:outline-none",type:"text",placeholder:"Add your birth date (Eg: 2020-01-31)"},null,512),[[oe.Jo,r.birthdate]])])])])])])}var Xe=t(5093),Qe=t.n(Xe),Ie={name:"SetUpProfileOverlay",props:["showEditProfileModal"],data(){return{username:void 0,background_image:void 0,avatar:void 0,bio:void 0,website:void 0,birthdate:void 0}},computed:{...(0,H.L8)("profilePage",["profile"])},methods:{...(0,H.i0)("warpnet",{editUserProfile:"editMyProfile"}),...(0,H.i0)("profilePage",["getImageUploadUrl","editMyProfile","loadProfile","loadTweets"]),handleKeyup(e){"Escape"===e.key&&this.$emit("update:showSetUpProfileModal",!1)},openFileInput(e){this.$refs[e].click()},async fileChange(e,l){const t=this.$refs[e].files[0],o=new FileReader;o.readAsDataURL(t),o.onload=()=>this[l]=o.result,o.onerror=e=>alert(e)},async saveProfile(){const e={username:this.username,avatar:this.avatar,background_image:this.background_image,bio:this.bio,website:this.website,birthdate:Qe()(this.birthdate,"YYYY-MM-DD").format("YYYY-MM-DD")},l=await this.editMyProfile(e);await Promise.all([this.loadProfile(l.id),this.loadTweets(l.id),this.editUserProfile(e)]),this.background_image=l.background_image,this.avatar=l.avatar,this.$emit("update:showEditProfileModal",!1)}},mounted(){window.addEventListener("keyup",this.handleKeyup)},destroyed:function(){window.removeEventListener("keyup",this.handleKeyup)},created(){this.username=this.profile.username,this.background_image=this.profile.background_image,this.avatar=this.profile.avatar,this.bio=this.profile.bio,this.website=this.profile.website,this.birthdate=this.profile.birthdate}};const Te=(0,ee.A)(Ie,[["render",Se]]);var $e=Te,Ae=t(5587),je={name:"Profile",components:{SideNav:B.A,SearchBar:N.A,Tweets:te,SetUpProfileOverlay:he,EditProfileOverlay:$e,Loader:Ae.A},data(){return{showSetUpProfileModal:!1,showEditProfileModal:!1,isSelf:!1,followingLabel:"Following",loading:!0,noUser:!1,followers:[],following:[]}},computed:{...(0,H.L8)("warpnet",{userProfile:"profile",isMySelf:"isSelf"}),...(0,H.L8)("profilePage",{cursor:"cursorTweets"}),...(0,H.L8)("profilePage",["profile","joinedDate","tweets","followers","following"])},methods:{...(0,H.i0)("authentication",["loginUserIfAlreadyAuthenticated"]),...(0,H.i0)("profilePage",["loadProfile","loadTweets","loadMoreTweets","loadFollowing","loadFollowers"]),...(0,H.i0)("profilePage",{follow:"followUser",unfollow:"unfollowUser"}),gotoHome(){this.$router.push({name:"Home"})},sendMessage(){const e=`${this.userProfile.id}_${this.profile.id}`;this.$router.push({name:"Messages",params:{conversation:e}})},isFollower(){return this.followers.some((e=>e.id===this.userProfile.id))},isFollowed(){return this.following.some((e=>e.id===this.userProfile.id))},goToFollowing(){this.$router.push({name:"Following",params:{id:this.profile.id}})},goToFollowers(){this.$router.push({name:"Followers",params:{id:this.profile.id}})},setUpProfile(){this.showSetUpProfileModal=!0},editProfile(){this.showEditProfileModal=!0},async followUser(){await this.follow(this.profile.id).catch((e=>{console.error(`failed to follow [${this.profile.id}]`,e)})),await this.loadFollowing(this.profile.id)},async unfollowUser(){await this.unfollow(this.profile.id).catch((e=>{console.error(`failed to unfollow [${this.profile.id}]`,e)})),await this.loadFollowing(this.profile.id)},async loadMore(){await this.loadMoreTweets(20).catch((e=>{console.log(e)}))}},async created(){this.tweets.length>0&&(this.loading=!1),await this.loginUserIfAlreadyAuthenticated();const e=this.$route.params.id;this.isSelf=this.isMySelf(e),await Promise.all([this.loadFollowing(e),this.loadFollowers(e),this.loadProfile(e),this.loadTweets(e).then((()=>this.loading=!1)).catch((()=>{this.tweets=[],this.loading=!1,this.noUser=!0}))])}};const De=(0,ee.A)(je,[["render",O]]);var We=De}}]);
//# sourceMappingURL=profile.aee7b680.js.map