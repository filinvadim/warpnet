{"version":3,"file":"js/320.45dab527.js","mappings":"2MAEIA,MAAM,qE,GAOJA,MAAM,8DACNC,MAAA,4B,GAEKD,MAAM,uB,GAqBNA,MAAM,a,GAMJA,MAAM,iD,GACJA,MAAM,Y,EAxCrB,Q,0CACEE,EAAAA,EAAAA,IAkEM,MAlENC,EAkEM,EA/DJC,EAAAA,EAAAA,IAGO,OAFLJ,MAAM,gDACLK,QAAKC,EAAA,KAAAA,EAAA,IANZC,EAAAA,EAAAA,KAAAC,GAMsBC,EAAAC,MAAM,gCAAgC,IAAjC,iBAEvBN,EAAAA,EAAAA,IA0DM,MA1DNO,EA0DM,EAtDJP,EAAAA,EAAAA,IAmBM,MAnBNQ,EAmBM,CAjBiB,OAAbC,EAAAC,UAAkC,wBAAbD,EAAAC,WAAQ,WADrCZ,EAAAA,EAAAA,IAMS,UAnBjBa,IAAA,EAeWV,QAAKC,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,gCAAgC,IAC9CV,MAAM,8HACP,oBAjBTgB,EAAAA,EAAAA,IAAA,OAqB6B,OAAbH,EAAAC,UAAkC,wBAAbD,EAAAC,WAAQ,WADrCZ,EAAAA,EAAAA,IAMS,UA1BjBa,IAAA,EAsBWV,QAAKC,EAAA,KAAAA,EAAA,OAAAW,IAAEC,EAAAC,oBAAAD,EAAAC,sBAAAF,IACRjB,MAAM,6HACP,YAxBTgB,EAAAA,EAAAA,IAAA,oBA2BQZ,EAAAA,EAAAA,IAGK,KAFHJ,MAAM,4CACNC,MAAA,uB,aAIJG,EAAAA,EAAAA,IAgCM,MAhCNgB,EAgCM,cA/BJhB,EAAAA,EAAAA,IAEM,OAFDJ,MAAM,0CAAwC,EACjDI,EAAAA,EAAAA,IAAwD,KAArDJ,MAAM,sBAAqB,4BAAsB,iBAEtDI,EAAAA,EAAAA,IAA+D,KAA5DJ,MAAM,aAAY,0CAAsC,KAE3DI,EAAAA,EAAAA,IAyBM,MAzBNiB,EAyBM,EAxBJjB,EAAAA,EAAAA,IAuBM,MAvBNkB,EAuBM,cAtBJlB,EAAAA,EAAAA,IAEO,OADLJ,MAAM,0DAAwD,WAEhEI,EAAAA,EAAAA,IAaS,UAZNC,QAAKC,EAAA,KAAAA,EAAA,OAAAW,IAAEC,EAAAK,eAAAL,EAAAK,iBAAAN,IACRjB,MAAM,8CACNC,MAAA,0D,cAEAG,EAAAA,EAAAA,IAAiD,KAA9CJ,MAAM,qCAAmC,WAC5CI,EAAAA,EAAAA,IAME,SALCoB,SAAMlB,EAAA,KAAAA,EAAA,OAAAW,IAAEC,EAAAO,YAAAP,EAAAO,cAAAR,IACTS,IAAI,YACJC,OAAO,UACPC,KAAK,OACL5B,MAAM,U,aAGVI,EAAAA,EAAAA,IAIE,OAHAJ,MAAM,yBACL6B,IAAKhB,EAAAC,SACNgB,IAAI,mB,OA7DlBC,Y,eAyEA,GACEC,KAAM,sBACNC,MAAO,CACLC,sBAAuB,CACrBN,KAAMO,QACNC,UAAU,IAGdC,IAAAA,GACE,MAAO,CACLvB,SAAU,sBACVwB,QAAS,CAAC,EAEd,EACAC,QAAS,CACPC,WAAAA,CAAYC,GACQ,WAAdA,EAAM1B,KACR2B,KAAKhC,MAAM,gCAAgC,EAE/C,EACAa,aAAAA,GACEmB,KAAKC,MAAMC,UAAUC,OACvB,EACA,gBAAMpB,GACJ,MAAMqB,EAAOJ,KAAKC,MAAMC,UAAUG,MAAM,GAClCC,EAAS,IAAIC,WACnBD,EAAOE,cAAcJ,GACrBE,EAAOG,OAAS,IAAMT,KAAK5B,SAAWkC,EAAOI,OAC7CJ,EAAOK,QAAWC,GAAUC,MAAMD,EACpC,EACA,wBAAMnC,GACJ,MAAMqC,EAAI,CACRC,SAAUf,KAAKJ,QAAQmB,SACvBC,WAAY,IAGdF,EAAEE,iBAAmBC,EAAAA,EAAeC,YAAYlB,KAAK5B,UAErD4B,KAAKJ,cAAgBqB,EAAAA,EAAeE,cAAcL,GAElDd,KAAK5B,eAAiB6C,EAAAA,EAAeG,SAAS,CAACC,OAAOrB,KAAKJ,QAAQ0B,GAAIjD,IAAI2B,KAAKJ,QAAQoB,aAExFhB,KAAKhC,MAAM,gCAAgC,EAC7C,GAEFuD,OAAAA,GACEC,OAAOC,iBAAiB,QAASzB,KAAKF,YACxC,EACA4B,aAAAA,GACEF,OAAOG,oBAAoB,QAAS3B,KAAKF,YAC3C,G,UCtHF,MAAM8B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://warpnet-frontend/./src/components/SetUpProfileOverlay.vue","webpack://warpnet-frontend/./src/components/SetUpProfileOverlay.vue?44d3"],"sourcesContent":["<template>\n  <div\n    class=\"fixed w-full h-full top-0 left-0 flex items-center justify-center\"\n  >\n    <div\n      class=\"absolute w-full h-full bg-gray-900 opacity-50\"\n      @click.prevent=\"$emit('update:showSetUpProfileModal', false)\"\n    ></div>\n    <div\n      class=\"modal-main bg-white mx-auto rounded-lg z-50 overflow-y-auto\"\n      style=\"height:80%; width:40%\"\n    >\n      <div class=\"pl-1 pr-4 py-1 h-12\">\n        <button\n          v-if=\"newImage === null || newImage === 'default_profile.png'\"\n          @click=\"$emit('update:showSetUpProfileModal', false)\"\n          class=\"rounded-full bg-white font-bold text-blue mt-2 p-1 px-3 relative right-0 float-right focus:outline-none hover:bg-lightblue\"\n        >\n          Skip for now\n        </button>\n        <button\n          v-if=\"newImage !== null && newImage !== 'default_profile.png'\"\n          @click=\"finishSetUpProfile\"\n          class=\"rounded-full bg-blue font-bold text-white mt-2 p-1 px-4 relative right-0 float-right focus:outline-none hover:bg-darkblue\"\n        >\n          Next\n        </button>\n        <i\n          class=\"relative fab text-blue text-2xl mt-2 mb-8\"\n          style=\"margin-left: 50%\"\n        ></i>\n      </div>\n\n      <div class=\"pt-5 px-8\">\n        <div class=\"flex justify-between items-center mb-5\">\n          <p class=\"text-2xl font-bold\">Pick a profile picture</p>\n        </div>\n        <p class=\"text-dark\">Have a favorite selfie? Upload it now.</p>\n\n        <div class=\"mt-16 w-full flex items-center justify-center\">\n          <div class=\"relative\">\n            <div\n              class=\"absolute w-32 h-32 rounded-full bg-gray-600 opacity-50\"\n            ></div>\n            <button\n              @click=\"openFileInput\"\n              class=\"absolute hover:bg-gray-800 p-3 rounded-full\"\n              style=\"left: 50%; top: 50%; transform: translate(-50%, -50%)\"\n            >\n              <i class=\"text-2xl fas fa-camera text-white\"></i>\n              <input\n                @change=\"fileChange\"\n                ref=\"fileInput\"\n                accept=\"image/*\"\n                type=\"file\"\n                class=\"hidden\"\n              />\n            </button>\n            <img \n              class=\"w-32 h-32 rounded-full\" \n              :src=\"newImage\"\n              alt=\"Profile picture\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {warpnetService} from \"@/service/service\";\n\nexport default {\n  name: \"SetUpProfileOverlay\",\n  props: {\n    showSetUpProfileModal: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data() {\n    return {\n      newImage: \"default_profile.png\",\n      profile: {},\n    };\n  },\n  methods: {\n    handleKeyup(event) {\n      if (event.key === \"Escape\") {\n        this.$emit(\"update:showSetUpProfileModal\", false);\n      }\n    },\n    openFileInput() {\n      this.$refs.fileInput.click();\n    },\n    async fileChange() {\n      const file = this.$refs.fileInput.files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => this.newImage = reader.result;\n      reader.onerror = (error) => alert(error);\n    },\n    async finishSetUpProfile() {\n      const p = {\n        username: this.profile.username,\n        avatar_key: \"\",\n      };\n\n      p.avatar_key = await warpnetService.uploadImage(this.newImage)\n\n      this.profile = await warpnetService.editMyProfile(p);\n\n      this.newImage = await warpnetService.getImage({userId:this.profile.id, key:this.profile.avatar_key})\n\n      this.$emit(\"update:showSetUpProfileModal\", false);\n    },\n  },\n  mounted() {\n    window.addEventListener(\"keyup\", this.handleKeyup);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keyup\", this.handleKeyup);\n  },\n};\n</script>\n","import { render } from \"./SetUpProfileOverlay.vue?vue&type=template&id=6902c79b\"\nimport script from \"./SetUpProfileOverlay.vue?vue&type=script&lang=js\"\nexport * from \"./SetUpProfileOverlay.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","onClick","_cache","_withModifiers","$event","_ctx","$emit","_hoisted_2","_hoisted_3","$data","newImage","key","_createCommentVNode","args","$options","finishSetUpProfile","_hoisted_4","_hoisted_5","_hoisted_6","openFileInput","onChange","fileChange","ref","accept","type","src","alt","_hoisted_7","name","props","showSetUpProfileModal","Boolean","required","data","profile","methods","handleKeyup","event","this","$refs","fileInput","click","file","files","reader","FileReader","readAsDataURL","onload","result","onerror","error","alert","p","username","avatar_key","warpnetService","uploadImage","editMyProfile","getImage","userId","id","mounted","window","addEventListener","beforeUnmount","removeEventListener","__exports__","render"],"sourceRoot":""}