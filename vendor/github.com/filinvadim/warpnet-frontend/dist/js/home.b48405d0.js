"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[962],{9810:function(e,t,l){l.d(t,{A:function(){return y}});var o=l(641);const r={class:"hidden md:block w-1/3 h-full border-l border-lighter px-6 py-2 relative min-w-max"};function i(e,t,l,i,a,n){const s=(0,o.g2)("SearchBar"),u=(0,o.g2)("WhoToFollow");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(s),(0,o.bF)(u)])}var a=l(6159),n=(l(4114),l(33));const s={class:"w-full rounded-lg bg-lightest my-4"},u=["onClick","src"],d={class:"hidden lg:block ml-4"},c=["onClick"],f={class:"text-left text-sm leading-tight text-dark"},h=["onClick"];function p(e,t,l,r,i,a){return(0,o.uX)(),(0,o.CE)("div",s,[t[0]||(t[0]=(0,o.Lk)("div",{class:"p-3"},[(0,o.Lk)("p",{class:"text-lg font-bold"},"Who to follow")],-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.profiles,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:"w-full flex hover:bg-lighter p-3 border-t border-lighter"},[(0,o.Lk)("img",{onClick:l=>e.$router.push(`/${t.id}`),src:t.avatar||"default_profile.png",class:"w-12 h-12 rounded-full cursor-pointer",alt:""},null,8,u),(0,o.Lk)("div",d,[(0,o.Lk)("p",{onClick:l=>e.$router.push(`/${t.id}`),class:"text-left text-sm font-bold leading-tight cursor-pointer"},(0,n.v_)(t.username),9,c),(0,o.Lk)("p",f,(0,n.v_)(t.id.slice(0,8))+"...",1)]),(0,o.Lk)("button",{onClick:e=>a.followUser(t.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Follow ",8,h)])))),128)),t[1]||(t[1]=(0,o.Lk)("button",{class:"p-3 w-full hover:bg-lighter text-left text-blue border-t border-lighter"}," Show More ",-1))])}var w=l(6278),m={name:"WhoToFollow",computed:{...(0,w.L8)("warpnet",{userProfile:"profile",isMySelf:"isSelf"}),...(0,w.L8)("profilePage",{profiles:"whotofollow",cursor:"whotofollowCursor"})},methods:{...(0,w.i0)("profilePage",["loadUsers"]),...(0,w.i0)("profilePage",{follow:"followUser",unfollow:"unfollowUser"}),async followUser(e){await this.follow(e).catch((t=>{console.error(`failed to follow [${e}]`,t)})),await this.$store.dispatch("warpnet/loadFollowing",this.userProfile.id)},async unfollowUser(e){await this.unfollow(e).catch((t=>{console.error(`failed to unfollow [${e}]`,t)})),await this.$store.dispatch("warpnet/loadFollowing",this.userProfile.id)}},async created(){let e;await this.$store.dispatch("authentication/loginUserIfAlreadyAuthenticated"),e="Home"===this.$route.name?this.userProfile.id:this.$route.params.id,console.log(e,"???????????????????????/"),await this.$store.dispatch("warpnet/loadUsers",{limit:20,cursor:this.cursor||"",user_id:e})}},b=l(6262);const g=(0,b.A)(m,[["render",p]]);var x=g,k={name:"DefaultRightBar",components:{SearchBar:a.A,WhoToFollow:x}};const v=(0,b.A)(k,[["render",i]]);var y=v},6159:function(e,t,l){l.d(t,{A:function(){return u}});var o=l(641),r=l(3751);function i(e,t,l,i,a,n){return(0,o.uX)(),(0,o.CE)("div",null,[t[2]||(t[2]=(0,o.Lk)("i",{class:"fas fa-search absolute mt-2 ml-5 text-sm text-light"},null,-1)),(0,o.bo)((0,o.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4",placeholder:"Search Tweet","onUpdate:modelValue":t[0]||(t[0]=e=>a.query=e),onKeyup:t[1]||(t[1]=(0,r.jR)((e=>n.submit()),["enter"]))},null,544),[[r.Jo,a.query]])])}l(4114);var a={name:"SearchBar",data(){return{query:""}},methods:{submit(){this.$router.push({name:"Search",query:{q:this.query}})}}},n=l(6262);const s=(0,n.A)(a,[["render",i]]);var u=s},132:function(e,t,l){l.r(t),l.d(t,{default:function(){return F}});var o=l(641),r=l(3751),i=l(33);const a={id:"app",class:"flex container h-screen w-full"},n={class:"w-full h-full overflow-y-scroll no-scrollbar"},s={class:"px-5 py-3 border-b-8 border-lighter flex"},u={class:"flex-none mr-4"},d=["src"],c={class:"w-full relative"},f={key:0,class:"flex flex-col items-center justify-center w-full pt-10 px-6"};function h(e,t,l,h,p,w){const m=(0,o.g2)("SideNav"),b=(0,o.g2)("Loader"),g=(0,o.g2)("Timeline"),x=(0,o.g2)("DefaultRightBar"),k=(0,o.gN)("scroll");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(m),(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",n,[t[4]||(t[4]=(0,o.Lk)("div",{class:"px-5 py-3 border-b border-lighter flex items-center justify-between"},[(0,o.Lk)("h1",{class:"text-xl font-bold"},"Home"),(0,o.Lk)("i",{class:"far fa-star text-xl text-blue"})],-1)),(0,o.Lk)("div",s,[(0,o.Lk)("div",u,[(0,o.Lk)("img",{src:`${e.profile.avatar||"default_profile.png"}`,class:"flex-none w-12 h-12 rounded-full"},null,8,d)]),(0,o.Lk)("div",c,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>p.tweet.text=e),placeholder:"What's happening?",class:"w-full focus:outline-none mt-3 pb-3"},null,512),[[r.Jo,p.tweet.text]]),t[2]||(t[2]=(0,o.Lk)("div",null,[(0,o.Lk)("i",{class:"text-lg text-blue mr-4 far fa-image"}),(0,o.Lk)("i",{class:"text-lg text-blue mr-4 fas fa-film"}),(0,o.Lk)("i",{class:"text-lg text-blue mr-4 far fa-chart-bar"}),(0,o.Lk)("i",{class:"text-lg text-blue mr-4 far fa-smile"})],-1)),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>w.addNewTweet&&w.addNewTweet(...e)),type:"button",class:(0,i.C4)(["h-10 px-4 text-white font-semibold bg-blue hover:bg-darkblue rounded-full absolute bottom-0 right-0",""+(this.tweet.text?"":" opacity-50 cursor-not-allowed")])}," Tweet ",2)])]),(0,o.bF)(b,{loading:p.loading},null,8,["loading"]),p.loading||0!==e.timeline.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",f,t[3]||(t[3]=[(0,o.Fv)('<p class="font-bold text-lg">Welcome to Warpnet!</p><p class="text-sm text-dark text-center"> This is the best place to see whatâ€™s happening in your world. Find some people and topics to follow now. </p><button class="text-white bg-blue rounded-full font-semibold mt-4 px-4 py-2 hover:bg-darkblue"><p class="hidden lg:block">Let&#39;s go!</p><i class="fas fa-plus lg:hidden"></i></button>',3)]))),(0,o.bF)(g,{timeline:e.timeline},null,8,["timeline"])])),[[k,w.loadMore,"bottom"]]),(0,o.bF)(x)])}var p=l(8709),w=l(9810);function m(e,t,l,r,i,a){const n=(0,o.g2)("Tweet"),s=(0,o.g2)("Retweet");return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.timeline,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id},[e.is_retweet_of?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(n,{key:0,tweet:e},null,8,["tweet"])),e.is_retweet_of?((0,o.uX)(),(0,o.Wv)(s,{key:1,tweet:e},null,8,["tweet"])):(0,o.Q3)("",!0)])))),128))])}var b=l(6278),g=l(3613),x=l(4937),k={name:"Timeline",props:["timeline"],components:{Tweet:g.A,Retweet:x.A},computed:{...(0,b.L8)("warpnet",{cursor:"cursorTimeline"}),...(0,b.L8)("warpnet",["profile"])}},v=l(6262);const y=(0,v.A)(k,[["render",m]]);var L=y,C=l(5587),T={name:"Home",components:{SideNav:p.A,DefaultRightBar:w.A,Timeline:L,Loader:C.A},data(){return{tweet:{text:"",root_id:""},loading:!0}},computed:{...(0,b.L8)("warpnet",{cursor:"cursorTimeline"}),...(0,b.L8)("warpnet",["profile","timeline"])},methods:{...(0,b.i0)("authentication",["loginUserIfAlreadyAuthenticated"]),...(0,b.i0)("warpnet",["createTweet","loadMyTimeline","loadMoreMyTimeline"]),async addNewTweet(){this.tweet.text&&(await this.createTweet({text:this.tweet.text}),this.tweet.text="")},async loadMore(){await this.loadMoreMyTimeline(10).catch((e=>{console.error(e)}))}},async created(){this.timeline.length>0&&(this.loading=!1),await this.loginUserIfAlreadyAuthenticated(),await this.loadMyTimeline().then((()=>this.loading=!1))}};const A=(0,v.A)(T,[["render",h]]);var F=A}}]);
//# sourceMappingURL=home.b48405d0.js.map