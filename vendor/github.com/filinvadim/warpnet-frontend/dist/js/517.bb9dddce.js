"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[517],{517:function(e,s,t){t.r(s),t.d(s,{default:function(){return b}});var l=t(641),o=t(3751);const r={class:"fixed w-full h-full top-0 left-0 flex items-center justify-center"},a={class:"modal-main bg-white mx-auto rounded-lg z-50 overflow-y-auto w-full sm:w-3/5 md:w-2/5 max-h-full"},n={class:"pl-1 pr-4 py-1 h-16 border-b-2 border-lightblue"},i={class:"flex flex-row mt-1 ml-4"},d={class:"border-l-2 border-r-2 border-white"},u={class:"p-3 flex flex-col border-b"},c={class:"lg:block w-full"},h={key:0,class:"flex flex-col items-center justify-center w-full pt-10"};function f(e,s,t,f,p,g){const w=(0,l.g2)("Loader"),m=(0,l.g2)("ResultsNewMessage");return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.Lk)("div",{class:"absolute w-full h-full bg-gray-900 opacity-50",onClick:s[0]||(s[0]=(0,o.D$)((s=>e.$emit("update:showNewMessageModal",!1)),["prevent"]))}),(0,l.Lk)("div",a,[(0,l.Lk)("div",n,[(0,l.Lk)("div",i,[(0,l.Lk)("i",{onClick:s[1]||(s[1]=s=>e.$emit("update:showNewMessageModal",!1)),class:"fas fa-times text-blue text-2xl w-10 h-10 mr-1 xl:mr-6 mt-1 pt-1 pl-3 rounded-full bg-white hover:bg-lightblue"}),s[3]||(s[3]=(0,l.Lk)("p",{class:"text-xl pt-1 font-bold mt-1"},"New message",-1))])]),(0,l.Lk)("div",d,[(0,l.Lk)("div",u,[(0,l.Lk)("div",c,[s[4]||(s[4]=(0,l.Lk)("i",{class:"fas fa-search absolute mt-3 ml-5 text-m text-light"},null,-1)),(0,l.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-m focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue",placeholder:"Search People (NOT WORKING)",type:"search",onKeyup:s[2]||(s[2]=(0,o.jR)((e=>g.submitSearch()),["enter"]))},null,32)])]),(0,l.bF)(w,{loading:p.loading},null,8,["loading"]),!p.loading&&this.users&&0===this.users.length?((0,l.uX)(),(0,l.CE)("div",h,s[5]||(s[5]=[(0,l.Lk)("div",{class:"w-3/5"},[(0,l.Lk)("p",{class:"font-bold text-lg"},"No results"),(0,l.Lk)("p",{class:"text-sm text-dark"}," The query you entered did not bring up any results. ")],-1)]))):(0,l.Q3)("",!0),(0,l.bF)(m,{results:this.users,profileId:this.profileId,onSelected:g.selected},null,8,["results","profileId","onSelected"])])])])}var p=t(6278),g={name:"NewMessageOverlay",components:{ResultsNewMessage:(0,l.$V)((()=>t.e(299).then(t.bind(t,7299)))),Loader:(0,l.$V)((()=>t.e(587).then(t.bind(t,5587))))},props:["showNewMessageModal","profileId"],data(){return{loading:!1,users:[],usersCursor:""}},methods:{...(0,p.i0)("warpnet",["getUsers"]),async openChat(e){this.$emit("update:showNewMessageModal",!1)},async submitSearch(){},selected(e){this.$emit("selected",e)}},async created(){console.log("loading component:",this.$options.name),this.loading=!0;try{const e=await this.getUsers(this.profileId,20,this.usersCursor);this.users=e.users||[],this.usersCursor=e.cursor}catch(e){console.error("failed to fetch users",e)}finally{this.loading=!1}},handleEsc(e){"Escape"!==e.key&&27!==e.keyCode||this.$emit("update:showNewMessageModal",!1)},mounted(){window.addEventListener("keyup",this.handleEsc)},unmounted(){window.removeEventListener("keyup",this.handleEsc)}},w=t(6262);const m=(0,w.A)(g,[["render",f]]);var b=m}}]);
//# sourceMappingURL=517.bb9dddce.js.map