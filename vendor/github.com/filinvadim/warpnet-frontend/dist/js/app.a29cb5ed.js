(function(){var e={5358:function(e,t,s){var o={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":9756,"./ar-tn.js":9756,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":6464,"./cs.js":6464,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":8298,"./en-ca.js":8298,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":527,"./fi.js":527,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":5498,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":5498,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":748,"./sw.js":748,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":4856,"./uz-latn.js":4856,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function l(e){var t=i(e);return s(t)}function i(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}l.keys=function(){return Object.keys(o)},l.resolve=i,e.exports=l,l.id=5358},9552:function(e,t,s){"use strict";var o=s(3751),l=s(641);const i={id:"app",class:"w-full h-full"};function r(e,t,s,o,r,a){const n=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",i,[((0,l.uX)(),(0,l.Wv)(n,{key:e.$route.fullPath}))])}var a={name:"App"},n=s(6262);const c=(0,n.A)(a,[["render",r]]);var d=c,u=(s(4114),s(5220)),f=s(33);const p={class:"flex w-full h-screen flex-col-reverse md:flex-row"},m={class:"flex w-full md:w-1/2 h-full"},g={class:"flex items-center justify-center w-full h-full"},h={class:"w-full md:w-1/2 flex flex-col font-bold p-5 md:p-0"},w={key:0,class:"fixed w-full h-full top-0 left-0 flex items-center justify-center"},b={class:"modal-main bg-white w-11/12 max-w-md mx-auto rounded-lg z-50 overflow-y-auto max-h-full"},v={key:0},k={class:"pl-1 pr-4 py-1 h-12"},x={class:"pt-5 px-8"},y={class:"w-full bg-lightblue border-b-2 border-dark mb-8 p-2"},L={key:1},_={class:"pl-1 pr-4 py-1 h-12"},E={key:2},S={class:"pl-1 pr-4 py-1 h-12"},T={class:"pt-5 px-8"},C={class:"w-full bg-lightblue border-b-2 border-dark p-2"},M=["type"],j={key:3},P={class:"pl-1 pr-4 py-1 h-12"},O={class:"pt-5 px-8"};function A(e,t,s,i,r,a){const n=(0,l.g2)("LogInComponent"),c=(0,l.gN)("escape");return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",p,[t[28]||(t[28]=(0,l.Fv)('<div class="flex w-full md:w-1/2 h-full bg-blue p-5 md:p-0"><div class="flex items-center justify-center w-full h-full"><div class="flex flex-col"><div class="flex items-center"><i class="fas fa-search text-white text-2xl mr-5"></i><p class="text-white font-bold text-xl">Follow your interests.</p></div><div class="flex items-center mt-10"><i class="fas fa-user-friends text-white text-2xl mr-4"></i><p class="text-white font-bold text-xl"> Hear what people are talking about. </p></div><div class="flex items-center mt-10"><i class="fas fa-comment text-white text-2xl mr-5"></i><p class="text-white font-bold text-xl">Join the conversation.</p></div></div></div></div>',1)),(0,l.Lk)("div",m,[(0,l.Lk)("div",g,[(0,l.Lk)("div",h,[t[12]||(t[12]=(0,l.Lk)("p",{class:"text-3xl mb-12"}," Dive deep into the Warp and see what happens... ",-1)),t[13]||(t[13]=(0,l.Lk)("p",null,"Join Warpnet today.",-1)),r.isFirstRun?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t[0]||(t[0]=(0,o.D$)((t=>e.setSignupStep("step1")),["prevent"])),class:"rounded-full bg-blue font-bold text-lg text-white mt-4 p-3 hover:bg-darkblue"}," Sign up ")):((0,l.uX)(),(0,l.Wv)(n,{key:1}))])])]),""!==e.showModal?((0,l.uX)(),(0,l.CE)("div",w,[(0,l.Lk)("div",{class:"absolute w-full h-full bg-gray-900 opacity-50",onClick:t[1]||(t[1]=(0,o.D$)((e=>a.setSignUpStep("")),["prevent"]))}),(0,l.Lk)("div",b,["step1"===e.showModal?((0,l.uX)(),(0,l.CE)("div",v,[(0,l.Lk)("div",k,[(0,l.Lk)("button",{onClick:t[2]||(t[2]=e=>a.setSignUpStep("step2")),class:(0,f.C4)(["rounded-full bg-blue font-bold text-white mt-2 p-1 pl-3 pr-3 relative right-0 float-right hover:bg-darkblue",""+(r.username?"":"opacity-50 cursor-not-allowed")])}," Next ",2),t[14]||(t[14]=(0,l.Lk)("i",{class:"flex justify-center fab text-blue text-2xl mt-2 mb-8"},null,-1))]),(0,l.Lk)("div",x,[t[16]||(t[16]=(0,l.Lk)("div",{class:"flex justify-between items-center pb-8"},[(0,l.Lk)("p",{class:"text-2xl font-bold"},"Create your account")],-1)),(0,l.Lk)("div",y,[t[15]||(t[15]=(0,l.Lk)("p",{class:"text-dark"},"Username",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.username=e),class:"w-full bg-lightblue text-lg",type:"text"},null,512),[[o.Jo,r.username]])])])])):(0,l.Q3)("",!0),"step2"===e.showModal?((0,l.uX)(),(0,l.CE)("div",L,[(0,l.Lk)("div",_,[(0,l.Lk)("button",{onClick:t[4]||(t[4]=e=>a.setSignUpStep("step1")),class:"absolute rounded-full p-2 pl-3 hover:bg-lightblue"},t[17]||(t[17]=[(0,l.Lk)("i",{class:"fas fa-arrow-left text-blue"},null,-1)])),(0,l.Lk)("button",{onClick:t[5]||(t[5]=e=>a.setSignUpStep("step3")),class:"rounded-full bg-blue font-bold text-white mt-2 p-1 pl-3 pr-3 relative right-0 float-right hover:bg-darkblue"}," Next "),t[18]||(t[18]=(0,l.Lk)("i",{class:"flex justify-center fab text-blue text-2xl mt-2 mb-8"},null,-1))]),t[19]||(t[19]=(0,l.Fv)('<div class="pt-5 px-8"><div class="flex justify-between items-center pb-8"><p class="text-2xl font-bold">Customize your experience</p></div><div class="mt-5 mb-8"><p class="font-bold text-xl mb-1">Get more out of Warpnet</p><div class="flex justify-between items-top"><p> TODO. </p><input class="mt-1 ml-2 mr-2" type="checkbox"></div></div><div class="mt-5 mb-8"><p class="font-bold text-xl mb-1">Connect with people you know</p><div class="flex justify-between items-top"><p> TODO. </p><input class="mt-1 ml-2 mr-2" type="checkbox"></div></div><div class="mt-5 mb-5"><p class="font-bold text-xl mb-1">Personalized ads</p><div class="flex justify-between items-top"><p> You will always see ads on Warpnet based on your Warpnet activity. When this setting is enabled, Warpnet may further personalise ads from Warpnet advertisers, on and off Warpnet, by combining your Warpnet activity with other online activity and information from our partners. </p><input class="mt-1 ml-2 mr-2" type="checkbox"></div></div></div>',1))])):(0,l.Q3)("",!0),"step3"===e.showModal?((0,l.uX)(),(0,l.CE)("div",E,[(0,l.Lk)("div",S,[(0,l.Lk)("button",{onClick:t[6]||(t[6]=e=>a.setSignUpStep("step2")),class:"absolute rounded-full p-2 pl-3 hover:bg-lightblue"},t[20]||(t[20]=[(0,l.Lk)("i",{class:"fas fa-arrow-left text-blue"},null,-1)])),(0,l.Lk)("button",{onClick:t[7]||(t[7]=e=>a.setSignUpStep("step4")),class:"rounded-full bg-blue font-bold text-white mt-2 p-1 pl-3 pr-3 relative right-0 float-right hover:bg-darkblue"}," Next "),t[21]||(t[21]=(0,l.Lk)("i",{class:"flex justify-center fab text-blue text-2xl mt-2 mb-8"},null,-1))]),(0,l.Lk)("div",T,[t[23]||(t[23]=(0,l.Lk)("div",{class:"flex justify-between items-center pb-4"},[(0,l.Lk)("p",{class:"text-2xl font-bold"},"You'll need a password")],-1)),(0,l.Lk)("div",C,[t[22]||(t[22]=(0,l.Lk)("p",{class:"leading-tight text-dark"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.password=e),class:"w-full bg-lightblue text-lg",type:""+(r.revealPassword?"text":"password")},null,8,M),[[o.hp,r.password]])]),(0,l.Lk)("button",{onClick:t[9]||(t[9]=e=>r.revealPassword=!r.revealPassword),class:"text-blue pl-2"}," Reveal password ")])])):(0,l.Q3)("",!0),"step4"===e.showModal?((0,l.uX)(),(0,l.CE)("div",j,[(0,l.Lk)("div",P,[(0,l.Lk)("button",{onClick:t[10]||(t[10]=e=>a.setSignUpStep("step3")),class:"absolute rounded-full p-2 pl-3 hover:bg-lightblue"},t[24]||(t[24]=[(0,l.Lk)("i",{class:"fas fa-arrow-left text-blue"},null,-1)])),t[25]||(t[25]=(0,l.Lk)("p",{class:"flex items-start ml-12 p-2 text-xl font-extrabold"}," Step 4 of 5 ",-1))]),(0,l.Lk)("div",O,[t[26]||(t[26]=(0,l.Lk)("div",{class:"flex justify-between items-center pb-8"},[(0,l.Lk)("p",{class:"text-2xl font-bold"},"Create your account")],-1)),t[27]||(t[27]=(0,l.Lk)("p",null,[(0,l.eW)(" By signing up, you agree to our "),(0,l.Lk)("a",{href:"#",class:"text-blue"},"Terms"),(0,l.eW)(", "),(0,l.Lk)("a",{href:"#",class:"text-blue"},"Privacy Policy"),(0,l.eW)(" and ")],-1)),(0,l.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>a.signMeUp&&a.signMeUp(...e)),class:"w-full rounded-full mt-4 py-3 bg-blue text-white font-bold hover:bg-darkblue"}," Sign up ")])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)])),[[c,a.esc]])}var N=s(6278),R=s(7583),I=(s(6573),s(8100),s(7936),s(7467),s(4732),s(9577),s(7526)),U=s(5380),W=s(8287);let $;function D(){return $||($=new F("ws://localhost:4002/v1/api/ws")),$}class F{constructor(e){this.dh=U.getDiffieHellman("modp14"),this.dh.generateKeys(),this.url=e,this.publicKey=this.dh.getPublicKey(),this.externalPublicKey=null,this.aesKey=null,this.socket=null,this.secretRenew=!1,this.messagesMap=new Map([["",{}]])}splitMessage(e){let t=e.split(":");return 2!==t.length&&(console.error("error response:",e),alert(e)),t}async deriveKey(e,t){const s=await crypto.subtle.importKey("raw",e,"HKDF",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"HKDF",salt:(new TextEncoder).encode(t),info:new Uint8Array,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async encryptMessage(e,t){const s=crypto.getRandomValues(new Uint8Array(12)),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:s},e,(new TextEncoder).encode(t)),l=W.Buffer.from(new Uint8Array(o)),i=W.Buffer.from(s),r=`${I.fromByteArray(l)}:${I.fromByteArray(i)}`;return r}async decryptMessage(e,t,s){const o=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},e,t);return(new TextDecoder).decode(o)}async onMessage(e){console.log("Message received:",e.data);const t="string"===typeof e.data?e.data:JSON.stringify(e.data),s=W.Buffer.from(t,"base64");if(!this.aesKey){console.log("Websocket received server public key"),this.externalPublicKey=s;const e=Q();return await this.computeSecret(e),void console.log("Websocket computed shared secret")}const[o,l]=this.splitMessage(t),i=W.Buffer.from(o,"base64"),r=W.Buffer.from(l,"base64");let a="";try{a=await this.decryptMessage(this.aesKey,i,r)}catch(c){return void console.error("Error decrypting message:",c.message)}let n=null;try{n=JSON.parse(a)}catch(d){return console.error("JSON parsing:",d.message),void this.socket.send(d.message)}console.log("received message:",n),n&&n.body&&(n.message_id?(n.body.token&&!this.secretRenew&&(await this.computeSecret(n.body.token),this.secretRenew=!0,console.log("secret renewed")),n.body||console.error("Received invalid message structure - missing data value"),this.messagesMap.set(n.message_id,n.body)):console.error("Received no message id for message:",n))}onError(e){console.error("WebSocket error:",e)}onClose(){console.log("WebSocket connection closed")}close(){this.socket&&(this.socket.removeEventListener("open",this.onOpen.bind(this)),this.socket.removeEventListener("close",this.onClose.bind(this)),this.socket.removeEventListener("message",this.onMessage.bind(this)),this.socket.removeEventListener("error",this.onError.bind(this)),this.socket.close(),this.socket=null)}async computeSecret(e){const t=this.dh.computeSecret(this.externalPublicKey);this.aesKey=await this.deriveKey(t,e)}connect(){console.log("connect called");try{this.socket=new WebSocket(this.url),this.socket.addEventListener("open",this.onOpen.bind(this)),this.socket.addEventListener("close",this.onClose.bind(this)),this.socket.addEventListener("message",this.onMessage.bind(this)),this.socket.addEventListener("error",this.onError.bind(this))}catch(e){console.error("Error while connecting WebSocket:",e)}}onOpen(){console.log("WebSocket connection opened"),this.socket.send(this.publicKey.toString("base64")),console.log("Client public key is sent.")}async getResponse(e){const t=25;let s=0;while(s<t){const t=this.messagesMap.get(e);if(t)break;await new Promise((e=>setTimeout(e,200))),s++}if(s>=t)throw new Error("Response not found after maximum retries.");let o=this.messagesMap.get(e);return console.log("Get response:",o),this.messagesMap.delete(e),o}async sendMessage(e){let t=X();e.message_id=t;let s=JSON.stringify(e);if(!this.aesKey)return void console.log("Sending message: not authenticated!");if(this.socket.readyState!==WebSocket.OPEN)return void console.error("WebSocket is not open");const o=await this.encryptMessage(this.aesKey,s);return console.log("stored message id:",t),await this.socket.send(o),this.messagesMap.set(t,null),t}}function Q(){const e=new Date;return e.toISOString().split("T")[0]}function X(){let e=(new Date).getTime(),t="undefined"!==typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(s){let o=16*Math.random();return e>0?(o=(e+o)%16|0,e=Math.floor(e/16)):(o=(t+o)%16|0,t=Math.floor(t/16)),("x"===s?o:3&o|8).toString(16)}))}const H="/private/post/login/1.0.0",q="/private/post/logout/1.0.0",J=D();function z(){J.socket&&J.socket.readyState===WebSocket.OPEN?console.log("WebSocket is already connected."):J.connect()}var B={client:J,loginUser({commit:e},t){e("USER_LOGIN",t)},async logoutUser({commit:e,dispatch:t}){const s=JSON.parse(sessionStorage.getItem("owner"));await J.sendMessage({path:q,node_id:s.node_id}),J.close(),sessionStorage.clear(),e("USER_LOGOUT"),t("signup/setSignupStep","",{root:!0}),t("warpnet/unsubscribeNotifications",null,{root:!0}),t("warpnet/resetState",null,{root:!0}),t("profilePage/resetState",null,{root:!0}),de.push("/")},async signInUser({dispatch:e,commit:t},s){let o=await J.sendMessage({path:H,node_id:"None",body:{username:s.username,password:s.password}}),l=await J.getResponse(o);if(!l)return void alert("authentication failed");const i=JSON.stringify(l.owner),r=i;l.token=null,console.log("GOT OWNER RESP:",l),sessionStorage.setItem("owner",i),t("USER_SIGNUP",l.owner),await e("loginUser",l.owner),await e("warpnet/setProfile",l.owner,null,{root:!0}),await e("warpnet/subscribeNotifications",null,{root:!0});const a={color:{dark:"#c5007f",light:"#ffffff"}};try{const e=await R.toDataURL(r,a);console.log("QR Code Generated:",e),t("SET_QR_CODE",e)}catch(n){console.error("Error generating QR code:",n)}de.push({name:"Home"})},async loginUserIfAlreadyAuthenticated({dispatch:e}){const t=JSON.parse(sessionStorage.getItem("owner"));t&&(await e("loginUser",t),await e("warpnet/setProfile",null,{root:!0}),await e("warpnet/subscribeNotifications",null,{root:!0}))},async openQRCodeModal({commit:e}){e("SET_QR_MODAL_OPEN",!0)},async closeQRCodeModal({commit:e}){e("SET_QR_MODAL_OPEN",!1)}};const G={class:"w-full bg-lightblue border-b-2 border-dark mt-20 mb-10 p-2 input_field"},V={class:"w-full bg-lightblue border-b-2 border-dark mt-10s mb-10 p-2 input_field"},K={class:"flex justify-center"},Y={key:1,class:"flex justify-center items-center"};function Z(e,t,s,i,r,a){return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",G,[t[3]||(t[3]=(0,l.Lk)("p",{class:"text-dark text-center"},"Username",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),class:"w-full bg-lightblue text-lg text-center",type:"text",ref:"username"},null,512),[[o.Jo,r.username]])]),(0,l.Lk)("div",V,[t[4]||(t[4]=(0,l.Lk)("p",{class:"text-dark text-center"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),class:"w-full bg-lightblue text-lg text-center",type:"password"},null,512),[[o.Jo,r.password]])]),(0,l.Lk)("div",K,[r.isLoading?((0,l.uX)(),(0,l.CE)("div",Y,t[5]||(t[5]=[(0,l.Lk)("svg",{class:"animate-spin h-8 w-8 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,l.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,l.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t[2]||(t[2]=(0,o.D$)(((...e)=>a.signIn&&a.signIn(...e)),["prevent"])),class:"w-full md:w-1/3 font-bold rounded-full bg-blue text-white p-3 hover:bg-darkblue"}," Log in "))])],64)}var ee={name:"LogInComponent",data(){return{username:"",password:"",isLoading:!1}},created:function(){this.$nextTick((()=>this.$refs.username.focus()))},methods:{...(0,N.i0)("authentication",["signInUser","logoutUser"]),async signIn(){this.isLoading=!0;try{await this.signInUser({username:this.username,password:this.password})}catch(e){this.logoutUser(),alert("Error signing in, please check console for error detail"),console.log("error signing in",e)}finally{this.isLoading=!1}}}};const te=(0,n.A)(ee,[["render",Z],["__scopeId","data-v-b1081d3c"]]);var se=te,oe={name:"Root",components:{LogInComponent:se},data(){return{username:"",password:"",revealPassword:!1,isFirstRun:!1}},mounted(){this.isFirstRun=window.isFirstRun||!1,console.log("Is first run:",this.isFirstRun),z()},computed:{...(0,N.L8)("signup",["showModal"]),...(0,N.L8)("authentication",["user"])},methods:{showSignInPage(){this.$router.push("LogIn")},...(0,N.i0)("signup",["setSignupStep"]),...(0,N.i0)("authentication",["signInUser","logoutUser"]),async signIn(){this.isLoading=!0;try{await this.signInUser({username:this.username,password:this.password})}catch(e){this.logoutUser(),alert("Error signing in, please check console for error detail"),console.log("error signing in",e)}finally{this.isLoading=!1}},async signMeUp(){try{await this.signInUser({username:this.username,password:this.password}),this.setSignupStep("step5")}catch(e){this.logoutUser(),alert("Error signing up, please check console for error detail"),console.log("error signing up:",e)}},setSignUpStep(e){switch(e){case"step2":if(!this.username)return;break;case"step4":break}this.setSignupStep(e)},esc(){this.setSignupStep("")}}};const le=(0,n.A)(oe,[["render",A]]);var ie=le,re=(s(8992),s(7550),async(e,t,s)=>{const o=e.matched.some((e=>e.meta.protected)),l=JSON.parse(sessionStorage.getItem("owner"));!o||l?s():s("/")});const ae=[{path:"/",name:"Root",component:ie},{path:"/login",name:"Login",component:()=>s.e(966).then(s.bind(s,7182))},{path:"/home",name:"Home",component:()=>s.e(962).then(s.bind(s,7365)),meta:{protected:!0}},{path:"/search",name:"Search",component:()=>s.e(187).then(s.bind(s,7884)),meta:{protected:!0}},{path:"/hashtag",name:"Hashtag",component:()=>s.e(541).then(s.bind(s,850)),meta:{protected:!0}},{path:"/notifications",name:"Notifications",component:()=>s.e(893).then(s.bind(s,8658)),meta:{protected:!0}},{path:"/messages",name:"Messages",component:()=>s.e(871).then(s.bind(s,5566)),props:!0,meta:{protected:!0}},{path:"/:username",name:"Profile",component:()=>Promise.resolve().then(s.bind(s,3770)),meta:{protected:!0}},{path:"/:username/followers",name:"Followers",component:()=>s.e(596).then(s.bind(s,8099)),props:!0,meta:{protected:!0}},{path:"/:username/following",name:"Following",component:()=>s.e(856).then(s.bind(s,2611)),props:!0,meta:{protected:!0}}],ne=(0,u.aE)({history:(0,u.LA)(),routes:ae});ne.beforeEach(re);const ce=ne.push;ne.push=function(e,t,s){return t||s?ce.call(this,e,t,s):ce.call(this,e).catch((e=>(0,u.Pq)(e,u.$c.duplicated)?e:Promise.reject(e)))};var de=ne,ue={USER_LOGIN(e,t){e.user=t,e.loggedIn=!0},USER_LOGOUT(e){e.loggedIn=!1,e.user=void 0,e.profile=null},USER_SIGNUP(e,t){e.user=t},SET_QR_CODE(e,t){e.qrCode=t},SET_QR_MODAL_OPEN(e,t){console.log("state qr code open:",e.qrModalOpen),e.qrModalOpen=t}},fe={loggedIn:e=>e.loggedIn,user:e=>e.user,qrCode:e=>e.qrCode,qrModalOpen:e=>e.qrModalOpen};const pe=()=>({loggedIn:!1,user:void 0,qrCode:null,qrModalOpen:!1});var me={namespaced:!0,actions:B,mutations:ue,getters:fe,state:pe},ge={setSignupStep({commit:e},t){e("SIGNUP_STEP_SET",t)}},he={SIGNUP_STEP_SET(e,t){e.step=t}},we={showModal:e=>e.step};const be=()=>({step:""});var ve={namespaced:!0,actions:ge,mutations:he,getters:we,state:be};s(7642),s(8004),s(3853),s(5876),s(2475),s(5024),s(1698),s(3770);const ke="/public/get/user/1.0.0",xe="/public/get/users/1.0.0",ye="/private/get/timeline/1.0.0",Le="/private/post/tweet/1.0.0",_e="/private/get/tweets/1.0.0",Ee="/private/post/follow/1.0.0",Se="/private/post/unfollow/1.0.0",Te="/public/get/followers/1.0.0",Ce="/public/get/followees/1.0.0",Me=D();var je={async setProfile({commit:e}){const t=JSON.parse(sessionStorage.getItem("owner"));let s=await Me.sendMessage({path:ke,node_id:t.node_id,timestamp:(new Date).toISOString(),body:{user_id:t.user_id}});const o=await Me.getResponse(s);e("PROFILE_SET",o)},async getProfileByusername(e){},async loadProfile({commit:e,rootState:t},s){if(s)if(t.warpnet.profile.id===s){const t=JSON.parse(sessionStorage.getItem("owner"));let s=await Me.sendMessage({path:ke,node_id:t.node_id,timestamp:(new Date).toISOString(),body:{user_id:t.user_id}});const o=await Me.getResponse(s);e("PROFILE_SET",o)}else{const t=await this.getProfileByusername(s);e("PROFILE_SET",t)}},async loadUsers({commit:e},t,s){let o=JSON.parse(sessionStorage.getItem("owner"));if(!o||!o.node_id||!o.user_id)return void console.error("Invalid owner data");let l=await Me.sendMessage({path:xe,node_id:o.node_id,timestamp:(new Date).toISOString(),body:{limit:t,cursor:s}});console.log("Response from users:",l);const i=await Me.getResponse(l);for(let r=0;r<i.length;r++){let e=i[r];e.user_id,o.user_id,i.splice(r,1)}console.log("Users response:",i),e("WARPNET_WHO_TO_FOLLOW",i)},async loadMyTimeline({dispatch:e}){await e("getMyTimeline",20)},async loadTweets({dispatch:e,rootState:t},s){if(s)if(t.warpnet.profile.id===s)await e("getTweets",{userId:t.warpnet.profile.id,limit:20});else{const t=await getProfileByusername(s);await e("getTweets",{userId:t.id,limit:20})}},async getMyTimeline({commit:e},t,s){let o=JSON.parse(sessionStorage.getItem("owner"));if(!o||!o.node_id||!o.user_id)return void console.error("Invalid owner data");let l=await Me.sendMessage({path:ye,node_id:o.node_id,timestamp:(new Date).toISOString(),body:{limit:t,cursor:s,user_id:o.user_id}});console.log("Response from sendMessage:",l);const i=await Me.getResponse(l);console.log("Timeline response:",i),e("WARPNET_TIMELINE",i)},async createTweet({commit:e,dispatch:t},{text:s}){let o=JSON.parse(sessionStorage.getItem("owner")),l=await Me.sendMessage({path:Le,node_id:o.node_id,timestamp:(new Date).toISOString(),body:{user_id:o.user_id,node_id:o.node_id,username:o.username,text:s,created_at:(new Date).toISOString()}});const i=await Me.getResponse(l);e("WARPNET_CREATE",i),await t("getMyTimeline",20)},async getTweets({commit:e},{userId:t,limit:s,cursor:o}){console.log("get tweets",t,s,o);let l=JSON.parse(sessionStorage.getItem("owner")),i=await Me.sendMessage({path:_e,node_id:l.node_id,timestamp:(new Date).toISOString(),body:{limit:s,cursor:o,user_id:l.user_id}});const r=await Me.getResponse(i);e("WARPNET_TIMELINE",r)},async loadMoreTweets({commit:e,getters:t},s){if(!t.cursorTweets)return;const o=await this.getTweets(e,{userId:t.profile.id,limit:s,cursor:t.cursorTweets});e("WARPNET_LOADMORE_TWEETS",o)},async loadMoreMyTimeline({commit:e,getters:t},s){if(!t.cursorTweets)return;const o=await this.getMyTimeline(e,s,t.cursorTweets);e("WARPNET_LOADMORE_TWEETS",o)},async followUser(e,t,s){console.log("follow",t);let o=JSON.parse(sessionStorage.getItem("owner")),l=await Me.sendMessage({path:Ee,node_id:o.node_id,timestamp:(new Date).toISOString(),body:{followee:t,follower:o.user_id,follower_username:o.username,follower_avatar:s}});await Me.getResponse(l)},async unfollowUser(e,t){console.log("unfollow",t);let s=JSON.parse(sessionStorage.getItem("owner")),o=await Me.sendMessage({path:Se,node_id:s.node_id,timestamp:(new Date).toISOString(),body:{followee:t,follower:s.user_id}});await Me.getResponse(o)},async getFollowers({commit:e},{userId:t,limit:s,cursor:o}){console.log("get followers",t);let l=JSON.parse(sessionStorage.getItem("owner")),i=await Me.sendMessage({path:Te,node_id:l.node_id,timestamp:(new Date).toISOString(),body:{user_id:t,cursor:o,limit:s}});const r=await Me.getResponse(i);e("WARPNET_FOLLOWERS",r)},async getFollowing({commit:e},{userId:t,limit:s,cursor:o}){console.log("get followers",t);let l=JSON.parse(sessionStorage.getItem("owner")),i=await Me.sendMessage({path:Ce,node_id:l.node_id,timestamp:(new Date).toISOString(),body:{user_id:t,cursor:o,limit:s}});const r=await Me.getResponse(i);e("WARPNET_FOLLOWING",r)},async replyTweet({dispatch:e},{rootId:t,parentId:s,text:o}){await reply(t,s,o),await e("getMyTimeline",20)},async likeTweet(e,t){await like(t)},async unlikeTweet(e,t){await unlike(t)},async retweetTweet(e,t){await retweet(t)},async unretweetTweet(e,t){await unretweet(t)},async getImageUploadUrl(e,{extension:t,contentType:s}){return await getImageUploadUrl(t,s)},async editMyProfile({commit:e},t){const s=await editMyProfile(t);return e("PROFILE_SET",s),s},async loadSearch({commit:e},{query:t,mode:s,limit:o}){},async loadMoreSearch({commit:e,getters:t},{query:s,mode:o,limit:l}){},resetSearch({commit:e}){const t={results:[],cursor:void 0};e("WARPNET_SEARCH",t)},async loadSearchHashTag({commit:e},{query:t,mode:s,limit:o}){},async loadMoreSearchHashTag({commit:e,getters:t},{query:s,mode:o,limit:l}){},resetSearchHashTag({commit:e}){const t={results:[],cursor:void 0};e("WARPNET_SEARCH_HASHTAG",t)},async subscribeNotifications({commit:e,getters:t,dispatch:s}){let o=sessionStorage.getItem("notifications_enabled");if(console.log("getters",t),!o)return;if(!t.profile.id||t.subscription)return;const l=(e,t,s)=>{const o=e<t.otherUserId?`${e}_${t.otherUserId}`:`${t.otherUserId}_${e}`;return s&&s.id===o},i=t.profile.id,r=getOnNotifiedSubscription(i).subscribe({next:async({value:o})=>{const r=o.data.onNotified;"DMed"===r.type?(await s("loadConversations",20),l(i,r,t.conversation)&&await s("getDirectMessages",{limit:10,message:r.message,otherUserId:r.otherUserId}),e("WARPNET_MESSAGES_NEW",r)):(await s("getMyTimeline",20),e("WARPNET_NOTIFICATIONS_NEW",r))}});e("WARPNET_NOTIFICATIONS_SUBSCRIBE",r)},resetNotifications({commit:e}){e("WARPNET_NOTIFICATIONS_RESET")},unsubscribeNotifications({commit:e}){e("WARPNET_NOTIFICATIONS_UNSUBSCRIBE")},async loadConversations({commit:e},t){const s=await listConversations(t);e("WARPNET_CONVERSATIONS_LOAD",s)},resetMessages({commit:e}){e("WARPNET_MESSAGES_RESET")},async getDirectMessages({commit:e},{otherUserId:t,limit:s,cursor:o}){const l=await getDirectMessages(t,s,o);e("WARPNET_MESSAGES_LOAD",l)},async loadMoreDirectMessages({commit:e,getters:t},{otherUserId:s,limit:o}){if(!t.cursorMessages)return;const l=await getDirectMessages(s,o,t.cursorMessages);e("WARPNET_LOADMORE_MESSAGES",l)},async sendDirectMessage({commit:e,dispatch:t},{message:s,otherUserId:o}){await sendDirectMessage(s,o),await t("loadConversations",10);const l=await getDirectMessages(o,10);e("WARPNET_MESSAGES_LOAD",l)},setActiveConversation({commit:e},t){e("WARPNET_CONVERSATION_ACTIVE_SET",t)},resetState({commit:e}){e("WARPNET_RESET_STATE")}},Pe={PROFILE_SET(e,t){e.profile=t},WARPNET_TIMELINE(e,{cursor:t,tweets:s,user_id:o}){console.log("WARPNET_TIMELINE state",t,s,o),console.log("Before mutation:",e.tweets.tweets),e.tweets.tweets=s,e.tweets.cursor=t,console.log("After mutation:",e.tweets.tweets)},WARPNET_CREATE(e,t){const s=[...e.tweets.tweets];e.tweets.tweets=s.unshift(t)},WARPNET_WHO_TO_FOLLOW(e,{cursor:t,users:s}){e.who_to_follow.users=s,e.who_to_follow.cursor=t},WARPNET_FOLLOWERS(e,{cursor:t,followee:s,followers:o}){e.followers.followers=o,e.followers.cursor=t,e.followers.user_id=s},WARPNET_FOLLOWING(e,{cursor:t,follower:s,followees:o}){e.following.following=o,e.following.cursor=t,e.followers.user_id=s},WARPNET_LOADMORE_TWEETS(e,{cursor:t,tweets:s,user_id:o}){e.tweets.tweets=[...e.tweets.tweets,...s],e.tweets.cursor=t},WARPNET_SEARCH(e,{results:t,cursor:s}){e.search.results=t,e.search.cursor=s},WARPNET_LOADMORE_SEARCH(e,{results:t,cursor:s}){e.search.results=[...e.search.results,...t],e.search.cursor=s},WARPNET_SEARCH_HASHTAG(e,{results:t,cursor:s}){e.search.results=t,e.search.cursor=s},WARPNET_LOADMORE_SEARCH_HASHTAG(e,{results:t,cursor:s}){e.search.results=[...e.search.results,...t],e.search.cursor=s},WARPNET_NOTIFICATIONS_SUBSCRIBE(e,t){e.notifications.subscription=t,e.notifications.newNotifications=0,e.notifications.messages.newMessages=0},WARPNET_NOTIFICATIONS_UNSUBSCRIBE(e){let t=e.notifications.subscription;t&&(t.unsubscribe(),e.notifications.subscription=void 0)},WARPNET_NOTIFICATIONS_NEW(e,t){"Mentioned"===t?.type?e.notifications.mentions=[t,...e.notifications.mentions]:e.notifications.all=[t,...e.notifications.all],e.notifications.newNotifications=e.notifications.newNotifications+1},WARPNET_NOTIFICATIONS_RESET(e){e.notifications.newNotifications=0},WARPNET_CONVERSATIONS_LOAD(e,{conversations:t,cursor:s}){e.notifications.messages.conversations=t,e.notifications.messages.cursor=s},WARPNET_MESSAGES_NEW(e,t){let s=e.notifications.messages.conversationsSet,o=e.notifications.messages.active.conversation;const l=e.profile.id<t.otherUserId?`${e.profile.id}_${t.otherUserId}`:`${t.otherUserId}_${e.profile.id}`,i=e=>!e||e.id!==l;i(o)&&(s.has(l)||s.add(l),e.notifications.messages.newMessages=e.notifications.messages.newMessages+1,e.notifications.messages.conversations=[...e.notifications.messages.conversations])},WARPNET_MESSAGES_RESET(e){e.notifications.messages.newMessages=0},WARPNET_MESSAGES_LOAD(e,{messages:t,cursor:s}){e.notifications.messages.active.messages=t,e.notifications.messages.active.cursorMessages=s},WARPNET_LOADMORE_MESSAGES(e,{messages:t,cursor:s}){e.notifications.messages.active.messages=[...e.notifications.messages.active.messages,...t],e.notifications.messages.active.cursorMessages=s},WARPNET_MESSAGES_SEND(e,t){e.notifications.messages.active.messages=[...e.notifications.messages.active.messages,t]},WARPNET_CONVERSATION_ACTIVE_SET(e,t){let s=e.notifications.messages.conversationsSet;s&&t&&s.has(t.id)&&(s.delete(t.id),e.notifications.messages.newMessages=0),e.notifications.messages.conversationsSet=s,e.notifications.messages.active.conversation=t,e.notifications.messages.active.messages=[],e.notifications.messages.active.cursorMessages=void 0},WARPNET_RESET_STATE(e){Object.assign(e,{profile:{id:"",created_at:"1970-01-01",avatar:"default_profile.png"},tweets:{tweets:[],cursor:void 0},followers:{followers:[],cursor:void 0},following:{following:[],cursor:void 0},search:{results:[],cursor:void 0},notifications:{all:[],mentions:[],newNotifications:0,subscription:void 0,messages:{conversations:[],cursor:void 0,newMessages:0,conversationsSet:new Set,active:{conversation:void 0,messages:[],cursorMessages:void 0}}}})}},Oe=s(5093),Ae=s.n(Oe),Ne={profile:e=>e.profile,tweets:e=>(console.log("Getter state.tweets:",e.tweets),e.tweets.tweets),cursorTweets:e=>e.tweets.cursor,joinedDate:e=>Ae()(e.profile.created_at).format("MMMM YYYY"),isSelf:e=>t=>e.profile.id===t,followers:e=>e.followers.followers,cursorFollowers:e=>e.followers.cursor,whotofollow:e=>e.who_to_follow.users,whotofollowCursor:e=>e.who_to_follow.cursor,following:e=>e.following.following,cursorFollowing:e=>e.following.cursor,search:e=>e.search.results,cursorSearch:e=>e.search.cursor,searchHashTag:e=>e.search.results,cursorSearchHashTag:e=>e.search.cursor,all:e=>e.notifications.all,mentions:e=>e.notifications.mentions,newNotifications:e=>e.notifications.newNotifications,subscription:e=>e.notifications.subscription,newMessages:e=>e.notifications.messages.newMessages,conversationsSet:e=>e.notifications.messages.conversationsSet,hasNewMessages:e=>t=>{const s=e.notifications.messages.conversationsSet,o=e.notifications.messages.active.conversation;return s.has(t.id)&&(o&&t.id!==o.id||!o)},conversations:e=>e.notifications.messages.conversations,cursorConversations:e=>e.notifications.messages.conversations.cursor,messages:e=>e.notifications.messages.active.messages,cursorMessages:e=>e.notifications.messages.active.cursorMessages,conversation:e=>e.notifications.messages.active.conversation};const Re={profile:{id:"",created_at:"2022-03-27",avatar:"default_profile.png",bio:"",background_image:"",followers_num:0,following_num:0,username:"",tweets_num:0,likes_num:0,node_id:""},tweets:{tweets:[],cursor:void 0},who_to_follow:{users:[],cursor:void 0},followers:{followers:[],cursor:void 0,user_id:void 0},following:{following:[],cursor:void 0},search:{results:[],cursor:void 0},notifications:{all:[],mentions:[],newNotifications:0,subscription:void 0,messages:{conversations:[],cursor:void 0,newMessages:0,conversationsSet:new Set,active:{conversation:void 0,messages:[],cursorMessages:void 0}}}},Ie=()=>({...Re});var Ue={namespaced:!0,actions:je,mutations:Pe,getters:Ne,state:Ie};const We=(0,N.y$)({modules:{authentication:me,signup:ve,warpnet:Ue,profilePage:Ue}});var $e=We,De={bind:function(e,t){"function"===typeof t.value&&(e.__callback__=s=>{27===s.keyCode&&t.value(s,e)},e.addEventListener("keyup",e.__callback__))},unbind:function(e){e.removeEventListener("keyup",e.__callback__),e.__callback__=null}},Fe={bind:function(e,t){"function"===typeof t.value&&(e.__callback__=s=>{if("top"==t.arg){if(!e)return;const o=0==e.scrollTop;if(!o)return;t.value(s,e)}else if("bottom"==t.arg){if(!e)return;const o=Math.ceil(e.offsetHeight+e.scrollTop)>=e.scrollHeight;if(!o)return;t.value(s,e)}else t.value(s,e)},e.addEventListener("scroll",e.__callback__))},unbind:function(e){e.removeEventListener("scroll",e.__callback__),e.__callback__=null}},Qe=s(5264);s(4028),s(5204);const Xe={formatHref:{hashtag:e=>`#/hashtag?m=Latest&hash=${Date.now()}&q=${escape("#"+e.substr(1))}`,mention:e=>`#/${e.substr(1)}`},target:(e,t)=>"mention"==t||"hashtag"==t?void 0:"_blank",truncate:25,ignoreTags:["script","style"]};var He={bind:function(e){let t=e.innerHTML;e.innerHTML=(0,Qe.A)(t,Xe)}},qe={install(e){e.directive("escape",De),e.directive("scroll",Fe),e.directive("linkify",He)}};function Je(e){return 0===Ae()().diff(e,"days")?Ae()(e).fromNow(!0):Ae()(e).format("MMM D")}function ze(e){const t=Ae()(e),s=Ae()().startOf("day"),o=Ae()().subtract(1,"day").startOf("day");return t<=o?t.format("MMM D, h:mm A"):t<=s?`Yesterday, ${t.format("h:mm A")}`:t.format("h:mm A")}Ae().updateLocale("en",{monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],relativeTime:{past:"%ss",s:"Now",ss:"%ss",m:"%dm",mm:"%dm",h:"%dh",hh:"%dh"}}),Ae().updateLocale("en",{monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Be={install(e){e.config.globalProperties.$filters={timeago:Je,time:ze}}};const Ge={aws_appsync_graphqlEndpoint:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_APPSYNC_GRAPHQL_ENDPOINT,aws_appsync_region:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_APPSYNC_REGION,aws_appsync_authenticationType:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_APPSYNC_AUTHENTICATION_TYPE},Ve=(0,o.Ef)(d);Ve.config.globalProperties.$appConfig=Ge,Ve.use(de),Ve.use($e),Ve.use(qe),Ve.use(Be),Ve.mount("#app")},5587:function(e,t,s){"use strict";s.d(t,{A:function(){return c}});var o=s(641);const l={key:0,class:"flex items-center justify-center"};function i(e,t,s,i,r,a){return s.loading?((0,o.uX)(),(0,o.CE)("div",l,t[0]||(t[0]=[(0,o.Lk)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 40 40","enable-background":"new 0 0 40 40","xml:space":"preserve"},[(0,o.Lk)("path",{opacity:"0.2",fill:"#1da1f2",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\n    s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\n    c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}),(0,o.Lk)("path",{fill:"#1da1f2",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\n    C22.32,8.481,24.301,9.057,26.013,10.047z"},[(0,o.Lk)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"})])],-1)]))):(0,o.Q3)("",!0)}var r={name:"Loader",props:["loading"]},a=s(6262);const n=(0,a.A)(r,[["render",i]]);var c=n},4937:function(e,t,s){"use strict";s.d(t,{A:function(){return p}});var o=s(641),l=s(33);const i={class:"w-full border-b hover:bg-lightest flex flex-col"},r={class:"pt-4 pl-4 flex flex-row"},a={class:"text-sm text-dark"};function n(e,t,s,n,c,d){const u=(0,o.g2)("Tweet");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",r,[t[0]||(t[0]=(0,o.Lk)("div",{class:"w-12 mr-4 flex justify-end"},[(0,o.Lk)("i",{class:"text-sm pt-1 fas fa-retweet text-dark"})],-1)),(0,o.Lk)("p",a,(0,l.v_)(c.label),1)]),(0,o.bF)(u,{tweet:s.tweet.retweetOf},null,8,["tweet"])])}var c=s(7706),d={name:"Retweet",props:["tweet"],components:{Tweet:c.A},data(){return{label:""}},async created(){const e=JSON.parse(sessionStorage.getItem("owner"));e.id===this.tweet.profile.id?this.label="You Retweeted":this.label=`${this.tweet.profile.username} Retweeted`}},u=s(6262);const f=(0,u.A)(d,[["render",n]]);var p=f},6159:function(e,t,s){"use strict";s.d(t,{A:function(){return c}});var o=s(641),l=s(3751);function i(e,t,s,i,r,a){return(0,o.uX)(),(0,o.CE)("div",null,[t[2]||(t[2]=(0,o.Lk)("i",{class:"fas fa-search absolute mt-2 ml-5 text-sm text-light"},null,-1)),(0,o.bo)((0,o.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4",placeholder:"Search Tweet","onUpdate:modelValue":t[0]||(t[0]=e=>r.query=e),onKeyup:t[1]||(t[1]=(0,l.jR)((e=>a.submit()),["enter"]))},null,544),[[l.Jo,r.query]])])}s(4114);var r={name:"SearchBar",data(){return{query:""}},methods:{submit(){this.$router.push({name:"Search",query:{q:this.query}})}}},a=s(6262);const n=(0,a.A)(r,[["render",i]]);var c=n},6946:function(e,t,s){"use strict";s.d(t,{A:function(){return N}});var o=s(641),l=s(33);const i={class:"w-1/6 md:w-1/12 xl:w-1/6 border-r border-lighter lg:px-6 py-2 flex-col justify-between hidden sm:flex"},r={key:0,class:"absolute -mt-6 ml-2"},a={class:"inline-flex items-center px-1.5 py-0.5 border-2 border-white rounded-full text-xs font-semibold leading-4 bg-blue text-white"},n={key:0,class:"absolute -mt-6 ml-2"},c={class:"inline-flex items-center px-1.5 py-0.5 border-2 border-white rounded-full text-xs font-semibold leading-4 bg-blue text-white"},d={class:"xl:w-full relative mt-2 w-10 h-10"},u=["src"],f={class:"hidden xl:block ml-4 truncate"},p={class:"text-left text-sm font-bold leading-tight truncate"},m={class:"text-left text-sm leading-tight text-dark truncate"},g={key:0,class:"absolute bottom-0 left-0 w-64 rounded-lg shadow-md border-lightest bg-white mb-16"},h=["src"],w={class:"ml-4"},b={class:"text-left text-sm font-bold leading-tight"},v={class:"text-left text-sm leading-tight text-dark"};function k(e,t,s,k,x,y){const L=(0,o.g2)("QRCodeModal");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.bF)(L,{show:e.qrModalOpen,qrData:e.qrCode,onClose:e.closeQRCodeModal},null,8,["show","qrData","onClose"])]),(0,o.Lk)("div",i,[(0,o.Lk)("div",null,[t[13]||(t[13]=(0,o.Lk)("button",{class:"h-12 w-12 hover:bg-lightblue text-3xl text-blue rounded-full"},null,-1)),(0,o.Lk)("div",null,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>y.open("Home")),class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:(0,l.C4)(["fa fa-home","Home"==e.$route.name?"text-2xl":"text-xl"]),"aria-hidden":"true"},null,2),(0,o.Lk)("p",{class:(0,l.C4)(["text-lg ml-4 text-left hidden xl:block","Home"==e.$route.name?"font-bold":""])}," Home ",2)]),t[9]||(t[9]=(0,o.Lk)("button",{class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:"fas fa-hashtag","aria-hidden":"true"}),(0,o.Lk)("p",{class:"text-lg ml-4 text-left hidden xl:block"},"Explore")],-1)),(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>y.open("Notifications")),class:"relative focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:(0,l.C4)(["fa-bell","Notifications"==e.$route.name?"text-2xl fas":"text-xl far"]),"aria-hidden":"true"},null,2),this.newNotifications>0?((0,o.uX)(),(0,o.CE)("span",r,[(0,o.Lk)("div",a,(0,l.v_)(this.newNotifications),1)])):(0,o.Q3)("",!0),(0,o.Lk)("p",{class:(0,l.C4)(["text-lg ml-4 text-left hidden xl:block","Notifications"==e.$route.name?"font-bold":""])}," Notifications ",2)]),(0,o.Lk)("button",{onClick:t[2]||(t[2]=e=>y.open("Messages")),class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:(0,l.C4)(["fa-envelope","Messages"==e.$route.name?"text-2xl fas":"text-xl far"]),"aria-hidden":"true"},null,2),this.newMessages>0?((0,o.uX)(),(0,o.CE)("span",n,[(0,o.Lk)("div",c,(0,l.v_)(this.newMessages),1)])):(0,o.Q3)("",!0),(0,o.Lk)("p",{class:(0,l.C4)(["text-lg ml-4 text-left hidden xl:block","Messages"==e.$route.name?"font-bold":""])}," Messages ",2)]),t[10]||(t[10]=(0,o.Fv)('<button class="focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"><i class="text-xl far fa-bookmark" aria-hidden="true"></i><p class="text-lg ml-4 text-left hidden xl:block">Bookmarks</p></button><button class="focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"><i class="text-xl fas fa-clipboard-list" aria-hidden="true"></i><p class="text-lg ml-4 text-left hidden xl:block">Lists</p></button>',2)),(0,o.Lk)("button",{onClick:t[3]||(t[3]=e=>y.open("Profile")),class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:(0,l.C4)(["fa-user","Profile"==e.$route.name?"text-2xl fas":"text-xl far"]),"aria-hidden":"true"},null,2),(0,o.Lk)("p",{class:(0,l.C4)(["text-lg ml-4 text-left hidden xl:block","Profile"==e.$route.name?"font-bold":""])}," Profile ",2)]),t[11]||(t[11]=(0,o.Lk)("button",{class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,o.Lk)("i",{class:"text-xl fas fa-ellipsis-h","aria-hidden":"true"}),(0,o.Lk)("p",{class:"text-lg ml-4 text-left hidden xl:block"},"More")],-1))]),(0,o.Lk)("button",{onClick:t[4]||(t[4]=e=>y.open("Home")),class:"text-white bg-blue rounded-full font-semibold h-12 lg:h-auto w-12 xl:w-full hover:bg-darkblue p-3"},t[12]||(t[12]=[(0,o.Lk)("p",{class:"hidden xl:block"},"Tweet",-1),(0,o.Lk)("i",{class:"fas fa-plus xl:hidden"},null,-1)]))]),(0,o.Lk)("div",d,[(0,o.Lk)("button",{onClick:t[5]||(t[5]=e=>x.dropdown=!x.dropdown),class:"flex items-center w-full hover:bg-lightblue rounded-full"},[(0,o.Lk)("img",{src:`${e.profile.avatar||"default_profile.png"}`,class:"w-10 h-10 rounded-full"},null,8,u),(0,o.Lk)("div",f,[(0,o.Lk)("div",p,(0,l.v_)(e.profile.username),1),(0,o.Lk)("div",m,(0,l.v_)(e.profile.id),1)]),t[14]||(t[14]=(0,o.Lk)("i",{class:"hidden xl:block fas fa-angle-down ml-auto text-lg"},null,-1))]),!0===x.dropdown?((0,o.uX)(),(0,o.CE)("div",g,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=e=>x.dropdown=!1),class:"p-3 flex items-center w-full hover:bg-lightest"},[(0,o.Lk)("img",{src:`${e.profile.avatar||"default_profile.png"}`,class:"w-10 h-10 rounded-full"},null,8,h),(0,o.Lk)("div",w,[(0,o.Lk)("p",b,(0,l.v_)(e.profile.username),1),(0,o.Lk)("p",v,(0,l.v_)(e.profile.id),1)]),t[15]||(t[15]=(0,o.Lk)("i",{class:"fas fa-check ml-auto text-blue"},null,-1))]),t[16]||(t[16]=(0,o.Lk)("button",{class:"w-full text-left hover:bg-lightest border-t border-lighter p-3 text-sm"}," Add an existing account ",-1)),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>y.signInByQR&&y.signInByQR(...e)),class:"w-full text-left hover:bg-lightest border-t border-lighter p-3 text-sm"}," Sign in by QR-code "),(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>y.signOut&&y.signOut(...e)),class:"w-full text-left hover:bg-lightest border-t border-lighter p-3 text-sm"}," Log out "+(0,l.v_)(e.profile.username),1)])):(0,o.Q3)("",!0)])])],64)}s(4114);var x=s(3751);const y={class:"bg-white rounded-lg shadow-lg p-6 w-80 relative"},L={key:0,class:"flex justify-center mb-4"},_=["src"],E={key:1,class:"text-center text-gray-500"};function S(e,t,s,l,i,r){return s.show?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",onClick:t[1]||(t[1]=(0,x.D$)(((...e)=>r.close&&r.close(...e)),["self"]))},[(0,o.Lk)("div",y,[(0,o.Lk)("button",{class:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:t[0]||(t[0]=(...e)=>r.close&&r.close(...e))},t[2]||(t[2]=[(0,o.Lk)("i",{class:"fas fa-times"},null,-1)])),t[4]||(t[4]=(0,o.Lk)("h3",{class:"text-xl font-semibold text-center mb-4"},"Your QR Code",-1)),s.qrData?((0,o.uX)(),(0,o.CE)("div",L,[(0,o.Lk)("img",{src:s.qrData,alt:"QR Code",class:"w-48 h-48"},null,8,_)])):((0,o.uX)(),(0,o.CE)("div",E,t[3]||(t[3]=[(0,o.Lk)("p",null,"No QR code is currently available. Please try again later.",-1)]))),t[5]||(t[5]=(0,o.Lk)("p",{class:"text-sm text-gray-600 text-center"}," Scan this QR code with your app to log in. ",-1))])])):(0,o.Q3)("",!0)}var T=s(6278),C={props:{show:{type:Boolean,required:!0},qrData:{type:String,required:!1}},methods:{...(0,T.i0)("authentication",["closeQRCodeModal"]),close(){this.closeQRCodeModal()},handleEscape(e){"Escape"===e.key&&this.close()}},mounted(){window.addEventListener("keydown",this.handleEscape)},beforeDestroy(){window.removeEventListener("keydown",this.handleEscape)}},M=s(6262);const j=(0,M.A)(C,[["render",S]]);var P=j,O={name:"SideNav",data(){return{dropdown:!1}},components:{QRCodeModal:P},computed:{...(0,T.L8)("warpnet",["profile","newNotifications","newMessages"]),...(0,T.L8)("authentication",["qrCode","qrModalOpen"])},methods:{...(0,T.i0)("authentication",["logoutUser","closeQRCodeModal","openQRCodeModal"]),async open(e){const t=this.$route.name;e==t&&this.$route.params.username==this.profile.username||this.$router.push({name:e,params:{username:this.profile.username}})},async signInByQR(){try{console.log("singin—Ä in by QR..."),await this.openQRCodeModal(),console.log("QR code modal:",this.qrModalOpen)}catch(e){alert("Error signing in by QR, please check console to read the error details"),console.log("Error signing in by QR",e)}},async signOut(){try{console.log("signing out..."),await this.logoutUser()}catch(e){alert("Error signing out, please check console for error detail"),console.log("error signing out: ",e)}}}};const A=(0,M.A)(O,[["render",k]]);var N=A},7706:function(e,t,s){"use strict";s.d(t,{A:function(){return J}});var o=s(641),l=s(33);const i={class:"w-full p-2 pt-1 pb-1 md:p-4 md:pt-2 md:pb-2 border-b hover:bg-lightest flex"},r={class:"flex-none mr-2 md:mr-4 pt-1"},a=["href"],n=["src"],c={class:"w-full"},d={class:"flex items-center w-full"},u={class:"font-semibold"},f={class:"hidden md:block text-sm text-dark ml-2"},p={class:"text-sm text-dark ml-2"},m={class:"pb-2"},g={class:"flex w-full"},h={class:"flex items-center text-sm text-dark w-1/4"},w={key:0};function b(e,t,s,b,v,k){const x=(0,o.gN)("linkify");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",r,[(0,o.Lk)("a",{href:`#/${s.user.id}`},[(0,o.Lk)("img",{src:`${s.user.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full flex-none"},null,8,n)],8,a)]),(0,o.Lk)("div",c,[(0,o.Lk)("div",d,[(0,o.Lk)("p",u,(0,l.v_)(s.user.username),1),(0,o.Lk)("p",f," @"+(0,l.v_)(s.user.id),1),t[1]||(t[1]=(0,o.Lk)("p",{class:"text-sm text-dark ml-2"},"¬∑",-1)),(0,o.Lk)("p",p,(0,l.v_)(e.$filters.timeago(s.tweet.created_at)),1),t[2]||(t[2]=(0,o.Lk)("i",{class:"fas fa-angle-down text-sm ml-auto text-dark"},null,-1))]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("p",m,[(0,o.eW)((0,l.v_)(s.tweet.text),1)])),[[x]]),(0,o.Lk)("div",g,[t[3]||(t[3]=(0,o.Lk)("div",{class:"flex items-center text-sm text-dark w-1/4"},null,-1)),t[4]||(t[4]=(0,o.Lk)("div",{class:"flex items-center text-sm text-dark w-1/4"},null,-1)),(0,o.Lk)("div",h,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>k.likeTweet()),class:"mr-2 rounded-full hover:bg-lighter"},[(0,o.Lk)("i",{class:(0,l.C4)("fas fa-heart "+(s.tweet.likes_count&&s.tweet.likes_count>0?"text-red-600":""))},null,2)]),s.tweet.likes_count>0?((0,o.uX)(),(0,o.CE)("p",w,(0,l.v_)(s.tweet.likes_count),1)):(0,o.Q3)("",!0)]),t[5]||(t[5]=(0,o.Lk)("div",{class:"flex items-center text-sm text-dark w-1/4"},[(0,o.Lk)("i",{class:"fas fa-share-square mr-3"})],-1))])])])}var v=s(3751);const k={key:0,class:"fixed w-full h-full z-10 top-0 left-0 flex items-center justify-center"},x={class:"modal-main bg-white mx-auto rounded-lg z-0 overflow-y-auto",style:{width:"40%"}},y={class:"pl-1 pr-4 py-1 h-16 border-b-2 border-lightblue"},L={class:"flex flex-row mt-1 ml-4"},_={key:0,class:"border-l-2 border-r-2 border-white flex flex-col"},E={class:"p-3 flex flex-row"},S={class:"flex-none mr-4"},T=["src"],C={class:"w-full"},M={class:"flex items-center w-full"},j={class:"font-semibold"},P={class:"text-sm text-dark ml-2"},O={class:"text-sm text-dark ml-2"},A={class:"py-2"},N={class:"p-3 flex flex-row"},R={class:"flex-none mr-4"},I=["src"],U={class:"w-full mb-2"};function W(e,t,s,i,r,a){const n=(0,o.gN)("linkify");return s.showReplyOverlay?((0,o.uX)(),(0,o.CE)("div",k,[(0,o.Lk)("div",{class:"absolute w-full h-full bg-gray-900 opacity-50",onClick:t[0]||(t[0]=t=>e.$emit("update:showReplyOverlay",!1))}),(0,o.Lk)("div",x,[(0,o.Lk)("div",y,[(0,o.Lk)("div",L,[(0,o.Lk)("i",{onClick:t[1]||(t[1]=t=>e.$emit("update:showReplyOverlay",!1)),class:"fas fa-times text-blue text-2xl mb-8 mr-6 rounded-full bg-white p-2 px-3 hover:bg-lightblue"})])]),s.tweet.profile?((0,o.uX)(),(0,o.CE)("div",_,[(0,o.Lk)("div",E,[(0,o.Lk)("div",S,[(0,o.Lk)("img",{src:`${s.tweet.profile.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full flex-none"},null,8,T)]),(0,o.Lk)("div",C,[(0,o.Lk)("div",M,[(0,o.Lk)("p",j,(0,l.v_)(s.tweet.profile.id),1),(0,o.Lk)("p",P," @"+(0,l.v_)(s.tweet.profile.username),1),t[4]||(t[4]=(0,o.Lk)("p",{class:"text-sm text-dark ml-2"},".",-1)),(0,o.Lk)("p",O,(0,l.v_)(e.$filters.timeago(s.tweet.created_at)),1)]),(0,o.bo)(((0,o.uX)(),(0,o.CE)("p",A,[(0,o.eW)((0,l.v_)(s.tweet.text),1)])),[[n]])])]),(0,o.Lk)("div",N,[(0,o.Lk)("div",R,[(0,o.Lk)("img",{src:`${e.profile.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full flex-none"},null,8,I)]),(0,o.Lk)("div",U,[(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,v.D$)(((...e)=>a.sendReply&&a.sendReply(...e)),["prevent"])),class:"w-full relative"},[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.text=e),placeholder:"Tweet your reply",class:"w-full focus:outline-none mt-3 pb-3"},null,512),[[v.Jo,r.text]]),t[5]||(t[5]=(0,o.Lk)("div",null,[(0,o.Lk)("i",{class:"text-lg text-blue mr-4 far fa-image"}),(0,o.Lk)("i",{class:"text-lg text-blue mr-4 fas fa-film"}),(0,o.Lk)("i",{class:"text-lg text-blue mr-4 far fa-chart-bar"}),(0,o.Lk)("i",{class:"text-lg text-blue mr-4 far fa-smile"})],-1)),(0,o.Lk)("button",{type:"submit",class:(0,l.C4)(["h-10 px-4 text-white font-semibold bg-blue hover:bg-darkblue rounded-full absolute bottom-0 right-0",""+(this.text?"":" opacity-50 cursor-not-allowed")])}," Reply ",2)],32)])])])):(0,o.Q3)("",!0)])])):(0,o.Q3)("",!0)}var $=s(6278),D={name:"ReplyOverlay",props:["tweet","showReplyOverlay"],data(){return{text:"",id:"",root_id:""}},computed:{...(0,$.L8)("warpnet",["profile"])},methods:{...(0,$.i0)("warpnet",{reply:"replyTweet"}),async sendReply(){await this.reply({rootId:this.tweet.root_id,parentId:this.tweet.id,text:this.text}),this.$emit("update:showReplyOverlay",!1)}},created(){window.addEventListener("keyup",(()=>{27===event.keyCode&&this.$emit("update:showReplyOverlay",!1)}))},destroyed:function(){window.removeEventListener("keyup",(()=>{27===event.keyCode&&this.$emit("update:showReplyOverlay",!1)}))}},F=s(6262);const Q=(0,F.A)(D,[["render",W]]);var X=Q,H={name:"Tweet",props:["tweet","user"],components:{ReplyOverlay:X},computed:{...(0,$.L8)("warpnet",["profile"])},data(){return{showReplyOverlay:!1}},methods:{...(0,$.i0)("warpnet",{like:"likeTweet",unlike:"unlikeTweet",retweet:"retweetTweet",unretweet:"unretweetTweet",reply:"replyTweet"}),replyToTweet(){this.showReplyOverlay=!0},async retweetTweet(){this.tweet.retweeted?(this.tweet.retweeted=!1,await this.unretweet(this.tweet.id).catch((e=>{console.error(`failed to unretweet [${this.tweet.id}]`,e),this.tweet.retweeted=!0}))):(this.tweet.retweeted=!0,await this.retweet(this.tweet.id).catch((e=>{console.error(`failed to retweet [${this.tweet.id}]`,e),this.tweet.retweeted=!1})))},async likeTweet(){this.tweet.liked?(this.tweet.liked=!1,this.tweet.likes_count--,await this.unlike(this.tweet.id).catch((e=>{console.error(`failed to unlike tweet [${this.tweet.id}]`,e),this.tweet.liked=!0,this.tweet.likes_count++}))):(this.tweet.liked=!0,this.tweet.likes_count++,await this.like(this.tweet.id).catch((e=>{console.error(`failed to like tweet [${this.tweet.id}]`,e),this.tweet.liked=!1,this.tweet.likes_count--})))}}};const q=(0,F.A)(H,[["render",b]]);var J=q},6760:function(e,t,s){"use strict";s.d(t,{A:function(){return p}});var o=s(641),l=s(33);const i={class:"tweet"};function r(e,t,s,r,a,n){const c=(0,o.g2)("Tweet");return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.tweets,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id},[(0,o.Lk)("pre",null,(0,l.v_)(JSON.stringify(e,null,2)),1),(0,o.Lk)("p",i,(0,l.v_)(e.text),1),(0,o.bF)(c,{tweet:e},null,8,["tweet"])])))),128))])}var a=s(6278),n=s(7706),c=s(4937),d={name:"Tweets",props:["tweets"],components:{Tweet:n.A,Retweet:c.A},computed:{...(0,a.L8)("warpnet",{cursor:"cursorTweets"}),...(0,a.L8)("warpnet",["profile"])}},u=s(6262);const f=(0,u.A)(d,[["render",r]]);var p=f},3770:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Ue}});var o=s(641),l=s(33);const i={id:"app",class:"flex container h-screen w-full"},r={class:"flex container h-screen w-full"},a={class:"w-full md:w-2/3 lg:w-1/2 h-full overflow-y-scroll no-scrollbar"},n={class:"px-5 py-3 border-b border-lighter flex items-center"},c={class:"lg:block ml-4"},d={class:"text-xl font-bold"},u={key:0,class:"text-left text-sm leading-tight text-dark"},f={class:"border-b-1 border-lighter flex",style:{height:"200px",display:"block"}},p={key:0,class:"h-full max-h-full"},m=["src"],g={key:1,class:"bg-gray-400 h-full max-h-full"},h={class:"py-3 flex flex-col"},w={class:"px-3 flex flex-row justify-between"},b=["src"],v={key:1},k={key:2},x={key:0,class:"text-xs md:text-base md:ml-auto mr-1 md:mr-3 text-blue font-bold px-3 py-1 md:px-3 md:py-2 rounded-full border border-blue mb-2 hover:bg-lightblue"},y={key:0,class:"px-3"},L={class:"font-bold text-xl"},_={class:"text-dark"},E={key:0,class:"text-sm font-medium bg-gray-100 py-1 px-1 mx-2 rounded text-gray-500 align-middle"},S={class:"my-2"},T={class:"flex flex-col md:flex-row mt-1 mb-2"},C={key:0,class:"flex flex-row mr-4"},M={class:"text-dark"},j={key:1,class:"flex flex-row mr-4"},P=["href"],O={key:2,class:"flex flex-row mr-4"},A={class:"text-dark"},N={key:0,class:"flex flex-row mt-1"},R={class:"font-bold"},I={class:"font-bold"},U={key:1,class:"px-5"},W={class:"text-black text-lg"},$={key:2,class:"flex flex-row justify-evenly mt-2"},D={key:0,class:"flex flex-col items-center justify-center w-full pt-10"},F={class:"font-bold text-lg"},Q={class:"text-sm text-dark"},X={key:0,class:"text-white bg-blue rounded-full font-semibold mt-4 px-4 py-2 hover:bg-darkblue"},H={key:1,class:"flex flex-col items-center justify-center"},q={class:"hidden md:block w-1/3 z-0 h-full border-l border-lighter px-6 py-2 overflow-y-scroll no-scrollbar relative"};function J(e,t,s,J,z,B){const G=(0,o.g2)("SideNav"),V=(0,o.g2)("Loader"),K=(0,o.g2)("Tweets"),Y=(0,o.g2)("SearchBar"),Z=(0,o.g2)("SetUpProfileOverlay"),ee=(0,o.g2)("EditProfileOverlay"),te=(0,o.gN)("scroll");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",r,[(0,o.bF)(G),(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("div",n,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>B.gotoHome()),class:"rounded-full md:pr-2 focus:outline-none hover:bg-lightblue"},t[10]||(t[10]=[(0,o.Lk)("i",{class:"fas fa-arrow-left text-blue"},null,-1)])),(0,o.Lk)("div",c,[(0,o.Lk)("h1",d,(0,l.v_)(e.profile.username||"Profile"),1),z.noUser?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("p",u,(0,l.v_)(e.profile.tweets_num)+" Tweets ",1))])]),(0,o.Lk)("div",f,[e.profile.background_image?((0,o.uX)(),(0,o.CE)("div",p,[(0,o.Lk)("img",{src:e.profile.background_image,class:"h-full w-full object-cover"},null,8,m)])):(0,o.Q3)("",!0),e.profile.background_image?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",g))]),(0,o.Lk)("div",h,[(0,o.Lk)("div",w,[e.profile?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.profile.avatar,class:"w-24 h-24 md:w-32 md:h-32 rounded-full border-white",style:{"margin-top":"-80px","border-width":"6px"}},null,8,b)):(0,o.Q3)("",!0),z.isSelf&&e.profile?((0,o.uX)(),(0,o.CE)("div",v,[null===e.profile.avatar||"default_profile.png"===e.profile.avatar?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[1]||(t[1]=e=>B.setUpProfile()),class:"text-xs md:text-base md:ml-auto text-blue font-bold px-4 py-2 rounded-full border border-blue mb-2 hover:bg-lightblue"}," Set up profile ")):(0,o.Q3)("",!0),null!==e.profile.avatar&&"default_profile.png"!==e.profile.avatar?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[2]||(t[2]=e=>B.editProfile()),class:"text-xs md:text-base md:ml-auto text-blue font-bold px-4 py-2 rounded-full border border-blue mb-2 hover:bg-lightblue"}," Edit profile ")):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),z.noUser||z.isSelf||z.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",k,[t[11]||(t[11]=(0,o.Lk)("button",{class:"text-xs md:text-base md:ml-auto mr-1 md:mr-3 text-blue font-bold px-3 py-1 md:px-3 md:py-2 rounded-full border border-blue mb-2 hover:bg-lightblue"},[(0,o.Lk)("i",{class:"fas fa-ellipsis-h"})],-1)),e.profile.followedBy?((0,o.uX)(),(0,o.CE)("button",x,[(0,o.Lk)("i",{onClick:t[3]||(t[3]=e=>B.sendMessage()),class:"fas fa-envelope"})])):(0,o.Q3)("",!0),e.profile.following?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[4]||(t[4]=e=>B.followUser()),class:"text-xs md:text-base md:ml-auto text-blue font-bold px-2 py-1 md:px-4 md:py-2 rounded-full border border-blue mb-2 hover:bg-lightblue w-24 md:w-28"}," Follow ")),e.profile.following?((0,o.uX)(),(0,o.CE)("button",{key:2,onMouseover:t[5]||(t[5]=e=>z.followingLabel="Unfollow"),onMouseleave:t[6]||(t[6]=e=>z.followingLabel="Following"),onClick:t[7]||(t[7]=e=>B.unfollowUser()),class:"text-xs md:text-base md:ml-auto mr-1 md:mr-3 text-white bg-blue font-bold px-3 py-1 md:px-3 md:py-2 rounded-full border mb-2 hover:bg-red-700 w-22 md:w-28"},(0,l.v_)(z.followingLabel),33)):(0,o.Q3)("",!0)]))]),z.noUser||z.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",y,[(0,o.Lk)("p",L,(0,l.v_)(e.profile.username),1),(0,o.Lk)("p",_,[(0,o.eW)(" @"+(0,l.v_)(e.profile.username),1),e.profile.followedBy?((0,o.uX)(),(0,o.CE)("span",E,"Follows you")):(0,o.Q3)("",!0)]),(0,o.Lk)("p",S,(0,l.v_)(e.profile.bio),1),(0,o.Lk)("div",T,[e.profile.location?((0,o.uX)(),(0,o.CE)("div",C,[t[12]||(t[12]=(0,o.Lk)("i",{class:"fas fa-map-marker-alt text-dark align-text-bottom pt-1 mr-2"},null,-1)),(0,o.Lk)("p",M,(0,l.v_)(e.profile.location),1)])):(0,o.Q3)("",!0),e.profile.website?((0,o.uX)(),(0,o.CE)("div",j,[t[13]||(t[13]=(0,o.Lk)("i",{class:"fas fa-link text-dark align-text-bottom pt-1 mr-2"},null,-1)),(0,o.Lk)("a",{href:`${e.profile.website}`,target:"_blank",class:"text-dark"},(0,l.v_)(e.profile.website.replace("https://","").replace("http://","")),9,P)])):(0,o.Q3)("",!0),e.joinedDate?((0,o.uX)(),(0,o.CE)("div",O,[t[14]||(t[14]=(0,o.Lk)("i",{class:"far fa-calendar-alt text-dark align-text-bottom pt-1 mr-2"},null,-1)),(0,o.Lk)("p",A,"Joined "+(0,l.v_)(e.joinedDate),1)])):(0,o.Q3)("",!0)]),z.noUser||z.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",N,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>B.goToFollowing()),class:"mr-4 flex flex-row hover:underline"},[(0,o.Lk)("span",R,(0,l.v_)(e.profile.following_num),1),t[15]||(t[15]=(0,o.Lk)("span",{class:"text-dark whitespace-pre"}," Following",-1))]),(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>B.goToFollowers()),class:"flex flex-row hover:underline"},[(0,o.Lk)("span",I,(0,l.v_)(e.profile.followers_num),1),t[16]||(t[16]=(0,o.Lk)("span",{class:"text-dark whitespace-pre"}," Followers",-1))])]))])),z.noUser?((0,o.uX)(),(0,o.CE)("div",U,[(0,o.Lk)("p",W," @"+(0,l.v_)(this.$route.params.username),1)])):(0,o.Q3)("",!0),z.noUser||z.loading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",$,t[17]||(t[17]=[(0,o.Lk)("button",{class:"flex-grow text-dark font-bold border-b-2 border-blue p-1 md:px-2 md:py-4 hover:bg-lightblue"}," Tweets ",-1),(0,o.Lk)("button",{class:"flex-grow text-dark font-bold border-b-2 p-1 md:px-2 md:py-4 hover:bg-lightblue"}," Tweets & replies ",-1),(0,o.Lk)("button",{class:"flex-grow text-dark font-bold border-b-2 p-1 md:px-2 md:py-4 hover:bg-lightblue"}," Media ",-1),(0,o.Lk)("button",{class:"flex-grow text-dark font-bold border-b-2 p-1 md:px-2 md:py-4 hover:bg-lightblue"}," Like ",-1)])))]),(0,o.bF)(V,{loading:z.loading},null,8,["loading"]),z.noUser||z.loading||0!==e.tweets.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",D,[(0,o.Lk)("p",F,[(0,o.Lk)("span",null,(0,l.v_)(z.isSelf?"You":`@${e.profile.username}`),1),t[18]||(t[18]=(0,o.eW)(" haven‚Äôt Tweeted yet "))]),(0,o.Lk)("p",Q,[t[19]||(t[19]=(0,o.eW)(" When ")),(0,o.Lk)("span",null,(0,l.v_)(z.isSelf?"you post":`@${e.profile.username} posts`),1),t[20]||(t[20]=(0,o.eW)(" a Tweet, it‚Äôll show up here. "))]),z.isSelf?((0,o.uX)(),(0,o.CE)("button",X,t[21]||(t[21]=[(0,o.Lk)("p",{class:"hidden lg:block"},"Tweet now",-1),(0,o.Lk)("i",{class:"fas fa-plus lg:hidden"},null,-1)]))):(0,o.Q3)("",!0)])),z.noUser?((0,o.uX)(),(0,o.CE)("div",H,t[22]||(t[22]=[(0,o.Lk)("div",{class:"w-3/5 flex flex-col items-left mt-10"},[(0,o.Lk)("p",{class:"font-bold text-2xl"},"This account doesn‚Äôt exist"),(0,o.Lk)("p",{class:"text-lg text-dark"},"Try searching for another.")],-1)]))):(0,o.Q3)("",!0),z.noUser?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(K,{key:2,tweets:e.tweets},null,8,["tweets"]))])),[[te,B.loadMore,"bottom"]]),(0,o.Lk)("div",q,[(0,o.bF)(Y)]),z.showSetUpProfileModal?((0,o.uX)(),(0,o.Wv)(Z,{key:0,showSetUpProfileModal:z.showSetUpProfileModal},null,8,["showSetUpProfileModal"])):(0,o.Q3)("",!0),z.showEditProfileModal?((0,o.uX)(),(0,o.Wv)(ee,{key:1,showEditProfileModal:z.showEditProfileModal},null,8,["showEditProfileModal"])):(0,o.Q3)("",!0)])])}s(4114);var z=s(6946),B=s(6159),G=s(6760),V=s(3751);const K={class:"fixed w-full h-full top-0 left-0 flex items-center justify-center"},Y={class:"modal-main bg-white mx-auto rounded-lg z-50 overflow-y-auto",style:{height:"60%",width:"40%"}},Z={class:"pl-1 pr-4 py-1 h-12"},ee={class:"pt-5 px-8"},te={class:"mt-16 w-full flex items-center justify-center"},se={class:"fixed"},oe=["src"];function le(e,t,s,l,i,r){return(0,o.uX)(),(0,o.CE)("div",K,[(0,o.Lk)("div",{class:"absolute w-full h-full bg-gray-900 opacity-50",onClick:t[0]||(t[0]=(0,V.D$)((t=>e.$emit("update:showSetUpProfileModal",!1)),["prevent"]))}),(0,o.Lk)("div",Y,[(0,o.Lk)("div",Z,[null===i.newImage||"default_profile.png"===i.newImage?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[1]||(t[1]=t=>e.$emit("update:showSetUpProfileModal",!1)),class:"rounded-full bg-white font-bold text-blue mt-2 p-1 px-3 relative right-0 float-right focus:outline-none hover:bg-lightblue"}," Skip for now ")):(0,o.Q3)("",!0),null!==i.newImage&&"default_profile.png"!==i.newImage?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[2]||(t[2]=e=>r.finishSetUpProfile()),class:"rounded-full bg-blue font-bold text-white mt-2 p-1 px-4 relative right-0 float-right focus:outline-none hover:bg-darkblue"}," Next ")):(0,o.Q3)("",!0),t[5]||(t[5]=(0,o.Lk)("i",{class:"relative fab text-blue text-2xl mt-2 mb-8",style:{"margin-left":"50%"}},null,-1))]),(0,o.Lk)("div",ee,[t[8]||(t[8]=(0,o.Lk)("div",{class:"flex justify-between items-center mb-5"},[(0,o.Lk)("p",{class:"text-2xl font-bold"},"Pick a profile picture")],-1)),t[9]||(t[9]=(0,o.Lk)("p",{class:"text-dark"},"Have a favorite selfie? Upload it now.",-1)),(0,o.Lk)("div",te,[(0,o.Lk)("div",se,[t[7]||(t[7]=(0,o.Lk)("div",{class:"absolute w-32 h-32 rounded-full bg-gray-600 opacity-50"},null,-1)),(0,o.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.openFileInput&&r.openFileInput(...e)),class:"fixed hover:bg-gray-800 p-3 rounded-full ml-10 mt-10"},[t[6]||(t[6]=(0,o.Lk)("i",{class:"text-2xl fas fa-camera text-white"},null,-1)),(0,o.Lk)("input",{onChange:t[3]||(t[3]=(...e)=>r.fileChange&&r.fileChange(...e)),ref:"fileInput",accept:"image/jpeg",type:"file",class:"hidden"},null,544)]),(0,o.Lk)("img",{class:"w-32 h-32 rounded-full",src:i.newImage},null,8,oe)])])])])])}var ie=s(4335),re=s(6278),ae={name:"SetUpProfileOverlay",props:["showSetUpProfileModal"],data(){return{newImage:"default_profile.png"}},computed:{...(0,re.L8)("profilePage",["profile"])},methods:{...(0,re.i0)("warpnet",{editUserProfile:"editMyProfile"}),...(0,re.i0)("profilePage",["getImageUploadUrl","editMyProfile","loadTweets"]),openFileInput(){this.$refs.fileInput.click()},async fileChange(){const e=this.$refs.fileInput.files[0],t=e.name.split(".").pop(),s="png"===t?"image/png":"image/jpeg",o=await this.getImageUploadUrl({extension:t,contentType:s}),l=new FormData;l.append("image",e),await ie.A.put(o,e,{headers:{["Content-Type"]:s}}),this.newImage=o.split("?").shift()},async finishSetUpProfile(){const e={id:this.profile.id,username:this.profile.username,avatar:this.newImage};await Promise.all([this.editMyProfile(e),this.loadTweets(this.profile.id),this.editUserProfile(e)]),this.$emit("update:showSetUpProfileModal",!1)}},created(){window.addEventListener("keyup",(()=>{27===event.keyCode&&this.$emit("update:showSetUpProfileModal",!1)}))},destroyed:function(){window.removeEventListener("keyup",(()=>{27===event.keyCode&&this.$emit("update:showSetUpProfileModal",!1)}))}},ne=s(6262);const ce=(0,ne.A)(ae,[["render",le]]);var de=ce;const ue={class:"fixed w-full h-full top-0 left-0 flex items-center justify-center"},fe={class:"modal-main bg-white mx-auto rounded-lg z-50 overflow-y-auto no-scrollbar",style:{height:"65%",width:"40%"}},pe={class:"pl-1 pr-4 py-1 h-16 border-b-2 border-lightblue"},me={class:"flex flex-row mt-1 ml-4"},ge={class:"border-l-2 border-r-2 border-white"},he={class:"relative",style:{height:"200px",display:"block"}},we={key:0,class:"h-full max-h-full"},be=["src"],ve={key:1,class:"bg-gray-400 h-full max-h-full"},ke={class:"p-3 flex flex-col"},xe={style:{"margin-top":"-80px"},class:"relative w-32 h-32 rounded-full mb-6"},ye=["src"],Le={class:"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3"},_e={class:"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3"},Ee={class:"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3"},Se={class:"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3"},Te={class:"w-full bg-lightest border-b-2 border-dark mb-24 py-1 px-3"};function Ce(e,t,s,l,i,r){return(0,o.uX)(),(0,o.CE)("div",ue,[(0,o.Lk)("div",{class:"absolute w-full h-full bg-gray-900 opacity-50",onClick:t[0]||(t[0]=(0,V.D$)((t=>e.$emit("update:showEditProfileModal",!1)),["prevent"]))}),(0,o.Lk)("div",fe,[(0,o.Lk)("div",pe,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>r.saveProfile()),class:"rounded-full bg-blue font-bold text-white mt-2 p-1 px-4 relative right-0 float-right focus:outline-none hover:bg-darkblue"}," Save "),(0,o.Lk)("div",me,[(0,o.Lk)("i",{onClick:t[2]||(t[2]=t=>e.$emit("update:showEditProfileModal",!1)),class:"fas fa-times text-blue text-2xl mb-8 mr-6 rounded-full bg-white p-2 px-3 hover:bg-lightblue"}),t[12]||(t[12]=(0,o.Lk)("p",{class:"text-xl pt-1 font-bold"},"Edit profile",-1))])]),(0,o.Lk)("div",ge,[(0,o.Lk)("div",he,[t[14]||(t[14]=(0,o.Lk)("div",{class:"absolute w-full max-w-full h-full max-h-full bg-gray-600 opacity-50"},null,-1)),(0,o.Lk)("button",{onClick:t[4]||(t[4]=e=>r.openFileInput("backgroundFileInput")),class:"absolute hover:bg-gray-800 p-3 rounded-full",style:{"margin-left":"45%","margin-top":"80px"}},[t[13]||(t[13]=(0,o.Lk)("i",{class:"text-2xl fas fa-camera text-white"},null,-1)),(0,o.Lk)("input",{onChange:t[3]||(t[3]=e=>r.fileChange("backgroundFileInput","background_image")),ref:"backgroundFileInput",accept:"image/jpeg",type:"file",class:"hidden"},null,544)]),i.background_image?((0,o.uX)(),(0,o.CE)("div",we,[(0,o.Lk)("img",{src:i.background_image,class:"h-full w-full object-cover"},null,8,be)])):(0,o.Q3)("",!0),i.background_image?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ve))]),(0,o.Lk)("div",ke,[(0,o.Lk)("div",xe,[t[16]||(t[16]=(0,o.Lk)("div",{class:"absolute w-32 h-32 rounded-full bg-gray-600 opacity-50 border-4 border-white"},null,-1)),(0,o.Lk)("button",{onClick:t[6]||(t[6]=e=>r.openFileInput("imageUrlFileInput")),class:"absolute hover:bg-gray-800 p-3 rounded-full ml-10 mt-10"},[t[15]||(t[15]=(0,o.Lk)("i",{class:"text-2xl fas fa-camera text-white"},null,-1)),(0,o.Lk)("input",{onChange:t[5]||(t[5]=e=>r.fileChange("imageUrlFileInput","avatar")),ref:"imageUrlFileInput",accept:"image/jpeg",type:"file",class:"hidden"},null,544)]),(0,o.Lk)("img",{src:i.avatar,class:"w-32 h-32 rounded-full border-4 border-white"},null,8,ye)]),(0,o.Lk)("div",Le,[t[17]||(t[17]=(0,o.Lk)("label",{class:"text-dark"},"Name",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.name=e),class:"w-full bg-lightest text-lg focus:outline-none",type:"text"},null,512),[[V.Jo,i.name]])]),(0,o.Lk)("div",_e,[t[18]||(t[18]=(0,o.Lk)("label",{class:"text-dark"},"Bio",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.bio=e),class:"w-full bg-lightest text-lg focus:outline-none",type:"text",placeholder:"Add your bio"},null,512),[[V.Jo,i.bio]])]),(0,o.Lk)("div",Ee,[t[19]||(t[19]=(0,o.Lk)("label",{class:"text-dark"},"Location",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>i.location=e),class:"w-full bg-lightest text-lg focus:outline-none",type:"text",placeholder:"Add your location"},null,512),[[V.Jo,i.location]])]),(0,o.Lk)("div",Se,[t[20]||(t[20]=(0,o.Lk)("label",{class:"text-dark"},"Website",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.website=e),class:"w-full bg-lightest text-lg focus:outline-none",type:"text",placeholder:"Add your website"},null,512),[[V.Jo,i.website]])]),(0,o.Lk)("div",Te,[t[21]||(t[21]=(0,o.Lk)("label",{class:"text-dark"},"Birth date",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>i.birthdate=e),class:"w-full bg-lightest text-lg focus:outline-none",type:"text",placeholder:"Add your birth date (Eg: 2020-01-31)"},null,512),[[V.Jo,i.birthdate]])])])])])])}var Me=s(5093),je=s.n(Me),Pe={name:"SetUpProfileOverlay",props:["showEditProfileModal"],data(){return{name:void 0,background_image:void 0,avatar:void 0,bio:void 0,location:void 0,website:void 0,birthdate:void 0}},computed:{...(0,re.L8)("profilePage",["profile"])},methods:{...(0,re.i0)("warpnet",{editUserProfile:"editMyProfile"}),...(0,re.i0)("profilePage",["getImageUploadUrl","editMyProfile","loadProfile","loadTweets"]),openFileInput(e){this.$refs[e].click()},async fileChange(e,t){const s=this.$refs[e].files[0],o=s.name.split(".").pop(),l="png"===o?"image/png":"image/jpeg",i=await this.getImageUploadUrl(o,l),r=new FormData;r.append("image",s),await ie.A.put(i,s,{headers:{["Content-Type"]:l}}),this[t]=i.split("?").shift()},async saveProfile(){const e={id:this.id,username:this.username,avatar:this.avatar,background_image:this.background_image,bio:this.bio,location:this.location,website:this.website,birthdate:je()(this.birthdate,"YYYY-MM-DD").format("YYYY-MM-DD")},t=await this.editMyProfile(e);await Promise.all([this.loadProfile(t.id),this.loadTweets(t.id),this.editUserProfile(e)]),this.background_image=t.background_image,this.avatar=t.avatar,this.$emit("update:showEditProfileModal",!1)}},created(){this.username=this.profile.username,this.background_image=this.profile.background_image,this.avatar=this.profile.avatar,this.bio=this.profile.bio,this.location=this.profile.location,this.website=this.profile.website,this.birthdate=this.profile.birthdate,window.addEventListener("keyup",(()=>{27===event.keyCode&&this.$emit("update:showEditProfileModal",!1)}))},destroyed:function(){window.removeEventListener("keyup",(()=>{27===event.keyCode&&this.$emit("update:showEditProfileModal",!1)}))}};const Oe=(0,ne.A)(Pe,[["render",Ce]]);var Ae=Oe,Ne=s(5587),Re={name:"Profile",components:{SideNav:z.A,SearchBar:B.A,Tweets:G.A,SetUpProfileOverlay:de,EditProfileOverlay:Ae,Loader:Ne.A},data(){return{showSetUpProfileModal:!1,showEditProfileModal:!1,isSelf:!1,followingLabel:"Following",loading:!0,noUser:!1}},computed:{...(0,re.L8)("warpnet",{userProfile:"profile",isMySelf:"isSelf"}),...(0,re.L8)("profilePage",{cursor:"cursorTweets"}),...(0,re.L8)("profilePage",["profile","joinedDate","tweets"])},methods:{...(0,re.i0)("authentication",["loginUserIfAlreadyAuthenticated"]),...(0,re.i0)("profilePage",["loadProfile","loadTweets","loadMoreTweets"]),...(0,re.i0)("profilePage",{follow:"followUser",unfollow:"unfollowUser"}),gotoHome(){this.$router.push({name:"Home"})},sendMessage(){const e=`${this.userProfile.id}_${this.profile.id}`;this.$router.push({name:"Messages",params:{conversation:e}})},goToFollowing(){this.$router.push({name:"Following",params:{username:this.profile.username}})},goToFollowers(){this.$router.push({name:"Followers",params:{username:this.profile.username}})},setUpProfile(){this.showSetUpProfileModal=!0},editProfile(){this.showEditProfileModal=!0},async followUser(){this.profile.following=!0,this.profile.followers_num++,await this.follow(this.profile.id).catch((e=>{console.error(`failed to follow [${this.profile.id}]`,e),this.profile.following=!1,this.profile.followers_num--}))},async unfollowUser(){this.profile.following=!1,this.profile.followers_num--,await this.unfollow(this.profile.id).catch((e=>{console.error(`failed to unfollow [${this.profile.id}]`,e),this.profile.following=!0,this.profile.followers_num++}))},async loadMore(){console.log("loading..."),await this.loadMoreTweets(10).catch((e=>{console.log(e)}))}},async created(){this.tweets.length>0&&(this.loading=!1),await this.loginUserIfAlreadyAuthenticated(),this.isSelf=this.isMySelf(this.profile.id),await Promise.all([this.loadProfile(this.profile.id),this.loadTweets(this.profile.id).then((()=>this.loading=!1)).catch((()=>{this.loading=!1,this.noUser=!0}))])}};const Ie=(0,ne.A)(Re,[["render",J]]);var Ue=Ie},7790:function(){},3776:function(){}},t={};function s(o){var l=t[o];if(void 0!==l)return l.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=e,function(){var e=[];s.O=function(t,o,l,i){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],l=e[d][1],i=e[d][2];for(var a=!0,n=0;n<o.length;n++)(!1&i||r>=i)&&Object.keys(s.O).every((function(e){return s.O[e](o[n])}))?o.splice(n--,1):(a=!1,i<r&&(r=i));if(a){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,l,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,o){return s.f[o](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+{187:"search",541:"hashtag",596:"followers",856:"following",871:"messages",893:"notifications",962:"home",966:"login"}[e]+"."+{187:"0e19ac18",541:"0e021b36",596:"f567b468",856:"6a87589f",871:"be5b9f15",893:"a39ddcfe",962:"e515f500",966:"e3f513ed"}[e]+".js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="warpnet-frontend:";s.l=function(o,l,i,r){if(e[o])e[o].push(l);else{var a,n;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+i){a=u;break}}a||(n=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",t+i),a.src=o),e[o]=[l];var f=function(t,s){a.onerror=a.onload=null,clearTimeout(p);var l=e[o];if(delete e[o],a.parentNode&&a.parentNode.removeChild(a),l&&l.forEach((function(e){return e(s)})),t)return t(s)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),n&&document.head.appendChild(a)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={524:0};s.f.j=function(t,o){var l=s.o(e,t)?e[t]:void 0;if(0!==l)if(l)o.push(l[2]);else{var i=new Promise((function(s,o){l=e[t]=[s,o]}));o.push(l[2]=i);var r=s.p+s.u(t),a=new Error,n=function(o){if(s.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var i=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",a.name="ChunkLoadError",a.type=i,a.request=r,l[1](a)}};s.l(r,n,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,i,r=o[0],a=o[1],n=o[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(l in a)s.o(a,l)&&(s.m[l]=a[l]);if(n)var d=n(s)}for(t&&t(o);c<r.length;c++)i=r[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},o=self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(9552)}));o=s.O(o)})();
//# sourceMappingURL=app.a29cb5ed.js.map