"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[143,969],{8969:function(o,e,l){l.r(e),l.d(e,{default:function(){return y}});var r=l(641);const t={class:"hidden md:block w-1/3 h-full border-l border-lighter px-6 py-2 relative min-w-max"};function s(o,e,l,s,i,n){const a=(0,r.g2)("SearchBar"),u=(0,r.g2)("WhoToFollow");return(0,r.uX)(),(0,r.CE)("div",t,[(0,r.bF)(a),(0,r.bF)(u)])}var i=l(5143),n=l(33);const a={class:"w-full rounded-lg bg-lightest my-4"},u=["onClick","src","alt"],d={class:"hidden lg:block ml-4"},c=["onClick"],f={class:"text-left text-sm leading-tight text-dark"},h=["onClick"],m=["onClick"];function p(o,e,l,t,s,i){return(0,r.uX)(),(0,r.CE)("div",a,[e[1]||(e[1]=(0,r.Lk)("div",{class:"p-3"},[(0,r.Lk)("p",{class:"text-lg font-bold"},"Who to follow")],-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.profiles,(o=>((0,r.uX)(),(0,r.CE)("div",{key:o.id,class:"w-full flex hover:bg-lighter p-3 border-t border-lighter"},[(0,r.Lk)("img",{onClick:e=>i.pushToProfilePage(o.id),src:o.avatar||"default_profile.png",class:"w-12 h-12 rounded-full cursor-pointer",alt:o.username},null,8,u),(0,r.Lk)("div",d,[(0,r.Lk)("p",{onClick:e=>i.pushToProfilePage(o.id),class:"text-left text-sm font-bold leading-tight cursor-pointer"},(0,n.v_)(o.username),9,c),(0,r.Lk)("p",f,(0,n.v_)(o.id.slice(0,8))+"...",1)]),i.isFollowed(o.id)?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:e=>i.follow(o.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Follow ",8,h)),i.isFollowed(o.id)?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:e=>i.unfollow(o.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Unfollow ",8,m)):(0,r.Q3)("",!0)])))),128)),(0,r.Lk)("button",{onClick:e[0]||(e[0]=e=>i.loadWhoToFollow(o.profile.id)),class:"p-3 w-full hover:bg-lighter text-left text-blue border-t border-lighter"}," Show More ")])}l(4114),l(8111),l(2489);var w=l(3856),b={name:"WhoToFollow",data(){return{userProfile:void 0,profiles:[],profilesCursor:""}},methods:{async pushToProfilePage(o){this.$router.push({name:"Profile",params:{id:o}})},async isFollowed(o){return await w.m.isFollowed(o)},async follow(o){await w.m.followUser(o)},async unfollow(o){await w.m.unfollowUser(o)},async loadWhoToFollow(o){const e=await w.m.getUsers({userId:o,limit:20,cursor:this.profilesCursor}),l=e.users.filter((o=>o.id!==this.userProfile.id));this.profilesCursor=e.cursor;const r=await w.m.getFollowers({userId:o,limit:20,cursor:this.followersCursor}),t=r.users||[];this.profiles=l.filter((o=>!t.includes(o)))}},async created(){let o;console.log("loading component:",this.$options.name),this.userProfile=await w.m.getProfile(this.$route.params.id),o="Home"===this.$route.name?this.userProfile.id:this.$route.params.id,await this.loadWhoToFollow(o)}},g=l(6262);const k=(0,g.A)(b,[["render",p]]);var C=k,v={name:"DefaultRightBar",components:{SearchBar:i["default"],WhoToFollow:C}};const x=(0,g.A)(v,[["render",s]]);var y=x},5143:function(o,e,l){l.r(e),l.d(e,{default:function(){return u}});var r=l(641),t=l(3751);function s(o,e,l,s,i,n){return(0,r.uX)(),(0,r.CE)("div",null,[e[2]||(e[2]=(0,r.Lk)("i",{class:"fas fa-search absolute mt-2 ml-5 text-sm text-light cursor-not-allowed"},null,-1)),(0,r.bo)((0,r.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4",placeholder:"Search Tweet","onUpdate:modelValue":e[0]||(e[0]=o=>i.query=o),onKeyup:e[1]||(e[1]=(0,t.jR)((o=>n.submit()),["enter"]))},null,544),[[t.Jo,i.query]])])}l(4114);var i={name:"SearchBar",data(){return{query:"Doesn't work for now"}},methods:{submit(){this.$router.push({name:"Search",query:{q:this.query}})}}},n=l(6262);const a=(0,n.A)(i,[["render",s]]);var u=a}}]);
//# sourceMappingURL=969.e158c56f.js.map