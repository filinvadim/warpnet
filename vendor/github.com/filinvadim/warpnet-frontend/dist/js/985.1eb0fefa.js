"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[985],{6985:function(e,t,l){l.r(t),l.d(t,{default:function(){return T}});var s=l(641),r=l(33),o=l(3751);const a={key:0,class:"fixed w-full h-full z-10 top-0 left-0 flex items-center justify-center"},i={class:"modal-main bg-white mx-auto rounded-lg z-0 overflow-y-auto",style:{width:"40%"}},n={class:"pl-1 pr-4 py-1 h-16 border-b-2 border-lightblue"},d={class:"flex flex-row mt-1 ml-4"},u={key:0,class:"border-l-2 border-r-2 border-white flex flex-col"},c={class:"p-3 flex flex-row"},f={class:"flex-none mr-4"},p=["src"],w={class:"w-full"},m={class:"flex items-center w-full"},x={class:"font-semibold"},b={class:"text-sm text-dark ml-2"},h={class:"text-sm text-dark ml-2"},k={class:"py-2"},v={class:"p-3 flex flex-row"},y={class:"flex-none mr-4"},L=["src"],g={class:"w-full mb-2"},_=["disabled"];function $(e,t,l,$,C,R){const E=(0,s.g2)("Tweets"),I=(0,s.gN)("linkify");return l.showReplyOverlay?((0,s.uX)(),(0,s.CE)("div",a,[(0,s.Lk)("div",{class:"absolute w-full h-full bg-gray-900 opacity-50",onClick:t[0]||(t[0]=e=>this.$emit("close"))}),(0,s.Lk)("div",i,[(0,s.Lk)("div",n,[(0,s.Lk)("div",d,[(0,s.Lk)("i",{onClick:t[1]||(t[1]=e=>this.$emit("close")),class:"fas fa-times text-blue text-2xl mb-8 mr-6 rounded-full bg-white p-2 px-3 hover:bg-lightblue cursor-pointer"})])]),l.profile?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("div",c,[(0,s.Lk)("div",f,[(0,s.Lk)("img",{src:`${l.profile.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full flex-none"},null,8,p)]),(0,s.Lk)("div",w,[(0,s.Lk)("div",m,[(0,s.Lk)("p",x,(0,r.v_)(l.tweet.user_id),1),(0,s.Lk)("p",b," @"+(0,r.v_)(l.tweet.username),1),t[4]||(t[4]=(0,s.Lk)("p",{class:"text-sm text-dark ml-2"},"Â·",-1)),(0,s.Lk)("p",h,(0,r.v_)(e.$filters.timeago(l.tweet.created_at)),1)]),(0,s.bo)(((0,s.uX)(),(0,s.CE)("p",k,[(0,s.eW)((0,r.v_)(l.tweet.text),1)])),[[I]])])]),(0,s.Lk)("div",v,[(0,s.Lk)("div",y,[(0,s.Lk)("img",{src:`${l.profile.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full flex-none",alt:"User avatar"},null,8,L)]),(0,s.Lk)("div",g,[(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>R.sendReply&&R.sendReply(...e)),["prevent"])),class:"w-full relative"},[(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>C.text=e),placeholder:"Tweet your reply",class:"w-full focus:outline-none mt-3 pb-3"},null,512),[[o.Jo,C.text]]),t[5]||(t[5]=(0,s.Lk)("div",null,[(0,s.Lk)("i",{class:"text-lg text-blue mr-4 far fa-image cursor-pointer"}),(0,s.Lk)("i",{class:"text-lg text-blue mr-4 fas fa-film cursor-not-allowed"}),(0,s.Lk)("i",{class:"text-lg text-blue mr-4 far fa-chart-bar cursor-not-allowed"}),(0,s.Lk)("i",{class:"text-lg text-blue mr-4 far fa-smile cursor-not-allowed"})],-1)),(0,s.Lk)("button",{type:"submit",class:(0,r.C4)(["h-10 px-4 text-white font-semibold bg-blue hover:bg-darkblue rounded-full absolute bottom-0 right-0",{"opacity-50 cursor-not-allowed":!C.text}]),disabled:!C.text}," Reply ",10,_)],32)])]),(0,s.Lk)("div",null,[(0,s.bF)(E,{tweets:C.replies},null,8,["tweets"])])])):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)}l(4114);var C=l(1787),R={name:"ReplyOverlay",components:{Tweets:(0,s.$V)((()=>l.e(666).then(l.bind(l,8666))))},props:["tweet","showReplyOverlay","profile"],data(){return{text:"",replies:[]}},methods:{async sendReply(){await C.n.replyTweet({rootId:this.tweet.root_id||this.tweet.id,parentId:this.tweet.id,parentUserId:this.tweet.user_id,text:this.text}),this.$emit("close")}},beforeUnmount(){window.removeEventListener("keydown",this.handleEscape)},async created(){console.log("loading component:",this.$options.name);const e={rootId:this.tweet.root_id||this.tweet.id,parentId:this.tweet.id};let t=await C.n.getReplies(e,!0);for(const l of t||[])this.replies.push(l.reply)}},E=l(6262);const I=(0,E.A)(R,[["render",$]]);var T=I}}]);
//# sourceMappingURL=985.1eb0fefa.js.map