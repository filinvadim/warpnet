"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[530],{4530:function(e,t,l){l.r(t),l.d(t,{default:function(){return m}});var a=l(641),i=l(3751);const n={class:"fixed w-full h-full top-0 left-0 flex items-center justify-center"},o={class:"modal-main bg-white mx-auto rounded-lg z-50 overflow-y-auto",style:{height:"80%",width:"40%"}},r={class:"pl-1 pr-4 py-1 h-12"},s={class:"pt-5 px-8"},u={class:"mt-16 w-full flex items-center justify-center"},f={class:"relative"},p=["src"];function d(e,t,l,d,c,h){return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",{class:"absolute w-full h-full bg-gray-900 opacity-50",onClick:t[0]||(t[0]=(0,i.D$)((t=>e.$emit("update:showSetUpProfileModal",!1)),["prevent"]))}),(0,a.Lk)("div",o,[(0,a.Lk)("div",r,[null===c.newImage||"default_profile.png"===c.newImage?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[1]||(t[1]=t=>e.$emit("update:showSetUpProfileModal",!1)),class:"rounded-full bg-white font-bold text-blue mt-2 p-1 px-3 relative right-0 float-right focus:outline-none hover:bg-lightblue"}," Skip for now ")):(0,a.Q3)("",!0),null!==c.newImage&&"default_profile.png"!==c.newImage?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t[2]||(t[2]=(...e)=>h.finishSetUpProfile&&h.finishSetUpProfile(...e)),class:"rounded-full bg-blue font-bold text-white mt-2 p-1 px-4 relative right-0 float-right focus:outline-none hover:bg-darkblue"}," Next ")):(0,a.Q3)("",!0),t[5]||(t[5]=(0,a.Lk)("i",{class:"relative fab text-blue text-2xl mt-2 mb-8",style:{"margin-left":"50%"}},null,-1))]),(0,a.Lk)("div",s,[t[8]||(t[8]=(0,a.Lk)("div",{class:"flex justify-between items-center mb-5"},[(0,a.Lk)("p",{class:"text-2xl font-bold"},"Pick a profile picture")],-1)),t[9]||(t[9]=(0,a.Lk)("p",{class:"text-dark"},"Have a favorite selfie? Upload it now.",-1)),(0,a.Lk)("div",u,[(0,a.Lk)("div",f,[t[7]||(t[7]=(0,a.Lk)("div",{class:"absolute w-32 h-32 rounded-full bg-gray-600 opacity-50"},null,-1)),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>h.openFileInput&&h.openFileInput(...e)),class:"absolute hover:bg-gray-800 p-3 rounded-full",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},[t[6]||(t[6]=(0,a.Lk)("i",{class:"text-2xl fas fa-camera text-white"},null,-1)),(0,a.Lk)("input",{onChange:t[3]||(t[3]=(...e)=>h.fileChange&&h.fileChange(...e)),ref:"fileInput",accept:"image/*",type:"file",class:"hidden"},null,544)]),(0,a.Lk)("img",{class:"w-32 h-32 rounded-full",src:c.newImage,alt:"Profile picture"},null,8,p)])])])])])}var c=l(1787),h={name:"SetUpProfileOverlay",props:{showSetUpProfileModal:{type:Boolean,required:!0}},data(){return{newImage:"default_profile.png",profile:{}}},methods:{handleKeyup(e){"Escape"===e.key&&this.$emit("update:showSetUpProfileModal",!1)},openFileInput(){this.$refs.fileInput.click()},async fileChange(){const e=this.$refs.fileInput.files[0],t=new FileReader;t.readAsDataURL(e),t.onload=()=>this.newImage=t.result,t.onerror=e=>alert(e)},async finishSetUpProfile(){const e={username:this.profile.username,avatar_key:""};e.avatar_key=await c.f.uploadImage(this.newImage),this.profile=await c.f.editMyProfile(e),this.newImage=await c.f.getImage({userId:this.profile.id,key:this.profile.avatar_key}),this.$emit("update:showSetUpProfileModal",!1)}},mounted(){window.addEventListener("keyup",this.handleKeyup)},beforeUnmount(){window.removeEventListener("keyup",this.handleKeyup)}},g=l(6262);const w=(0,g.A)(h,[["render",d]]);var m=w}}]);
//# sourceMappingURL=530.ce5d9baa.js.map