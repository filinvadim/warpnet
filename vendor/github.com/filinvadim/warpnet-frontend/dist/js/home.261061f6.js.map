{"version":3,"file":"js/home.261061f6.js","mappings":"oNACOA,GAAG,MAAMC,MAAM,kC,GAMhBA,MAAM,gD,GAIJA,MAAM,uE,GASHA,MAAM,4C,GApBjBC,IAAA,EAqB4BD,MAAM,kB,EArBlC,Q,GA4BaA,MAAM,mB,GA5BnBC,IAAA,EAuDQD,MAAM,+D,6LAtDZE,EAAAA,EAAAA,IA6EM,MA7ENC,EA6EM,EA3EJC,EAAAA,EAAAA,IAAWC,IAAA,qBAGXH,EAAAA,EAAAA,IAgEM,MAhENI,EAgEM,EA5DJC,EAAAA,EAAAA,IASM,MATNC,EASM,cANJD,EAAAA,EAAAA,IAAuC,MAAnCP,MAAM,qBAAoB,QAAI,KAClCO,EAAAA,EAAAA,IAIE,UAHGE,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,YAAAD,EAAAC,cAAAF,IACRX,MAAM,uEACN,cAAY,YAGlBO,EAAAA,EAAAA,IA6BM,MA7BNO,EA6BM,CA5BOC,EAAAC,UAAO,WAAlBd,EAAAA,EAAAA,IAMM,MANNe,EAMM,EALJV,EAAAA,EAAAA,IAIE,OAHCW,IAAKH,EAAAC,QAAQG,QAAU,sBACxBnB,MAAM,oC,OAxBlBoB,OAAAC,EAAAA,EAAAA,IAAA,QA4BQd,EAAAA,EAAAA,IAoBM,MApBNe,EAoBM,WAnBJf,EAAAA,EAAAA,IAIY,YAjCtB,sBAAAG,EAAA,KAAAA,EAAA,GAAAa,GA8BqBR,EAAAS,MAAMC,KAAIF,GACnBG,YAAY,oBACZ1B,MAAM,uC,iBAFGe,EAAAS,MAAMC,QAAI,aAIrBlB,EAAAA,EAAAA,IAKM,aAJJA,EAAAA,EAAAA,IAAmD,KAAhDP,MAAM,yCACTO,EAAAA,EAAAA,IAAqE,KAAlEP,MAAM,2DACTO,EAAAA,EAAAA,IAA0E,KAAvEP,MAAM,gEACTO,EAAAA,EAAAA,IAAsE,KAAnEP,MAAM,6DAAwD,KAEnEO,EAAAA,EAAAA,IAOS,UANNE,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAe,aAAAf,EAAAe,eAAAhB,IACRiB,KAAK,SACL5B,OA3CZ6B,EAAAA,EAAAA,IAAA,CA2CkB,sGACEd,EAAAS,MAAMC,KAAO,GAAK,mCAC3B,UAED,QAKJrB,EAAAA,EAAAA,IAA6B0B,EAAA,CAApBC,QAAShB,EAAAgB,SAAO,oBAEhBhB,EAAAgB,SAA+B,IAApBhB,EAAAiB,SAASC,QAtDnCZ,EAAAA,EAAAA,IAAA,SAsDyC,WADnCnB,EAAAA,EAAAA,IAeM,MAfNgC,EAeMxB,EAAA,KAAAA,EAAA,KApEZyB,EAAAA,EAAAA,IAAA,mZAqEM/B,EAAAA,EAAAA,IAA6BgC,EAAA,CAApBC,OAAQtB,EAAAiB,UAAQ,0BA7DRpB,EAAA0B,SAAR,aA+DXlC,EAAAA,EAAAA,IAIEmC,EAAA,CAHGC,QAASzB,EAAA0B,SACTC,QAAS3B,EAAA4B,YACTC,SAAU7B,EAAA8B,c,0CAGfzC,EAAAA,EAAAA,IAAmB0C,I,eAOvB,GACEC,KAAM,OACNC,WAAY,CACVC,SAASC,EAAAA,EAAAA,KAAqB,IAAM,gCACpCC,iBAAiBD,EAAAA,EAAAA,KAAqB,IAAM,+BAC5CE,QAAQF,EAAAA,EAAAA,KAAqB,IAAM,gCACnCG,QAAQH,EAAAA,EAAAA,KAAqB,IAAM,gCACnCI,aAAaJ,EAAAA,EAAAA,KAAqB,IAAM,iCAE1CK,IAAAA,GACE,MAAO,CACL/B,MAAO,CACLC,KAAM,GACN+B,QAAS,IAEXzB,SAAS,EACTf,QAAS,CAAC,EACVgB,SAAU,GACVyB,eAAgB,GAChBhB,UAAU,EACVE,YAAa,GACbE,aAAc,CAAEa,IAAK,MAAOC,KAAM,OAEtC,EACAC,QAAS,KACJC,EAAAA,EAAAA,IAAW,UAAW,CACvB,kBACA,gBACA,cACA,gBAEF,iBAAMlC,GACJ,IAAKmC,KAAKtC,MAAMC,KAAM,aAChBqC,KAAKC,YAAYD,KAAKtC,MAAMC,MAClCqC,KAAKtC,MAAMC,KAAO,GAClB,MAAMuC,QAAqBF,KAAKG,cAAc,CAACC,MAAO,GAAIC,OAAOL,KAAKL,iBACtEK,KAAK9B,SAAWgC,EAAa3B,QAAU,GACvCyB,KAAKL,eAAiBO,EAAaG,MACrC,EACA,cAAM7B,GACJ,GAA4B,QAAxBwB,KAAKL,eAA0B,OACnC,MAAMO,QAAqBF,KAAKG,cAAc,CAACC,MAAO,GAAIC,OAAOL,KAAKL,iBACtEK,KAAK9B,SAAW8B,KAAK9B,SAASoC,OAAOJ,EAAa3B,QAAW,IAC7DyB,KAAKL,eAAiBO,EAAaG,MACrC,EACA,gBAAMtD,CAAWwD,GACf,GAAIP,KAAKrB,SAEP,YADAqB,KAAKrB,UAAW,GAIlB,MAAM6B,QAAaR,KAAKS,UACxBT,KAAKnB,YAA8B,kBAAT2B,EAAoBA,EAAOE,KAAKC,UAAUH,EAAM,KAAM,GAEhF,MAAMI,EAAOL,EAAMM,OAAOC,wBAC1Bd,KAAKjB,aAAe,CAClBa,IAAK,GAAGgB,EAAKG,OAASC,OAAOC,YAC7BpB,KAAM,GAAGe,EAAKf,KAAOmB,OAAOE,aAG9BlB,KAAKrB,UAAW,CAClB,EACA,aAAM8B,GACJ,aAAaT,KAAKmB,aACpB,GAEF,aAAMC,GACJC,QAAQC,IAAI,qBAAsBtB,KAAKlD,SAASmC,MAC5Ce,KAAK9B,SAASC,OAAS,IACzB6B,KAAK/B,SAAU,GAEjB+B,KAAK9C,cAAgB8C,KAAKuB,mBAAqB,CAAC,EAChD,MAAMrB,QAAqBF,KAAKG,cAAc,CAACC,MAAO,GAAIC,OAAOL,KAAKL,iBACtEK,KAAK9B,SAAWgC,EAAa3B,QAAW,GACxCyB,KAAKL,eAAiBO,EAAaG,OACnCL,KAAK/B,SAAU,CACjB,G,UC3JF,MAAMuD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://warpnet-frontend/./src/views/Home.vue","webpack://warpnet-frontend/./src/views/Home.vue?9051"],"sourcesContent":["<template>\n  <div id=\"app\" class=\"flex container h-screen w-full\">\n    <!-- side navigation -->\n    <SideNav />\n\n    <!-- timeline -->\n    <div\n      class=\"w-full h-full overflow-y-scroll no-scrollbar\"\n      v-scroll:bottom=\"loadMore\"\n    >\n      <div\n        class=\"px-5 py-3 border-b border-lighter flex items-center justify-between\"\n      >\n        <h1 class=\"text-xl font-bold\">Home</h1>\n        <button\n            @click=\"toggleInfo\"\n            class=\"fas fa-info-circle text-xl text-blue cursor-pointer hover:bg-lighter\"\n            aria-hidden=\"true\"\n        />\n      </div>\n      <div class=\"px-5 py-3 border-b-8 border-lighter flex\">\n        <div v-if=\"profile\" class=\"flex-none mr-4\">\n          <img\n            :src=\"profile.avatar || 'default_profile.png'\"\n            class=\"flex-none w-12 h-12 rounded-full\"\n\n          />\n        </div>\n        <div class=\"w-full relative\">\n          <textarea\n            v-model=\"tweet.text\"\n            placeholder=\"What's happening?\"\n            class=\"w-full focus:outline-none mt-3 pb-3\"\n          ></textarea>\n          <div>\n            <i class=\"text-lg text-blue mr-4 far fa-image\"></i>\n            <i class=\"text-lg text-blue mr-4 fas fa-film cursor-not-allowed\"></i>\n            <i class=\"text-lg text-blue mr-4 far fa-chart-bar cursor-not-allowed\"></i>\n            <i class=\"text-lg text-blue mr-4 far fa-smile cursor-not-allowed\"></i>\n          </div>\n          <button\n            @click=\"addNewTweet\"\n            type=\"button\"\n            class=\"h-10 px-4 text-white font-semibold bg-blue hover:bg-darkblue rounded-full absolute bottom-0 right-0\"\n            :class=\"tweet.text ? '' : 'opacity-50 cursor-not-allowed'\"\n          >\n            Tweet\n          </button>\n        </div>\n      </div>\n\n      <!-- timeline -->\n      <Loader :loading=\"loading\" />\n      <div\n        v-if=\"!loading && timeline.length === 0\"\n        class=\"flex flex-col items-center justify-center w-full pt-10 px-6\"\n      >\n        <p class=\"font-bold text-lg\">Welcome to Warpnet!</p>\n        <p class=\"text-sm text-dark text-center\">\n          This is the best place to see what's happening in your world. Find\n          some people and topics to follow now.\n        </p>\n        <button\n          class=\"text-white bg-blue rounded-full font-semibold mt-4 px-4 py-2 hover:bg-darkblue\"\n        >\n          <p class=\"hidden lg:block\">Let's go!</p>\n          <i class=\"fas fa-plus lg:hidden\"></i>\n        </button>\n      </div>\n      <Tweets :tweets=\"timeline\" />\n    </div>\n    <InfoOverlay\n        :visible=\"showInfo\"\n        :content=\"infoContent\"\n        :position=\"infoPosition\"\n    />\n    <!-- default right bar -->\n    <DefaultRightBar />\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport {defineAsyncComponent} from \"vue\";\nexport default {\n  name: \"Home\",\n  components: {\n    SideNav: defineAsyncComponent(() => import('@/components/SideNav.vue')),\n    DefaultRightBar: defineAsyncComponent(() => import('@/components/DefaultRightBar.vue')),\n    Tweets: defineAsyncComponent(() => import('@/components/Tweets.vue')),\n    Loader: defineAsyncComponent(() => import('@/components/Loader.vue')),\n    InfoOverlay: defineAsyncComponent(() => import('@/components/InfoOverlay.vue')),\n  },\n  data() {\n    return {\n      tweet: {\n        text: \"\",\n        root_id: \"\",\n      },\n      loading: true,\n      profile: {},\n      timeline: [],\n      timelineCursor: \"\",\n      showInfo: false,\n      infoContent: '',\n      infoPosition: { top: '0px', left: '0px' },\n    };\n  },\n  methods: {\n    ...mapActions(\"warpnet\", [\n      \"getOwnerProfile\",\n      \"getMyTimeline\",\n      \"createTweet\",\n      \"getNodeInfo\",\n    ]),\n    async addNewTweet() {\n      if (!this.tweet.text) return;\n      await this.createTweet(this.tweet.text);\n      this.tweet.text = \"\";\n      const timelineData = await this.getMyTimeline({limit: 20, cursor:this.timelineCursor});\n      this.timeline = timelineData.tweets || [];\n      this.timelineCursor = timelineData.cursor;\n    },\n    async loadMore() {\n      if (this.timelineCursor === \"end\") return;\n      const timelineData = await this.getMyTimeline({limit: 20, cursor:this.timelineCursor});\n      this.timeline = this.timeline.concat(timelineData.tweets  || []);\n      this.timelineCursor = timelineData.cursor;\n    },\n    async toggleInfo(event) {\n      if (this.showInfo) {\n        this.showInfo = false;\n        return;\n      }\n\n      const info = await this.getInfo();\n      this.infoContent = typeof info === 'string' ? info : JSON.stringify(info, null, 2);\n\n      const rect = event.target.getBoundingClientRect();\n      this.infoPosition = {\n        top: `${rect.bottom + window.scrollY}px`,\n        left: `${rect.left + window.scrollX}px`,\n      };\n\n      this.showInfo = true;\n    },\n    async getInfo() {\n      return await this.getNodeInfo();\n    },\n  },\n  async created() {\n    console.log(\"loading component:\", this.$options.name);\n    if (this.timeline.length > 0) {\n      this.loading = false;\n    }\n    this.profile = await this.getOwnerProfile() || {};\n    const timelineData = await this.getMyTimeline({limit: 20, cursor:this.timelineCursor});\n    this.timeline = timelineData.tweets  || [];\n    this.timelineCursor = timelineData.cursor;\n    this.loading = false;\n  },\n};\n</script>","import { render } from \"./Home.vue?vue&type=template&id=36a965be\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","key","_createElementBlock","_hoisted_1","_createVNode","_component_SideNav","_hoisted_2","_createElementVNode","_hoisted_3","onClick","_cache","args","$options","toggleInfo","_hoisted_4","$data","profile","_hoisted_5","src","avatar","_hoisted_6","_createCommentVNode","_hoisted_7","$event","tweet","text","placeholder","addNewTweet","type","_normalizeClass","_component_Loader","loading","timeline","length","_hoisted_8","_createStaticVNode","_component_Tweets","tweets","loadMore","_component_InfoOverlay","visible","showInfo","content","infoContent","position","infoPosition","_component_DefaultRightBar","name","components","SideNav","defineAsyncComponent","DefaultRightBar","Tweets","Loader","InfoOverlay","data","root_id","timelineCursor","top","left","methods","mapActions","this","createTweet","timelineData","getMyTimeline","limit","cursor","concat","event","info","getInfo","JSON","stringify","rect","target","getBoundingClientRect","bottom","window","scrollY","scrollX","getNodeInfo","created","console","log","getOwnerProfile","__exports__","render"],"sourceRoot":""}