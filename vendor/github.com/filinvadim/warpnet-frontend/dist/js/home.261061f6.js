"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[962],{3699:function(e,t,o){o.r(t),o.d(t,{default:function(){return x}});var i=o(641),n=o(3751),l=o(33);const s={id:"app",class:"flex container h-screen w-full"},r={class:"w-full h-full overflow-y-scroll no-scrollbar"},a={class:"px-5 py-3 border-b border-lighter flex items-center justify-between"},c={class:"px-5 py-3 border-b-8 border-lighter flex"},f={key:0,class:"flex-none mr-4"},d=["src"],u={class:"w-full relative"},h={key:0,class:"flex flex-col items-center justify-center w-full pt-10 px-6"};function w(e,t,o,w,g,p){const b=(0,i.g2)("SideNav"),m=(0,i.g2)("Loader"),x=(0,i.g2)("Tweets"),k=(0,i.g2)("InfoOverlay"),v=(0,i.g2)("DefaultRightBar"),y=(0,i.gN)("scroll");return(0,i.uX)(),(0,i.CE)("div",s,[(0,i.bF)(b),(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("div",a,[t[3]||(t[3]=(0,i.Lk)("h1",{class:"text-xl font-bold"},"Home",-1)),(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>p.toggleInfo&&p.toggleInfo(...e)),class:"fas fa-info-circle text-xl text-blue cursor-pointer hover:bg-lighter","aria-hidden":"true"})]),(0,i.Lk)("div",c,[g.profile?((0,i.uX)(),(0,i.CE)("div",f,[(0,i.Lk)("img",{src:g.profile.avatar||"default_profile.png",class:"flex-none w-12 h-12 rounded-full"},null,8,d)])):(0,i.Q3)("",!0),(0,i.Lk)("div",u,[(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>g.tweet.text=e),placeholder:"What's happening?",class:"w-full focus:outline-none mt-3 pb-3"},null,512),[[n.Jo,g.tweet.text]]),t[4]||(t[4]=(0,i.Lk)("div",null,[(0,i.Lk)("i",{class:"text-lg text-blue mr-4 far fa-image"}),(0,i.Lk)("i",{class:"text-lg text-blue mr-4 fas fa-film cursor-not-allowed"}),(0,i.Lk)("i",{class:"text-lg text-blue mr-4 far fa-chart-bar cursor-not-allowed"}),(0,i.Lk)("i",{class:"text-lg text-blue mr-4 far fa-smile cursor-not-allowed"})],-1)),(0,i.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>p.addNewTweet&&p.addNewTweet(...e)),type:"button",class:(0,l.C4)(["h-10 px-4 text-white font-semibold bg-blue hover:bg-darkblue rounded-full absolute bottom-0 right-0",g.tweet.text?"":"opacity-50 cursor-not-allowed"])}," Tweet ",2)])]),(0,i.bF)(m,{loading:g.loading},null,8,["loading"]),g.loading||0!==g.timeline.length?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",h,t[5]||(t[5]=[(0,i.Fv)('<p class="font-bold text-lg">Welcome to Warpnet!</p><p class="text-sm text-dark text-center"> This is the best place to see what&#39;s happening in your world. Find some people and topics to follow now. </p><button class="text-white bg-blue rounded-full font-semibold mt-4 px-4 py-2 hover:bg-darkblue"><p class="hidden lg:block">Let&#39;s go!</p><i class="fas fa-plus lg:hidden"></i></button>',3)]))),(0,i.bF)(x,{tweets:g.timeline},null,8,["tweets"])])),[[y,p.loadMore,"bottom"]]),(0,i.bF)(k,{visible:g.showInfo,content:g.infoContent,position:g.infoPosition},null,8,["visible","content","position"]),(0,i.bF)(v)])}var g=o(6278),p={name:"Home",components:{SideNav:(0,i.$V)((()=>o.e(322).then(o.bind(o,6322)))),DefaultRightBar:(0,i.$V)((()=>o.e(61).then(o.bind(o,4061)))),Tweets:(0,i.$V)((()=>o.e(230).then(o.bind(o,5230)))),Loader:(0,i.$V)((()=>o.e(587).then(o.bind(o,5587)))),InfoOverlay:(0,i.$V)((()=>o.e(460).then(o.bind(o,8460))))},data(){return{tweet:{text:"",root_id:""},loading:!0,profile:{},timeline:[],timelineCursor:"",showInfo:!1,infoContent:"",infoPosition:{top:"0px",left:"0px"}}},methods:{...(0,g.i0)("warpnet",["getOwnerProfile","getMyTimeline","createTweet","getNodeInfo"]),async addNewTweet(){if(!this.tweet.text)return;await this.createTweet(this.tweet.text),this.tweet.text="";const e=await this.getMyTimeline({limit:20,cursor:this.timelineCursor});this.timeline=e.tweets||[],this.timelineCursor=e.cursor},async loadMore(){if("end"===this.timelineCursor)return;const e=await this.getMyTimeline({limit:20,cursor:this.timelineCursor});this.timeline=this.timeline.concat(e.tweets||[]),this.timelineCursor=e.cursor},async toggleInfo(e){if(this.showInfo)return void(this.showInfo=!1);const t=await this.getInfo();this.infoContent="string"===typeof t?t:JSON.stringify(t,null,2);const o=e.target.getBoundingClientRect();this.infoPosition={top:`${o.bottom+window.scrollY}px`,left:`${o.left+window.scrollX}px`},this.showInfo=!0},async getInfo(){return await this.getNodeInfo()}},async created(){console.log("loading component:",this.$options.name),this.timeline.length>0&&(this.loading=!1),this.profile=await this.getOwnerProfile()||{};const e=await this.getMyTimeline({limit:20,cursor:this.timelineCursor});this.timeline=e.tweets||[],this.timelineCursor=e.cursor,this.loading=!1}},b=o(6262);const m=(0,b.A)(p,[["render",w]]);var x=m}}]);
//# sourceMappingURL=home.261061f6.js.map