"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[373,541],{8747:function(e,t,s){s.d(t,{A:function(){return u}});var l=s(641);function i(e,t,s,i,r,o){const a=(0,l.g2)("Tweet"),n=(0,l.g2)("User");return(0,l.uX)(),(0,l.CE)("div",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.results,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id},[(0,l.bF)(a,{tweet:e},null,8,["tweet"]),e.username?((0,l.uX)(),(0,l.Wv)(n,{key:0,user:e},null,8,["user"])):(0,l.Q3)("",!0)])))),128))])}var r=s(3373),o=s(9940),a={name:"Results",props:["results"],data(){return{cursorSearch:"",profile:{}}},components:{Tweet:r["default"],User:o.A}},n=s(6262);const d=(0,n.A)(a,[["render",i]]);var u=d},3373:function(e,t,s){s.r(t),s.d(t,{default:function(){return O}});var l=s(641),i=s(33);const r={key:0},o={class:"pt-4 pl-4 flex flex-row"},a={class:"text-sm text-dark"},n={class:"w-full p-2 pt-1 pb-1 md:p-4 md:pt-2 md:pb-2 border-b hover:bg-lightest flex"},d={class:"flex-none mr-2 md:mr-4 pt-1"},u=["src"],w={class:"w-full"},h={class:"flex items-center w-full"},c={class:"font-semibold"},f={class:"hidden md:block text-sm text-dark ml-2"},p={class:"text-sm text-dark ml-2"},k={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1"},m={class:"pb-2"},g={key:0,class:"mt-2"},b=["src"],y={class:"flex w-full"},v={class:"flex items-center text-sm text-dark w-1/4"},x={key:0},L={class:"flex items-center text-sm text-dark w-1/4"},C={key:0},_={class:"flex items-center text-sm text-dark w-1/4"},R={key:0};function T(e,t,s,T,I,X){const $=(0,l.g2)("ReplyOverlay");return(0,l.uX)(),(0,l.CE)(l.FK,null,[s.tweet.retweeted_by&&""!==s.tweet.retweeted_by?((0,l.uX)(),(0,l.CE)("div",r,[(0,l.Lk)("div",o,[t[7]||(t[7]=(0,l.Lk)("div",{class:"w-12 mr-4 flex justify-end"},[(0,l.Lk)("i",{class:"text-sm pt-1 fas fa-retweet text-dark"})],-1)),(0,l.Lk)("p",a,(0,i.v_)(I.label),1)])])):(0,l.Q3)("",!0),(0,l.Lk)("div",n,[(0,l.Lk)("div",d,[(0,l.Lk)("a",null,[(0,l.Lk)("img",{src:`${this.profile.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full flex-none"},null,8,u)])]),(0,l.Lk)("div",w,[(0,l.Lk)("div",h,[(0,l.Lk)("a",{onClick:t[0]||(t[0]=e=>X.gotoProfile(s.tweet.user_id))},[(0,l.Lk)("p",c,(0,i.v_)(s.tweet.username),1)]),(0,l.Lk)("p",f," @"+(0,i.v_)(s.tweet.user_id),1),t[8]||(t[8]=(0,l.Lk)("p",{class:"text-sm text-dark ml-2"},"Â·",-1)),(0,l.Lk)("p",p,(0,i.v_)(e.$filters.timeago(s.tweet.created_at)),1),(0,l.Lk)("div",null,[(0,l.Lk)("i",{onClick:t[1]||(t[1]=e=>I.showDropdown=!I.showDropdown),class:"fas fa-angle-down text-sm ml-auto text-dark cursor-pointer"}),I.showDropdown?((0,l.uX)(),(0,l.CE)("div",k,[(0,l.Lk)("a",{onClick:t[2]||(t[2]=(...e)=>this.delete&&this.delete(...e)),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},"Delete tweet")])):(0,l.Q3)("",!0)])]),(0,l.Lk)("p",m,(0,i.v_)(s.tweet.text),1),s.tweet.image?((0,l.uX)(),(0,l.CE)("div",g,[(0,l.Lk)("img",{src:s.tweet.image,alt:"Tweet image",class:"rounded-lg max-w-full border border-lighter"},null,8,b)])):(0,l.Q3)("",!0),(0,l.Lk)("div",y,[(0,l.Lk)("div",v,[(0,l.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>X.replyToTweet&&X.replyToTweet(...e)),class:"mr-2 rounded-full hover:bg-lighter"},t[9]||(t[9]=[(0,l.Lk)("i",{class:"far fa-comment"},null,-1)])),X.getRepliesCount(s.tweet.id)>0?((0,l.uX)(),(0,l.CE)("p",x,(0,i.v_)(X.getRepliesCount(s.tweet.id)),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",L,[(0,l.Lk)("button",{onClick:t[4]||(t[4]=e=>X.retweet()),class:"mr-2 rounded-full hover:bg-lighter"},[(0,l.Lk)("i",{class:(0,i.C4)("fas fa-retweet "+(s.tweet.retweeted_by?"text-green-500":""))},null,2)]),X.getRetweetsCount(s.tweet.id)>0?((0,l.uX)(),(0,l.CE)("p",C,(0,i.v_)(X.getRetweetsCount(s.tweet.id)),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",_,[(0,l.Lk)("button",{onClick:t[5]||(t[5]=e=>X.like()),class:"mr-2 rounded-full hover:bg-lighter"},[(0,l.Lk)("i",{class:(0,i.C4)("fas fa-heart "+(X.getLikesCount(s.tweet.id)>0?"text-red-600":""))},null,2)]),X.getLikesCount(s.tweet.id)>0?((0,l.uX)(),(0,l.CE)("p",R,(0,i.v_)(X.getLikesCount(s.tweet.id)),1)):(0,l.Q3)("",!0)]),t[10]||(t[10]=(0,l.Lk)("div",{class:"flex items-center text-sm text-dark w-1/4"},[(0,l.Lk)("i",{class:"fas fa-share-square mr-3 cursor-not-allowed"})],-1))])]),I.showReplyOverlay?((0,l.uX)(),(0,l.Wv)($,{key:0,tweet:s.tweet,profile:I.profile,showReplyOverlay:I.showReplyOverlay,"onUpdate:showReplyOverlay":t[6]||(t[6]=e=>I.showReplyOverlay=e)},null,8,["tweet","profile","showReplyOverlay"])):(0,l.Q3)("",!0)])],64)}s(4114);var I=s(1787),X={name:"Tweet",props:["tweet"],components:{ReplyOverlay:(0,l.$V)((()=>s.e(700).then(s.bind(s,6700))))},data(){return{profile:{},showReplyOverlay:!1,showDropdown:!1,label:"You Retweeted",likesCount:new Map,retweetsCount:new Map,repliesCount:new Map,likers:new Map,retweeters:new Map}},methods:{gotoProfile(e){this.$router.push({name:"Profile",params:{id:e}})},async get(){let e;if(this.tweet.parent_id&&this.tweet.parent_id!==this.tweet.root_id){const t={rootId:this.tweet.root_id,replyId:this.tweet.id};e=await I.f.getReply(t)}else{const t={userId:this.tweet.user_id,tweetId:this.tweet.id};e=await I.f.getTweet(t)}this.showReplyOverlay=!0},async delete(){if(this.tweet.parent_id&&""!==this.tweet.parent_id){const e={userId:this.profile.id,rootId:this.tweet.root_id,replyId:this.tweet.id};await I.f.deleteReply(e)}else{const e={userId:this.tweet.user_id,tweetId:this.tweet.id};await I.f.deleteTweet(e),this.gotoProfile(this.profile.id)}},replyToTweet(){this.showReplyOverlay=!0},async retweet(){let e=0;if(this.retweeters.has(this.tweet.id)){if(this.retweeters.get(this.tweet.id).has(this.tweet.user_id)&&""!==this.tweet.retweeted_by)e=await I.f.unretweetTweet(this.tweet.id).catch((e=>{console.error(`failed to unretweet [${this.tweet.id}]`,e)})),this.retweeters.get(this.tweet.id).delete(this.tweet.user_id);else{const t={tweetId:this.tweet.id,userId:this.tweet.user_id,username:this.tweet.username,text:this.tweet.text};e=await I.f.retweetTweet(t).catch((e=>{console.error(`failed to retweet [${this.tweet.id}]`,e)})),this.retweeters.get(this.tweet.id).set(this.tweet.user_id,this.profile)}this.retweetsCount.set(this.tweet.id,e)}else console.error("failed to retweet tweet",this.tweet.id)},async like(){let e=0;this.likers.has(this.tweet.id)?(this.likers.get(this.tweet.id).has(this.tweet.user_id)?(e=await I.f.unlikeTweet(this.tweet.id).catch((e=>{console.error(`failed to unlike tweet [${this.tweet.id}]`,e)})),this.likers.get(this.tweet.id).delete(this.tweet.user_id)):(e=await I.f.likeTweet(this.tweet.id).catch((e=>{console.error(`failed to like tweet [${this.tweet.id}]`,e)})),this.likers.get(this.tweet.id).set(this.tweet.user_id,this.profile)),this.likesCount.set(this.tweet.id,e)):console.error("failed to like tweet",this.tweet.id)},getLikesCount(e){return this.likesCount.get(e)},getRetweetsCount(e){return this.retweetsCount.get(e)},getRepliesCount(e){return this.repliesCount.get(e)}},async created(){console.log("loading component:",this.$options.name),this.profile=await I.f.getProfile(this.tweet.user_id),this.tweet.retweeted_by!==this.profile.id&&(this.label=`${this.tweet.username} Retweeted`),this.likers.set(this.tweet.id,null),this.retweeters.set(this.tweet.id,null),this.tweet.image=await I.f.getImage({userId:this.tweet.user_id,key:this.tweet.image_key}),this.profile.avatar=await I.f.getImage({userId:this.profile.id,key:this.profile.avatar_key});const e=await I.f.getTweetStats(this.tweet.id);this.likesCount.set(e.tweet_id,e.likes_count),this.retweetsCount.set(e.tweet_id,e.retweets_count),this.repliesCount.set(e.tweet_id,e.replies_count);const t=new Map;for(const l of e.likers.users||[])t.set(l,null);this.likers.set(this.tweet.id,t);const s=new Map;for(const l of e.retweeters.users||[])s.set(l,null);this.retweeters.set(this.tweet.id,s)}},$=s(6262);const E=(0,$.A)(X,[["render",T]]);var O=E},340:function(e,t,s){s.r(t),s.d(t,{default:function(){return L}});var l=s(641),i=s(3751),r=s(33);const o={id:"app",class:"flex container h-full w-full"},a={class:"flex container h-full w-full"},n={class:"w-full md:w-1/2 h-full overflow-y-scroll no-scrollbar"},d={class:"px-5 py-3 border-lighter flex items-center"},u={class:"lg:block ml-4 w-full"},w={class:"flex flex-col"},h={class:"flex flex-row justify-evenly"},c={key:0,class:"flex flex-col items-center justify-center w-full pt-10"},f={class:"w-3/5"},p={class:"font-bold text-lg"};function k(e,t,s,k,m,g){const b=(0,l.g2)("SideNav"),y=(0,l.g2)("Loader"),v=(0,l.g2)("Results"),x=(0,l.gN)("scroll");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",a,[(0,l.bF)(b),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",d,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>g.gotoHome()),class:"rounded-full md:pr-2 focus:outline-none hover:bg-lightblue"},t[5]||(t[5]=[(0,l.Lk)("i",{class:"fas fa-arrow-left text-blue"},null,-1)])),(0,l.Lk)("div",u,[t[6]||(t[6]=(0,l.Lk)("i",{class:"fas fa-search absolute mt-3 ml-5 text-m text-light"},null,-1)),(0,l.bo)((0,l.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-m focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue",placeholder:"Search Warpnet",type:"search","onUpdate:modelValue":t[1]||(t[1]=e=>m.query=e),onKeyup:t[2]||(t[2]=(0,i.jR)((e=>g.submit()),["enter"]))},null,544),[[i.Jo,m.query]])])]),(0,l.Lk)("div",w,[(0,l.Lk)("div",h,[t[7]||(t[7]=(0,l.Lk)("button",{class:"w-full text-dark font-bold border-b-2 p-1 md:px-8 md:py-4 hover:bg-lightblue"}," Top ",-1)),(0,l.Lk)("button",{onClick:t[3]||(t[3]=e=>g.submit("Latest")),class:(0,r.C4)(["w-full text-dark font-bold border-b-2 p-1 md:px-5 md:py-4 hover:bg-lightblue",""+("Latest"===this.mode?"border-blue":"")])}," Latest ",2),(0,l.Lk)("button",{onClick:t[4]||(t[4]=e=>g.submit("People")),class:(0,r.C4)(["w-full text-dark font-bold border-b-2 p-1 md:px-5 md:py-4 hover:bg-lightblue",""+("People"===this.mode?"border-blue":"")])}," People ",2),t[8]||(t[8]=(0,l.Lk)("button",{class:"w-full text-dark font-bold border-b-2 p-1 md:px-5 md:py-4 hover:bg-lightblue"}," Photos ",-1)),t[9]||(t[9]=(0,l.Lk)("button",{class:"w-full text-dark font-bold border-b-2 p-1 md:px-5 md:py-4 hover:bg-lightblue"}," Videos ",-1))])]),(0,l.bF)(y,{loading:m.loading},null,8,["loading"]),!m.loading&&e.results&&0===e.results.length?((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("div",f,[(0,l.Lk)("p",p,'No results for "'+(0,r.v_)(m.noResults)+'"',1),t[10]||(t[10]=(0,l.Lk)("p",{class:"text-sm text-dark"}," The term you entered did not bring up any results. You may have mistyped your term or your Search settings could be protecting you from some potentially sensitive content. ",-1))])])):(0,l.Q3)("",!0),(0,l.bF)(v,{results:e.results},null,8,["results"])])),[[x,g.loadMore,"bottom"]]),t[11]||(t[11]=(0,l.Lk)("div",{class:"hidden md:block w-1/3 z-0 h-full border-l border-lighter px-6 py-2 overflow-y-scroll no-scrollbar relative"},null,-1))])])}s(4114);var m=s(9467),g=s(8747),b=s(4945),y={name:"Hashtag",components:{SideNav:m["default"],Results:g.A,Loader:b["default"]},data(){return{loading:!0,query:this.$route.query.q,noResults:"",mode:this.$route.query.m||"Latest"}},methods:{gotoHome(){this.$router.push({name:"Home"})},submit(e=this.mode){},async loadMore(){}},async created(){console.log("loading component:",this.$options.name)}},v=s(6262);const x=(0,v.A)(y,[["render",k]]);var L=x}}]);
//# sourceMappingURL=hashtag.6ea9be33.js.map