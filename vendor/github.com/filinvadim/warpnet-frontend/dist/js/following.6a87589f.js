"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[856],{1587:function(l,e,o){o.d(e,{A:function(){return x}});var r=o(641),s=o(33);const t={class:"w-full px-4 py-2 border-b hover:bg-lightest flex flex-row"},n={class:"flex-none"},i=["href"],a=["src"],u={class:"ml-2 flex flex-col w-full"},f={class:"flex flex-row justify-between w-full"},d={class:"flex flex-col"},c={class:"font-bold"},h={class:"text-dark text-sm"},w={key:0};function g(l,e,o,g,p,b){return(0,r.uX)(),(0,r.CE)("div",t,[(0,r.Lk)("div",n,[(0,r.Lk)("a",{href:`#/${o.user.id}`},[(0,r.Lk)("img",{src:`${o.user.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full"},null,8,a)],8,i)]),(0,r.Lk)("div",u,[(0,r.Lk)("div",f,[(0,r.Lk)("div",d,[(0,r.Lk)("p",c,(0,s.v_)(o.user.username),1),(0,r.Lk)("p",h,"@"+(0,s.v_)(o.user.id),1)]),l.profile.id!==o.user.id?((0,r.uX)(),(0,r.CE)("div",w,[o.user.following?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:e[0]||(e[0]=l=>b.followUser()),class:"ml-auto text-blue font-bold px-4 py-1 rounded-full border border-blue mb-2 hover:bg-lightblue"}," Follow ")),o.user.following?((0,r.uX)(),(0,r.CE)("button",{key:1,onMouseover:e[1]||(e[1]=l=>p.followingLabel="Unfollow"),onMouseleave:e[2]||(e[2]=l=>p.followingLabel="Following"),onClick:e[3]||(e[3]=l=>b.unfollowUser()),class:"ml-auto text-white bg-blue font-bold px-4 py-1 rounded-full border mb-2 hover:bg-red-700"},(0,s.v_)(p.followingLabel),33)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",null,[(0,r.Lk)("p",null,(0,s.v_)(o.user.bio),1)])])])}var p=o(6278),b={name:"User",props:["user"],computed:{...(0,p.L8)("warpnet",["profile"])},methods:{...(0,p.i0)("warpnet",{follow:"followUser",unfollow:"unfollowUser"}),async followUser(){this.user.following=!0,await this.follow(this.user.id,this.user.avatar).catch((l=>{console.error(`failed to follow [${this.user.id}]`,l),this.user.following=!1}))},async unfollowUser(){this.user.following=!1,await this.unfollow(this.user.id).catch((l=>{console.error(`failed to unfollow [${this.user.id}]`,l),this.user.following=!0}))}},data(){return{followingLabel:"Following"}}},v=o(6262);const k=(0,v.A)(b,[["render",g]]);var x=k},2002:function(l,e,o){o.d(e,{A:function(){return d}});var r=o(641);const s={key:0,class:"flex justify-center py-6"},t={key:0};function n(l,e,o,n,i,a){const u=(0,r.g2)("User");return(0,r.uX)(),(0,r.CE)("div",null,[o.loading||0!==o.users.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",s,[0===o.users.length?((0,r.uX)(),(0,r.CE)("span",t,"No results")):(0,r.Q3)("",!0)])),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.users,(l=>((0,r.uX)(),(0,r.CE)("div",{key:l.id},[(0,r.bF)(u,{user:l},null,8,["user"])])))),128))])}var i=o(1587),a={name:"Users",props:["users","loading"],components:{User:i.A}},u=o(6262);const f=(0,u.A)(a,[["render",n]]);var d=f},2611:function(l,e,o){o.r(e),o.d(e,{default:function(){return y}});var r=o(641),s=o(33);const t={id:"app",class:"flex container h-screen w-full"},n={class:"flex container h-screen w-full"},i={class:"w-full h-full overflow-y-scroll no-scrollbar"},a={class:"px-5 pt-3 flex items-center"},u={class:"lg:block ml-4"},f={class:"text-xl font-bold"},d={class:"text-left text-sm leading-tight text-dark"},c={class:"flex flex-row justify-evenly mt-2"},h={class:"hidden md:block w-1/3 z-0 h-full border-l border-lighter px-6 py-2 overflow-y-scroll no-scrollbar relative"};function w(l,e,o,w,g,p){const b=(0,r.g2)("SideNav"),v=(0,r.g2)("Loader"),k=(0,r.g2)("Users"),x=(0,r.g2)("SearchBar");return(0,r.uX)(),(0,r.CE)("div",t,[(0,r.Lk)("div",n,[(0,r.bF)(b),(0,r.Lk)("div",i,[(0,r.Lk)("div",a,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=l=>p.gotoProfile()),class:"rounded-full p-3 px-4 focus:outline-none hover:bg-lightblue"},e[2]||(e[2]=[(0,r.Lk)("i",{class:"fas fa-arrow-left text-blue"},null,-1)])),(0,r.Lk)("div",u,[(0,r.Lk)("h1",f,(0,s.v_)(l.profile.username),1),(0,r.Lk)("p",d," @"+(0,s.v_)(l.profile.id),1)])]),(0,r.Lk)("div",c,[(0,r.Lk)("button",{onClick:e[1]||(e[1]=l=>p.goToFollowers()),class:"w-1/2 text-dark font-bold border-b-2 px-10 py-4 hover:bg-lightblue"}," Followers "),e[3]||(e[3]=(0,r.Lk)("button",{class:"w-1/2 text-dark font-bold border-b-2 border-blue px-10 py-4 hover:bg-lightblue"}," Following ",-1))]),(0,r.bF)(v,{loading:g.loading},null,8,["loading"]),(0,r.bF)(k,{users:l.profiles},null,8,["users"])]),(0,r.Lk)("div",h,[(0,r.bF)(x)])])])}o(4114);var g=o(6946),p=o(6159),b=o(2002),v=o(5587),k=o(6278),x={name:"Following",components:{SideNav:g.A,SearchBar:p.A,Users:b.A,Loader:v.A},data(){return{loading:!0}},computed:{...(0,k.L8)("profilePage",["profile"]),...(0,k.L8)("profilePage",{profiles:"following",cursor:"cursorFollowing"})},methods:{...(0,k.i0)("authentication",["loginUserIfAlreadyAuthenticated"]),...(0,k.i0)("profilePage",["loadProfile","getFollowing"]),gotoProfile(){this.$router.push({name:"Profile",params:{username:this.profile.username}})},goToFollowers(){this.$router.push({name:"Followers",params:{username:this.profile.username}})}},async created(){this.profiles.length>0&&(this.loading=!1),await this.loginUserIfAlreadyAuthenticated();this.$route.params.username;await this.loadProfile(this.profile.id),await this.getFollowing({userId:this.profile.id,limit:20,cursor:this.cursorFollowing}).then((()=>this.loading=!1))}},m=o(6262);const L=(0,m.A)(x,[["render",w]]);var y=L}}]);
//# sourceMappingURL=following.6a87589f.js.map