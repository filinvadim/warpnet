"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[893],{4039:function(e,t,l){l.d(t,{A:function(){return y}});var r=l(641);const o={class:"hidden md:block w-1/3 h-full border-l border-lighter px-6 py-2 relative min-w-max"};function s(e,t,l,s,i,a){const n=(0,r.g2)("SearchBar"),u=(0,r.g2)("WhoToFollow");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(n),(0,r.bF)(u)])}var i=l(6159),a=l(33);const n={class:"w-full rounded-lg bg-lightest my-4"},u=["onClick","src","alt"],f={class:"hidden lg:block ml-4"},c=["onClick"],d={class:"text-left text-sm leading-tight text-dark"},h=["onClick"];function p(e,t,l,o,s,i){return(0,r.uX)(),(0,r.CE)("div",n,[t[0]||(t[0]=(0,r.Lk)("div",{class:"p-3"},[(0,r.Lk)("p",{class:"text-lg font-bold"},"Who to follow")],-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.profiles,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"w-full flex hover:bg-lighter p-3 border-t border-lighter"},[(0,r.Lk)("img",{onClick:t=>i.pushToProfilePage(e.id),src:e.avatar||"default_profile.png",class:"w-12 h-12 rounded-full cursor-pointer",alt:e.username},null,8,u),(0,r.Lk)("div",f,[(0,r.Lk)("p",{onClick:t=>i.pushToProfilePage(e.id),class:"text-left text-sm font-bold leading-tight cursor-pointer"},(0,a.v_)(e.username),9,c),(0,r.Lk)("p",d,(0,a.v_)(e.id.slice(0,8))+"...",1)]),(0,r.Lk)("button",{onClick:t=>i.follow(e.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Follow ",8,h)])))),128)),t[1]||(t[1]=(0,r.Lk)("button",{class:"p-3 w-full hover:bg-lighter text-left text-blue border-t border-lighter"}," Show More ",-1))])}l(4114),l(8111),l(2489);var m=l(6278),k={name:"WhoToFollow",data(){return{userProfile:void 0,profiles:[],profilesCursor:""}},methods:{...(0,m.i0)("warpnet",["getUsers","getProfile","followUser","unfollowUser"]),async pushToProfilePage(e){this.$router.push({name:"Profile",params:{id:e}})},async follow(e){try{await this.followUser(e)}catch(t){console.error(`failed to follow [${e}]`,t)}},async unfollow(e){try{await this.unfollowUser(e)}catch(t){console.error(`failed to unfollow [${e}]`,t)}}},async created(){try{let e;this.userProfile=await this.getProfile(this.$route.params.id),e="Home"===this.$route.name?this.userProfile.id:this.$route.params.id;const t=await this.getUsers(e,20,this.profilesCursor);this.profiles=t.users.filter((e=>e.id!==this.userProfile.id)),this.profilesCursor=t.cursor}catch(e){console.error("Failed to load who to follow:",e),this.profiles=[]}}},x=l(6262);const b=(0,x.A)(k,[["render",p]]);var w=b,v={name:"DefaultRightBar",components:{SearchBar:i.A,WhoToFollow:w}};const g=(0,x.A)(v,[["render",s]]);var y=g},6159:function(e,t,l){l.d(t,{A:function(){return u}});var r=l(641),o=l(3751);function s(e,t,l,s,i,a){return(0,r.uX)(),(0,r.CE)("div",null,[t[2]||(t[2]=(0,r.Lk)("i",{class:"fas fa-search absolute mt-2 ml-5 text-sm text-light"},null,-1)),(0,r.bo)((0,r.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4",placeholder:"Search Tweet","onUpdate:modelValue":t[0]||(t[0]=e=>i.query=e),onKeyup:t[1]||(t[1]=(0,o.jR)((e=>a.submit()),["enter"]))},null,544),[[o.Jo,i.query]])])}l(4114);var i={name:"SearchBar",data(){return{query:""}},methods:{submit(){this.$router.push({name:"Search",query:{q:this.query}})}}},a=l(6262);const n=(0,a.A)(i,[["render",s]]);var u=n},6717:function(e,t,l){l.r(t),l.d(t,{default:function(){return W}});var r=l(641),o=l(33);const s={id:"app",class:"flex container h-screen w-full"},i={class:"flex container h-full w-full"},a={class:"w-full md:w-1/2 h-full overflow-y-scroll no-scrollbar"},n={class:"flex flex-col"},u={class:"flex flex-row justify-evenly text-sm"},f={key:0},c={key:0,class:"flex flex-col items-center justify-center w-full pt-10"},d={class:"w-full p-2 pt-1 pb-1 md:p-4 md:pt-2 md:pb-2 border-b hover:bg-lightest flex"},h={class:"w-full"},p={class:"flex flex-row mr-2 md:mr-4 pt-1 text-2xl"},m={key:0,class:"pt-1 fas fa-comment text-blue"},k={key:1,class:"pt-1 fas fa-heart text-red-600"},x={key:2,class:"pt-1 fas fa-retweet text-green-500"},b=["href"],w=["src"],v={class:"flex items-center w-full"},g={class:"font-sm"},y={class:"font-sm"},L={class:"text-sm text-dark ml-auto"},C={key:1},A={key:0,class:"flex flex-col items-center justify-center w-full pt-10"},E={class:"w-full p-2 pt-1 pb-1 md:p-4 md:pt-2 md:pb-2 border-b hover:bg-lightest flex"},X={class:"w-full"},$={class:"flex flex-row mr-2 md:mr-4 pt-1 text-2xl"},_=["href"],P=["src"],F={class:"flex items-center w-full"},N={class:"font-sm"},U={class:"font-sm"},q={class:"text-sm text-dark ml-auto"};function S(e,t,l,S,j,Q){const T=(0,r.g2)("SideNav"),B=(0,r.g2)("DefaultRightBar");return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("div",i,[(0,r.bF)(T),(0,r.Lk)("div",a,[t[4]||(t[4]=(0,r.Lk)("div",{class:"px-5 py-3 border-lighter flex items-center justify-between"},[(0,r.Lk)("h1",{class:"text-xl font-bold"},"Notifications"),(0,r.Lk)("i",{class:"fas fa-cog text-xl text-blue"})],-1)),(0,r.Lk)("div",n,[(0,r.Lk)("div",u,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=e=>Q.submit("All")),class:(0,o.C4)(["w-full text-dark font-bold border-b-2 p-1 md:px-3 md:py-4 hover:bg-lightblue sm:truncate",""+("All"==this.mode?"border-blue":"")])}," All ",2),(0,r.Lk)("button",{onClick:t[1]||(t[1]=e=>Q.submit("Mentions")),class:(0,o.C4)(["w-full text-dark font-bold border-b-2 p-1 md:px-3 md:py-4 hover:bg-lightblue sm:truncate",""+("Mentions"==this.mode?"border-blue":"")])}," Mentions ",2)])]),"All"===j.mode?((0,r.uX)(),(0,r.CE)("div",f,[e.all&&0!==e.all.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",c,t[2]||(t[2]=[(0,r.Lk)("div",{class:"w-1/2 flex flex-col items-center justify-center"},[(0,r.Lk)("p",{class:"font-bold text-lg"},"No notifications yet"),(0,r.Lk)("p",{class:"text-sm text-dark"},"Wait until some get shown here.")],-1)]))),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.all,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t.id},[(0,r.Lk)("div",d,[(0,r.Lk)("div",h,[(0,r.Lk)("div",p,["Replied"==t.type?((0,r.uX)(),(0,r.CE)("i",m)):(0,r.Q3)("",!0),"Liked"==t.type?((0,r.uX)(),(0,r.CE)("i",k)):(0,r.Q3)("",!0),"Retweeted"===t.type?((0,r.uX)(),(0,r.CE)("i",x)):(0,r.Q3)("",!0),(0,r.Lk)("a",{href:`#/${e.profile.id}`},[(0,r.Lk)("img",{src:`${e.profile.avatar||"default_profile.png"}`,class:"h-8 w-8 ml-2 rounded-full flex-none"},null,8,w)],8,b)]),(0,r.Lk)("div",v,[(0,r.Lk)("p",g,(0,o.v_)(e.profile.username),1),(0,r.Lk)("p",y,(0,o.v_)("@"+e.profile.id),1),(0,r.Lk)("p",L,(0,o.v_)(e.$filters.timeago(t.created_at)),1)])])])])))),128))])):(0,r.Q3)("",!0),"Mentions"===j.mode?((0,r.uX)(),(0,r.CE)("div",C,[e.mentions&&0!==e.mentions.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",A,t[3]||(t[3]=[(0,r.Lk)("div",{class:"w-1/2 flex flex-col items-center justify-center"},[(0,r.Lk)("p",{class:"font-bold text-lg"},"No notifications yet"),(0,r.Lk)("p",{class:"text-sm text-dark"},"Wait until some get shown here.")],-1)]))),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.mentions,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t.id},[(0,r.Lk)("div",E,[(0,r.Lk)("div",X,[(0,r.Lk)("div",$,[(0,r.Lk)("a",{href:`#/${e.profile.id}`},[(0,r.Lk)("img",{src:`${e.profile.avatar||"default_profile.png"}`,class:"h-8 w-8 ml-2 rounded-full flex-none"},null,8,P)],8,_)]),(0,r.Lk)("div",F,[(0,r.Lk)("p",N,(0,o.v_)(e.profile.username),1),(0,r.Lk)("p",U,(0,o.v_)("@"+e.profile.id),1),(0,r.Lk)("p",q,(0,o.v_)(e.$filters.timeago(t.created_at)),1)])])])])))),128))])):(0,r.Q3)("",!0)]),(0,r.bF)(B)])])}l(4114);var j=l(5405),Q=l(4039),T=l(6278),B={name:"Notifications",components:{SideNav:j.A,DefaultRightBar:Q.A},data(){return{loading:!1,mode:this.$route.query.m||"All"}},computed:{...(0,T.L8)("warpnet",["profile","all","mentions"])},methods:{...(0,T.i0)("authentication",["loginUserIfAlreadyAuthenticated"]),...(0,T.i0)("warpnet",["resetNotifications"]),gotoHome(){this.$router.push({name:"Home"})},submit(e=this.mode){this.mode=e,this.$router.replace({name:"Notifications",query:{m:e,hash:Date.now()}})}},async created(){this.resetNotifications(),await this.loginUserIfAlreadyAuthenticated()}},I=l(6262);const R=(0,I.A)(B,[["render",S]]);var W=R},2489:function(e,t,l){var r=l(6518),o=l(9565),s=l(9306),i=l(8551),a=l(1767),n=l(9462),u=l(6319),f=l(6395),c=n((function(){var e,t,l,r=this.iterator,s=this.predicate,a=this.next;while(1){if(e=i(o(a,r)),t=this.done=!!e.done,t)return;if(l=e.value,u(r,s,[l,this.counter++],!0))return l}}));r({target:"Iterator",proto:!0,real:!0,forced:f},{filter:function(e){return i(this),s(e),new c(a(this),{predicate:e})}})}}]);
//# sourceMappingURL=notifications.e0989f9d.js.map