"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[937],{4937:function(e,t,r){r.d(t,{A:function(){return f}});var l=r(641),s=r(33);const i={class:"w-full border-b hover:bg-lightest flex flex-col"},a={class:"pt-4 pl-4 flex flex-row"},o={class:"text-sm text-dark"};function n(e,t,r,n,d,u){const c=(0,l.g2)("Tweet");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",a,[t[0]||(t[0]=(0,l.Lk)("div",{class:"w-12 mr-4 flex justify-end"},[(0,l.Lk)("i",{class:"text-sm pt-1 fas fa-retweet text-dark"})],-1)),(0,l.Lk)("p",o,(0,s.v_)(d.label),1)]),(0,l.bF)(c,{tweet:r.tweet.retweetOf},null,8,["tweet"])])}var d=r(7974),u={name:"Retweet",props:["tweet"],components:{Tweet:d.A},data(){return{label:""}},async created(){const e=JSON.parse(sessionStorage.getItem("owner"));e.id===this.tweet.profile.id?this.label="You Retweeted":this.label=`${this.tweet.profile.username} Retweeted`}},c=r(6262);const w=(0,c.A)(u,[["render",n]]);var f=w},7974:function(e,t,r){r.d(t,{A:function(){return K}});r(1454);var l=r(641),s=r(33);const i={key:0,class:"w-full p-2 pt-1 pb-1 md:p-4 md:pt-2 md:pb-2 border-b hover:bg-lightest flex"},a={class:"flex-none mr-2 md:mr-4 pt-1"},o=["href"],n=["src"],d={class:"w-full"},u={class:"flex items-center w-full"},c={class:"font-semibold"},w={class:"hidden md:block text-sm text-dark ml-2"},f={class:"text-sm text-dark ml-2"},p={key:0,class:"text-dark text-xs md:text-sm"},k={class:"pb-2"},h={class:"flex w-full"},m={class:"flex items-center text-sm text-dark w-1/4"},v={key:0},x={class:"flex items-center text-sm text-dark w-1/4"},y={key:0},b={class:"flex items-center text-sm text-dark w-1/4"},L={key:0};function g(e,t,r,g,_,R){const C=(0,l.g2)("ReplyOverlay"),T=(0,l.gN)("linkify");return e.profile?((0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",a,[(0,l.Lk)("a",{href:`#/${e.profile.id}`},[(0,l.Lk)("img",{src:`${e.profile.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full flex-none"},null,8,n)],8,o)]),(0,l.Lk)("div",d,[(0,l.Lk)("div",u,[(0,l.Lk)("p",c,(0,s.v_)(e.profile.username),1),(0,l.Lk)("p",w," @"+(0,s.v_)(e.profile.id),1),t[3]||(t[3]=(0,l.Lk)("p",{class:"text-sm text-dark ml-2"},"Â·",-1)),(0,l.Lk)("p",f,(0,s.v_)(e.$filters.timeago(r.tweet.created_at)),1),t[4]||(t[4]=(0,l.Lk)("i",{class:"fas fa-angle-down text-sm ml-auto text-dark"},null,-1))]),r.tweet.inReplyToUsers&&r.tweet.inReplyToUsers.length>0?((0,l.uX)(),(0,l.CE)("p",p,(0,s.v_)(r.tweet.inReplyToUsers.map((e=>`@${e.id}`)).join(",")),1)):(0,l.Q3)("",!0),(0,l.bo)(((0,l.uX)(),(0,l.CE)("p",k,[(0,l.eW)((0,s.v_)(r.tweet.text),1)])),[[T]]),(0,l.Lk)("div",h,[(0,l.Lk)("div",m,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>R.replyToTweet()),class:"mr-2 rounded-full hover:bg-lighter"},t[5]||(t[5]=[(0,l.Lk)("i",{class:"far fa-comment"},null,-1)])),r.tweet.replies>0?((0,l.uX)(),(0,l.CE)("p",v,(0,s.v_)(r.tweet.replies),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",x,[(0,l.Lk)("button",{onClick:t[1]||(t[1]=e=>R.retweetTweet()),class:"mr-2 rounded-full hover:bg-lighter"},[(0,l.Lk)("i",{class:(0,s.C4)("fas fa-retweet "+(r.tweet.retweeted?"text-green-500":""))},null,2)]),r.tweet.retweets>0?((0,l.uX)(),(0,l.CE)("p",y,(0,s.v_)(r.tweet.retweets),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",b,[(0,l.Lk)("button",{onClick:t[2]||(t[2]=e=>R.likeTweet()),class:"mr-2 rounded-full hover:bg-lighter"},[(0,l.Lk)("i",{class:(0,s.C4)("fas fa-heart "+(r.tweet.likes_count&&r.tweet.likes_count>0?"text-red-600":""))},null,2)]),r.tweet.likes_count>0?((0,l.uX)(),(0,l.CE)("p",L,(0,s.v_)(r.tweet.likes_count),1)):(0,l.Q3)("",!0)]),t[6]||(t[6]=(0,l.Lk)("div",{class:"flex items-center text-sm text-dark w-1/4"},[(0,l.Lk)("i",{class:"fas fa-share-square mr-3"})],-1))])]),(0,l.bF)(C,{tweet:r.tweet,showReplyOverlay:_.showReplyOverlay},null,8,["tweet","showReplyOverlay"])])):(0,l.Q3)("",!0)}var _=r(3751);const R={key:0,class:"fixed w-full h-full z-10 top-0 left-0 flex items-center justify-center"},C={class:"modal-main bg-white mx-auto rounded-lg z-0 overflow-y-auto",style:{width:"40%"}},T={class:"pl-1 pr-4 py-1 h-16 border-b-2 border-lightblue"},$={class:"flex flex-row mt-1 ml-4"},O={key:0,class:"border-l-2 border-r-2 border-white flex flex-col"},E={class:"p-3 flex flex-row"},X={class:"flex-none mr-4"},I=["src"],Q={class:"w-full"},A={class:"flex items-center w-full"},H={class:"font-semibold"},F={class:"text-sm text-dark ml-2"},S={class:"text-sm text-dark ml-2"},U={class:"py-2"},j={class:"p-3 flex flex-row"},N={class:"flex-none mr-4"},W=["src"],z={class:"w-full mb-2"};function J(e,t,r,i,a,o){const n=(0,l.gN)("linkify");return r.showReplyOverlay?((0,l.uX)(),(0,l.CE)("div",R,[(0,l.Lk)("div",{class:"absolute w-full h-full bg-gray-900 opacity-50",onClick:t[0]||(t[0]=t=>e.$emit("update:showReplyOverlay",!1))}),(0,l.Lk)("div",C,[(0,l.Lk)("div",T,[(0,l.Lk)("div",$,[(0,l.Lk)("i",{onClick:t[1]||(t[1]=t=>e.$emit("update:showReplyOverlay",!1)),class:"fas fa-times text-blue text-2xl mb-8 mr-6 rounded-full bg-white p-2 px-3 hover:bg-lightblue"})])]),r.tweet.profile?((0,l.uX)(),(0,l.CE)("div",O,[(0,l.Lk)("div",E,[(0,l.Lk)("div",X,[(0,l.Lk)("img",{src:`${r.tweet.profile.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full flex-none"},null,8,I)]),(0,l.Lk)("div",Q,[(0,l.Lk)("div",A,[(0,l.Lk)("p",H,(0,s.v_)(r.tweet.profile.id),1),(0,l.Lk)("p",F," @"+(0,s.v_)(r.tweet.profile.username),1),t[4]||(t[4]=(0,l.Lk)("p",{class:"text-sm text-dark ml-2"},".",-1)),(0,l.Lk)("p",S,(0,s.v_)(e.$filters.timeago(r.tweet.created_at)),1)]),(0,l.bo)(((0,l.uX)(),(0,l.CE)("p",U,[(0,l.eW)((0,s.v_)(r.tweet.text),1)])),[[n]])])]),(0,l.Lk)("div",j,[(0,l.Lk)("div",N,[(0,l.Lk)("img",{src:`${e.profile.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full flex-none"},null,8,W)]),(0,l.Lk)("div",z,[(0,l.Lk)("form",{onSubmit:t[3]||(t[3]=(0,_.D$)(((...e)=>o.sendReply&&o.sendReply(...e)),["prevent"])),class:"w-full relative"},[(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.text=e),placeholder:"Tweet your reply",class:"w-full focus:outline-none mt-3 pb-3"},null,512),[[_.Jo,a.text]]),t[5]||(t[5]=(0,l.Lk)("div",null,[(0,l.Lk)("i",{class:"text-lg text-blue mr-4 far fa-image"}),(0,l.Lk)("i",{class:"text-lg text-blue mr-4 fas fa-film"}),(0,l.Lk)("i",{class:"text-lg text-blue mr-4 far fa-chart-bar"}),(0,l.Lk)("i",{class:"text-lg text-blue mr-4 far fa-smile"})],-1)),(0,l.Lk)("button",{type:"submit",class:(0,s.C4)(["h-10 px-4 text-white font-semibold bg-blue hover:bg-darkblue rounded-full absolute bottom-0 right-0",""+(this.text?"":" opacity-50 cursor-not-allowed")])}," Reply ",2)],32)])])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)}var V=r(6278),q={name:"ReplyOverlay",props:["tweet","showReplyOverlay"],data(){return{text:"",id:"",root_id:""}},computed:{...(0,V.L8)("warpnet",["profile"])},methods:{...(0,V.i0)("warpnet",{reply:"replyTweet"}),async sendReply(){await this.reply({rootId:this.tweet.root_id,parentId:this.tweet.id,text:this.text}),this.$emit("update:showReplyOverlay",!1)}},created(){window.addEventListener("keyup",(()=>{27===event.keyCode&&this.$emit("update:showReplyOverlay",!1)}))},destroyed:function(){window.removeEventListener("keyup",(()=>{27===event.keyCode&&this.$emit("update:showReplyOverlay",!1)}))}},D=r(6262);const P=(0,D.A)(q,[["render",J]]);var Y=P,B={name:"Tweet",props:["tweet"],components:{ReplyOverlay:Y},computed:{...(0,V.L8)("warpnet",["profile"])},data(){return{showReplyOverlay:!1}},methods:{...(0,V.i0)("warpnet",{like:"likeTweet",unlike:"unlikeTweet",retweet:"retweetTweet",unretweet:"unretweetTweet",reply:"replyTweet"}),replyToTweet(){this.showReplyOverlay=!0},async retweetTweet(){this.tweet.retweeted?(this.tweet.retweeted=!1,await this.unretweet(this.tweet.id).catch((e=>{console.error(`failed to unretweet [${this.tweet.id}]`,e),this.tweet.retweeted=!0}))):(this.tweet.retweeted=!0,await this.retweet(this.tweet.id).catch((e=>{console.error(`failed to retweet [${this.tweet.id}]`,e),this.tweet.retweeted=!1})))},async likeTweet(){this.tweet.liked?(this.tweet.liked=!1,this.tweet.likes_count--,await this.unlike(this.tweet.id).catch((e=>{console.error(`failed to unlike tweet [${this.tweet.id}]`,e),this.tweet.liked=!0,this.tweet.likes_count++}))):(this.tweet.liked=!0,this.tweet.likes_count++,await this.like(this.tweet.id).catch((e=>{console.error(`failed to like tweet [${this.tweet.id}]`,e),this.tweet.liked=!1,this.tweet.likes_count--})))}}};const G=(0,D.A)(B,[["render",g]]);var K=G},6319:function(e,t,r){var l=r(8551),s=r(9539);e.exports=function(e,t,r,i){try{return i?t(l(r)[0],r[1]):t(r)}catch(a){s(e,"throw",a)}}},2529:function(e){e.exports=function(e,t){return{value:e,done:t}}},6279:function(e,t,r){var l=r(6840);e.exports=function(e,t,r){for(var s in t)l(e,s,t[s],r);return e}},9462:function(e,t,r){var l=r(9565),s=r(2360),i=r(6699),a=r(6279),o=r(8227),n=r(1181),d=r(5966),u=r(7657).IteratorPrototype,c=r(2529),w=r(9539),f=o("toStringTag"),p="IteratorHelper",k="WrapForValidIterator",h=n.set,m=function(e){var t=n.getterFor(e?k:p);return a(s(u),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var l=r.done?void 0:r.nextHandler();return c(l,r.done)}catch(s){throw r.done=!0,s}},return:function(){var r=t(this),s=r.iterator;if(r.done=!0,e){var i=d(s,"return");return i?l(i,s):c(void 0,!0)}if(r.inner)try{w(r.inner.iterator,"normal")}catch(a){return w(s,"throw",a)}return s&&w(s,"normal"),c(void 0,!0)}})},v=m(!0),x=m(!1);i(x,f,"Iterator Helper"),e.exports=function(e,t){var r=function(r,l){l?(l.iterator=r.iterator,l.next=r.next):l=r,l.type=t?k:p,l.nextHandler=e,l.counter=0,l.done=!1,h(this,l)};return r.prototype=t?v:x,r}},713:function(e,t,r){var l=r(9565),s=r(9306),i=r(8551),a=r(1767),o=r(9462),n=r(6319),d=o((function(){var e=this.iterator,t=i(l(this.next,e)),r=this.done=!!t.done;if(!r)return n(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return i(this),s(e),new d(a(this),{mapper:e})}},1701:function(e,t,r){var l=r(6518),s=r(713),i=r(6395);l({target:"Iterator",proto:!0,real:!0,forced:i},{map:s})},1454:function(e,t,r){r(1701)}}]);
//# sourceMappingURL=937.32b389bd.js.map