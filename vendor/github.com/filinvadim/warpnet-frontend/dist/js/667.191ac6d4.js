"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[143,667],{9667:function(e,o,l){l.r(o),l.d(o,{default:function(){return C}});var t=l(641);const r={class:"hidden md:block w-1/3 h-full border-l border-lighter px-6 py-2 relative min-w-max"};function s(e,o,l,s,a,n){const i=(0,t.g2)("SearchBar"),u=(0,t.g2)("WhoToFollow");return(0,t.uX)(),(0,t.CE)("div",r,[(0,t.bF)(i),(0,t.bF)(u)])}var a=l(5143),n=l(33);const i={class:"w-full rounded-lg bg-lightest my-4"},u=["onClick","src","alt"],d={class:"hidden lg:block ml-4"},c=["onClick"],f={class:"text-left text-sm leading-tight text-dark"},h=["onClick"],p=["onClick"];function w(e,o,l,r,s,a){return(0,t.uX)(),(0,t.CE)("div",i,[o[1]||(o[1]=(0,t.Lk)("div",{class:"p-3"},[(0,t.Lk)("p",{class:"text-lg font-bold"},"Who to follow")],-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(s.profiles,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:"w-full flex hover:bg-lighter p-3 border-t border-lighter"},[(0,t.Lk)("img",{onClick:o=>a.pushToProfilePage(e.id),src:a.getAvatar(e.id,e.avatar_key)||"default_profile.png",class:"w-12 h-12 rounded-full cursor-pointer",alt:e.username},null,8,u),(0,t.Lk)("div",d,[(0,t.Lk)("p",{onClick:o=>a.pushToProfilePage(e.id),class:"text-left text-sm font-bold leading-tight cursor-pointer"},(0,n.v_)(e.username),9,c),(0,t.Lk)("p",f,(0,n.v_)(e.id.slice(0,8))+"...",1)]),a.isFollowed(e.id)?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("button",{key:0,onClick:o=>a.follow(e.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Follow ",8,h)),a.isFollowed(e.id)?((0,t.uX)(),(0,t.CE)("button",{key:1,onClick:o=>a.unfollow(e.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Unfollow ",8,p)):(0,t.Q3)("",!0)])))),128)),(0,t.Lk)("button",{onClick:o[0]||(o[0]=o=>a.loadWhoToFollow(e.profile.id)),class:"p-3 w-full hover:bg-lighter text-left text-blue border-t border-lighter"}," Show More ")])}l(4114),l(8111),l(2489);var m=l(1787),b={name:"WhoToFollow",data(){return{userProfile:void 0,profiles:[],profilesAvatars:new Map}},methods:{async pushToProfilePage(e){this.$router.push({name:"Profile",params:{id:e}})},isFollowed(e){return m.f.isFollowed(e)},async follow(e){await m.f.followUser(e)},async unfollow(e){await m.f.unfollowUser(e)},getAvatar(e,o){return this.loadAvatar(e,o),this.profilesAvatars.get(e)},async loadAvatar(e,o){const l=await m.f.getImage({userId:e,key:o});this.profilesAvatars.set(e,l)},async loadWhoToFollow(e){const o=await m.f.getUsers({userId:e,cursorReset:!1}),l=await m.f.getFollowers({userId:e,cursorReset:!1});this.profiles=o.filter((e=>!l.includes(e)))}},async created(){let e;console.log("loading component:",this.$options.name),this.userProfile=m.f.getOwnerProfile(),e="Home"===this.$route.name?this.userProfile.id:this.$route.params.id,await this.loadWhoToFollow(e)}},g=l(6262);const k=(0,g.A)(b,[["render",w]]);var v=k,y={name:"DefaultRightBar",components:{SearchBar:a["default"],WhoToFollow:v}};const x=(0,g.A)(y,[["render",s]]);var C=x},5143:function(e,o,l){l.r(o),l.d(o,{default:function(){return u}});var t=l(641),r=l(3751);function s(e,o,l,s,a,n){return(0,t.uX)(),(0,t.CE)("div",null,[o[2]||(o[2]=(0,t.Lk)("i",{class:"fas fa-search absolute mt-2 ml-5 text-sm text-light cursor-not-allowed"},null,-1)),(0,t.bo)((0,t.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4",placeholder:"Search Tweet","onUpdate:modelValue":o[0]||(o[0]=e=>a.query=e),onKeyup:o[1]||(o[1]=(0,r.jR)((e=>n.submit()),["enter"]))},null,544),[[r.Jo,a.query]])])}l(4114);var a={name:"SearchBar",data(){return{query:"Doesn't work for now"}},methods:{submit(){this.$router.push({name:"Search",query:{q:this.query}})}}},n=l(6262);const i=(0,n.A)(a,[["render",s]]);var u=i}}]);
//# sourceMappingURL=667.191ac6d4.js.map