{"version":3,"file":"js/home.85032e3d.js","mappings":"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","sources":["webpack://warpnet-frontend/./src/views/Home.vue","webpack://warpnet-frontend/./src/views/Home.vue?9051"],"sourcesContent":["<template>\n  <div id=\"app\" class=\"flex container h-screen w-full\">\n    <!-- side navigation -->\n    <SideNav />\n\n    <!-- timeline -->\n    <div\n      class=\"w-full h-full overflow-y-scroll no-scrollbar\"\n      v-scroll:bottom=\"loadMore\"\n    >\n      <div\n        class=\"px-5 py-3 border-b border-lighter flex items-center justify-between\"\n      >\n        <h1 class=\"text-xl font-bold\">Home</h1>\n        <button\n            @click=\"toggleInfo\"\n            class=\"fas fa-info-circle text-xl text-blue cursor-pointer hover:bg-lighter\"\n            aria-hidden=\"true\"\n        />\n      </div>\n      <div class=\"px-5 py-3 border-b-8 border-lighter flex\">\n        <div v-if=\"profile\" class=\"flex-none mr-4\">\n          <img\n            :src=\"profile.avatar || 'default_profile.png'\"\n            class=\"flex-none w-12 h-12 rounded-full\"\n            alt=\"Profile avatar\"\n          />\n        </div>\n        <div class=\"w-full relative\">\n          <textarea\n            v-model=\"tweet.text\"\n            placeholder=\"What's happening?\"\n            class=\"w-full focus:outline-none mt-3 pb-3\"\n          ></textarea>\n          <div>\n            <i class=\"text-lg text-blue mr-4 far fa-image\"></i>\n            <i class=\"text-lg text-blue mr-4 fas fa-film\"></i>\n            <i class=\"text-lg text-blue mr-4 far fa-chart-bar\"></i>\n            <i class=\"text-lg text-blue mr-4 far fa-smile\"></i>\n          </div>\n          <button\n            @click=\"addNewTweet\"\n            type=\"button\"\n            class=\"h-10 px-4 text-white font-semibold bg-blue hover:bg-darkblue rounded-full absolute bottom-0 right-0\"\n            :class=\"tweet.text ? '' : 'opacity-50 cursor-not-allowed'\"\n          >\n            Tweet\n          </button>\n        </div>\n      </div>\n\n      <!-- timeline -->\n      <Loader :loading=\"loading\" />\n      <div\n        v-if=\"!loading && timeline.length === 0\"\n        class=\"flex flex-col items-center justify-center w-full pt-10 px-6\"\n      >\n        <p class=\"font-bold text-lg\">Welcome to Warpnet!</p>\n        <p class=\"text-sm text-dark text-center\">\n          This is the best place to see what's happening in your world. Find\n          some people and topics to follow now.\n        </p>\n        <button\n          class=\"text-white bg-blue rounded-full font-semibold mt-4 px-4 py-2 hover:bg-darkblue\"\n        >\n          <p class=\"hidden lg:block\">Let's go!</p>\n          <i class=\"fas fa-plus lg:hidden\"></i>\n        </button>\n      </div>\n\n      <Timeline :timeline=\"timeline\" />\n    </div>\n    <InfoOverlay\n        :visible=\"showInfo\"\n        :content=\"infoContent\"\n        :position=\"infoPosition\"\n    />\n    <!-- default right bar -->\n    <DefaultRightBar />\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport {defineAsyncComponent} from \"vue\";\nexport default {\n  name: \"Home\",\n  components: {\n    SideNav: defineAsyncComponent(() => import('@/components/SideNav.vue')),\n    DefaultRightBar: defineAsyncComponent(() => import('@/components/DefaultRightBar.vue')),\n    Timeline: defineAsyncComponent(() => import('@/components/Timeline.vue')),\n    Loader: defineAsyncComponent(() => import('@/components/Loader.vue')),\n    InfoOverlay: defineAsyncComponent(() => import('@/components/InfoOverlay.vue')),\n  },\n  data() {\n    return {\n      tweet: {\n        text: \"\",\n        root_id: \"\",\n      },\n      loading: true,\n      profile: {},\n      timeline: [],\n      timelineCursor: \"\",\n      showInfo: false,\n      infoContent: '',\n      infoPosition: { top: '0px', left: '0px' },\n    };\n  },\n  methods: {\n    ...mapActions(\"warpnet\", [\n      \"getOwnerProfile\",\n      \"getMyTimeline\",\n      \"createTweet\",\n      \"getNodeInfo\",\n    ]),\n    async addNewTweet() {\n      if (!this.tweet.text) return;\n      await this.createTweet(this.tweet.text);\n      this.tweet.text = \"\";\n      const timelineData = await this.getMyTimeline(20, this.timelineCursor);\n      this.timeline = timelineData.tweets || [];\n      this.timelineCursor = timelineData.cursor;\n    },\n    async loadMore() {\n      const timelineData = await this.getMyTimeline(20, this.timelineCursor);\n      this.timeline = this.timeline.concat(timelineData.tweets  || []);\n      this.timelineCursor = timelineData.cursor;\n    },\n    async toggleInfo(event) {\n      if (this.showInfo) {\n        this.showInfo = false;\n        return;\n      }\n\n      const info = await this.getInfo();\n      this.infoContent = typeof info === 'string' ? info : JSON.stringify(info, null, 2);\n\n      const rect = event.target.getBoundingClientRect();\n      this.infoPosition = {\n        top: `${rect.bottom + window.scrollY}px`,\n        left: `${rect.left + window.scrollX}px`,\n      };\n\n      this.showInfo = true;\n    },\n    async getInfo() {\n      return await this.getNodeInfo();\n    },\n  },\n  async created() {\n    if (this.timeline.length > 0) {\n      this.loading = false;\n    }\n    this.profile = await this.getOwnerProfile() || {};\n    const timelineData = await this.getMyTimeline(20, this.timelineCursor);\n    this.timeline = timelineData.tweets  || [];\n    this.timelineCursor = timelineData.cursor;\n    this.loading = false;\n  },\n};\n</script>","import { render } from \"./Home.vue?vue&type=template&id=47753837\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","key","_createElementBlock","_hoisted_1","_createVNode","_component_SideNav","_hoisted_2","_createElementVNode","_hoisted_3","onClick","_cache","args","$options","toggleInfo","_hoisted_4","$data","profile","_hoisted_5","src","avatar","alt","_hoisted_6","_createCommentVNode","_hoisted_7","$event","tweet","text","placeholder","addNewTweet","type","_normalizeClass","_component_Loader","loading","timeline","length","_hoisted_8","_createStaticVNode","_component_Timeline","loadMore","_component_InfoOverlay","visible","showInfo","content","infoContent","position","infoPosition","_component_DefaultRightBar","name","components","SideNav","defineAsyncComponent","DefaultRightBar","Timeline","Loader","InfoOverlay","data","root_id","timelineCursor","top","left","methods","mapActions","this","createTweet","timelineData","getMyTimeline","tweets","cursor","concat","event","info","getInfo","JSON","stringify","rect","target","getBoundingClientRect","bottom","window","scrollY","scrollX","getNodeInfo","created","getOwnerProfile","__exports__","render"],"sourceRoot":""}