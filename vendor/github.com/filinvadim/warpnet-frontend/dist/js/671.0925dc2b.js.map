{"version":3,"file":"js/671.0925dc2b.js","mappings":"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","sources":["webpack://warpnet-frontend/./src/components/EditProfileOverlay.vue","webpack://warpnet-frontend/./src/components/EditProfileOverlay.vue?dbfb"],"sourcesContent":["<template>\n  <div\n    class=\"fixed w-full h-full top-0 left-0 flex items-center justify-center\"\n  >\n    <div\n      class=\"absolute w-full h-full bg-gray-900 opacity-50\"\n      @click.prevent=\"this.$emit('close')\"\n    ></div>\n\n    <div\n      class=\"modal-main bg-white mx-auto rounded-lg z-50 overflow-y-auto no-scrollbar\"\n      style=\"height:85%; width:40%\"\n    >\n      <div class=\"pl-1 pr-4 py-1 h-16 border-b-2 border-lightblue\">\n        <button\n          @click=\"saveProfile\"\n          class=\"rounded-full bg-blue font-bold text-white mt-2 p-1 px-4 relative right-0 float-right focus:outline-none hover:bg-darkblue\"\n        >\n          Save\n        </button>\n        <div class=\"flex flex-row mt-1 ml-4\">\n          <i\n            @click=\"this.$emit('close')\"\n            class=\"fas fa-times text-blue text-2xl mb-8 mr-6 rounded-full bg-white p-2 px-3 hover:bg-lightblue cursor-pointer\"\n          ></i>\n          <p class=\"text-xl pt-1 font-bold\">Edit profile</p>\n        </div>\n      </div>\n\n      <div class=\"border-l-2 border-r-2 border-white\">\n        <!-- background image -->\n        <div class=\"relative\" style=\"height:200px; display:block\">\n          <!-- change background overlay -->\n          <div\n            class=\"absolute w-full max-w-full h-full max-h-full bg-gray-600 opacity-50\"\n          ></div>\n          <button\n            @click=\"openFileInput('backgroundFileInput')\"\n            class=\"absolute hover:bg-gray-800 p-3 rounded-full\"\n            style=\"margin-left: 45%; margin-top: 80px\"\n          >\n            <i class=\"text-2xl fas fa-camera text-white\"></i>\n            <input\n              @change=\"fileChange('backgroundFileInput', 'background_image')\"\n              ref=\"backgroundFileInput\"\n              accept=\"image/*\"\n              type=\"file\"\n              class=\"hidden\"\n            />\n          </button>\n\n          <div v-if=\"background_image\" class=\"h-full max-h-full\">\n            <img :src=\"background_image\" class=\"h-full w-full object-cover\" alt=\"Background\" />\n          </div>\n          <div\n            v-if=\"!background_image\"\n            class=\"bg-gray-400 h-full max-h-full\"\n          ></div>\n        </div>\n\n        <div class=\"p-3 flex flex-col\">\n          <!-- profile image -->\n          <div\n            style=\"margin-top:-80px\"\n            class=\"relative w-32 h-32 rounded-full mb-6\"\n          >\n            <div\n              class=\"absolute w-32 h-32 rounded-full bg-gray-600 opacity-50 border-4 border-white\"\n            ></div>\n            <button\n              @click=\"openFileInput('imageUrlFileInput')\"\n              class=\"absolute hover:bg-gray-800 p-3 rounded-full ml-10 mt-10\"\n            >\n              <i class=\"text-2xl fas fa-camera text-white\"></i>\n              <input\n                @change=\"fileChange('imageUrlFileInput', 'avatar')\"\n                ref=\"imageUrlFileInput\"\n                accept=\"image/*\"\n                type=\"file\"\n                class=\"hidden\"\n              />\n            </button>\n\n            <img\n              :src=\"avatar\"\n              class=\"w-32 h-32 rounded-full border-4 border-white\"\n              alt=\"Avatar\"\n            />\n          </div>\n\n          <div class=\"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3\">\n            <label class=\"text-dark\" for=\"username\">Name</label>\n            <input\n              id=\"username\"\n              v-model.trim=\"username\"\n              class=\"w-full bg-lightest text-lg focus:outline-none\"\n              type=\"text\"\n              required\n            />\n          </div>\n          <div class=\"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3\">\n            <label class=\"text-dark\" for=\"bio\">Bio</label>\n            <textarea\n              id=\"bio\"\n              v-model.trim=\"bio\"\n              class=\"w-full bg-lightest text-lg focus:outline-none\"\n              placeholder=\"Add your bio\"\n            />\n          </div>\n          <div class=\"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3\">\n            <label class=\"text-dark\" for=\"website\">Website</label>\n            <input\n              id=\"website\"\n              v-model.trim=\"website\"\n              class=\"w-full bg-lightest text-lg focus:outline-none\"\n              type=\"url\"\n              placeholder=\"Add your website\"\n            />\n          </div>\n          <div\n            class=\"w-full bg-lightest border-b-2 border-dark mb-24 py-1 px-3\"\n          >\n            <label class=\"text-dark\" for=\"birthdate\">Birth date</label>\n            <input\n              id=\"birthdate\"\n              v-model=\"birthdate\"\n              class=\"w-full bg-lightest text-lg focus:outline-none\"\n              type=\"date\"\n              placeholder=\"Add your birth date\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style scoped>\n.modal-main {\n  max-height: 90vh;\n}\n\ninput[type=\"date\"]::-webkit-calendar-picker-indicator {\n  cursor: pointer;\n}\n\ntextarea {\n  resize: none;\n}\n</style>\n\n\n<script>\nimport moment from \"moment\";\nimport {warpnetService} from \"@/service/service\";\n\nexport default {\n  name: \"EditProfileOverlay\", \n  props: {\n    showEditProfileModal: Boolean \n  },\n  data() {\n    return {\n      profile: {},\n      username: undefined,\n      background_image: undefined,\n      avatar: undefined,\n      bio: undefined,\n      website: undefined,\n      birthdate: undefined,\n    };\n  },\n  methods: {\n    handleKeyup(event) {\n      if (event.key === \"Escape\") {\n        this.$emit(\"close\");\n      }\n    },\n    openFileInput(ref) {\n      this.$refs[ref].click();\n    },\n    async fileChange(ref, prop) {\n      const file = this.$refs[ref].files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => this[prop] = reader.result;\n      reader.onerror = (error) => alert(error);\n    },\n    async saveProfile() {\n      const p = {\n        username: this.username,\n        avatar_key: \"\",\n        background_image_key: \"\",\n        bio: this.bio,\n        website: this.website,\n        birthdate: this.birthdate ? moment(this.birthdate, \"YYYY-MM-DD\").format(\"YYYY-MM-DD\") : null,\n      };\n      p.avatar_key = await warpnetService.uploadImage(this.avatar)\n      p.background_image_key = await warpnetService.uploadImage(this.background_image)\n\n      this.profile = await warpnetService.editMyProfile(p);\n\n      this.background_image = await warpnetService.getImage({userId:this.profile.id, key:this.profile.background_image_key});\n      this.avatar = await warpnetService.getImage({userId:this.profile.id, key:this.profile.avatar_key})\n\n      this.$emit(\"close\");\n    },\n  },\n  mounted() {\n    window.addEventListener(\"keyup\", this.handleKeyup);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"keyup\", this.handleKeyup);\n  },\n  async created() {\n    console.log(\"loading component:\", this.$options.name);\n    console.log(this.$options.name);\n    this.profile = warpnetService.getOwnerProfile();\n    this.username = this.profile.username;\n    this.background_image = await warpnetService.getImage({userId:this.profile.id, key:this.profile.background_image_key});\n    this.avatar = await warpnetService.getImage({userId:this.profile.id, key:this.profile.avatar_key})\n    this.bio = this.profile.bio;\n    this.website = this.profile.website;\n    this.birthdate = this.profile.birthdate;\n  },\n};\n</script>\n","import { render } from \"./EditProfileOverlay.vue?vue&type=template&id=0ef37804&scoped=true\"\nimport script from \"./EditProfileOverlay.vue?vue&type=script&lang=js\"\nexport * from \"./EditProfileOverlay.vue?vue&type=script&lang=js\"\n\nimport \"./EditProfileOverlay.vue?vue&type=style&index=0&id=0ef37804&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0ef37804\"]])\n\nexport default __exports__"],"names":["class","style","key","_createElementBlock","_hoisted_1","_createElementVNode","onClick","_cache","_withModifiers","$event","$emit","_hoisted_2","_hoisted_3","args","$options","saveProfile","_hoisted_4","_hoisted_5","_hoisted_6","openFileInput","onChange","fileChange","ref","accept","type","$data","background_image","_hoisted_7","src","alt","_hoisted_8","_createCommentVNode","_hoisted_9","_hoisted_10","_hoisted_11","avatar","_hoisted_12","_hoisted_13","for","id","username","required","trim","_hoisted_14","bio","placeholder","_hoisted_15","website","_hoisted_16","birthdate","name","props","showEditProfileModal","Boolean","data","profile","undefined","methods","handleKeyup","event","this","$refs","click","prop","file","files","reader","FileReader","readAsDataURL","onload","result","onerror","error","alert","p","avatar_key","background_image_key","moment","format","warpnetService","uploadImage","editMyProfile","getImage","userId","mounted","window","addEventListener","beforeUnmount","removeEventListener","created","console","log","getOwnerProfile","__exports__","render"],"sourceRoot":""}