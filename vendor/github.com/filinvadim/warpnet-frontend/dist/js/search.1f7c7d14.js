"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[187],{4993:function(e,l,o){o.d(l,{A:function(){return f}});var t=o(641);function r(e,l,o,r,s,u){const n=(0,t.g2)("Tweet"),i=(0,t.g2)("Retweet"),a=(0,t.g2)("User");return(0,t.uX)(),(0,t.CE)("div",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.results,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id},[e.retweetOf?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(n,{key:0,tweet:e},null,8,["tweet"])),e.retweetOf?((0,t.uX)(),(0,t.Wv)(i,{key:1,tweet:e},null,8,["tweet"])):(0,t.Q3)("",!0),e.username?((0,t.uX)(),(0,t.Wv)(a,{key:2,user:e},null,8,["user"])):(0,t.Q3)("",!0)])))),128))])}var s=o(7974),u=o(4937),n=o(5730),i=o(6278),a={name:"Results",props:["results"],components:{Tweet:s.A,Retweet:u.A,User:n.A},computed:{...(0,i.L8)("warpnet",{cursor:"cursorSearch"}),...(0,i.L8)("warpnet",["profile"])}},d=o(6262);const c=(0,d.A)(a,[["render",r]]);var f=c},5730:function(e,l,o){o.d(l,{A:function(){return k}});var t=o(641),r=o(33);const s={class:"w-full px-4 py-2 border-b hover:bg-lightest flex flex-row"},u={class:"flex-none"},n=["href"],i=["src"],a={class:"ml-2 flex flex-col w-full"},d={class:"flex flex-row justify-between w-full"},c={class:"flex flex-col"},f={class:"font-bold"},h={class:"text-dark text-sm"},b={key:0};function p(e,l,o,p,w,m){return(0,t.uX)(),(0,t.CE)("div",s,[(0,t.Lk)("div",u,[(0,t.Lk)("a",{href:`#/${o.user.id}`},[(0,t.Lk)("img",{src:`${o.user.avatar||"default_profile.png"}`,class:"h-12 w-12 rounded-full"},null,8,i)],8,n)]),(0,t.Lk)("div",a,[(0,t.Lk)("div",d,[(0,t.Lk)("div",c,[(0,t.Lk)("p",f,(0,r.v_)(o.user.username),1),(0,t.Lk)("p",h,"@"+(0,r.v_)(o.user.id),1)]),e.profile.id!==o.user.id?((0,t.uX)(),(0,t.CE)("div",b,[o.user.following?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("button",{key:0,onClick:l[0]||(l[0]=e=>m.followUser()),class:"ml-auto text-blue font-bold px-4 py-1 rounded-full border border-blue mb-2 hover:bg-lightblue"}," Follow ")),o.user.following?((0,t.uX)(),(0,t.CE)("button",{key:1,onMouseover:l[1]||(l[1]=e=>w.followingLabel="Unfollow"),onMouseleave:l[2]||(l[2]=e=>w.followingLabel="Following"),onClick:l[3]||(l[3]=e=>m.unfollowUser()),class:"ml-auto text-white bg-blue font-bold px-4 py-1 rounded-full border mb-2 hover:bg-red-700"},(0,r.v_)(w.followingLabel),33)):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",null,[(0,t.Lk)("p",null,(0,r.v_)(o.user.bio),1)])])])}var w=o(6278),m={name:"User",props:["user"],computed:{...(0,w.L8)("warpnet",["profile"])},methods:{...(0,w.i0)("warpnet",{follow:"followUser",unfollow:"unfollowUser"}),async followUser(){this.user.following=!0,await this.follow(this.user.id).catch((e=>{console.error(`failed to follow [${this.user.id}]`,e),this.user.following=!1}))},async unfollowUser(){this.user.following=!1,await this.unfollow(this.user.id).catch((e=>{console.error(`failed to unfollow [${this.user.id}]`,e),this.user.following=!0}))}},data(){return{followingLabel:"Following"}}},g=o(6262);const v=(0,g.A)(m,[["render",p]]);var k=v},7884:function(e,l,o){o.r(l),o.d(l,{default:function(){return C}});var t=o(641),r=o(3751),s=o(33);const u={id:"app",class:"flex container h-screen w-full"},n={class:"flex container h-screen w-full"},i={class:"w-full md:w-1/2 h-full overflow-y-scroll no-scrollbar"},a={class:"px-5 py-3 border-lighter flex items-center"},d={class:"lg:block ml-4 w-full"},c={class:"flex flex-col"},f={class:"flex flex-row justify-evenly"},h={key:0,class:"flex flex-col items-center justify-center w-full pt-10"},b={class:"w-3/5"},p={class:"font-bold text-lg"};function w(e,l,o,w,m,g){const v=(0,t.g2)("SideNav"),k=(0,t.g2)("Loader"),y=(0,t.g2)("Results"),x=(0,t.gN)("scroll");return(0,t.uX)(),(0,t.CE)("div",u,[(0,t.Lk)("div",n,[(0,t.bF)(v),(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("div",a,[(0,t.Lk)("button",{onClick:l[0]||(l[0]=e=>g.gotoHome()),class:"rounded-full md:pr-2 focus:outline-none hover:bg-lightblue"},l[5]||(l[5]=[(0,t.Lk)("i",{class:"fas fa-arrow-left text-blue"},null,-1)])),(0,t.Lk)("div",d,[l[6]||(l[6]=(0,t.Lk)("i",{class:"fas fa-search absolute mt-3 ml-5 text-m text-light"},null,-1)),(0,t.bo)((0,t.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-m focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue",placeholder:"Search Warpnet",type:"search","onUpdate:modelValue":l[1]||(l[1]=e=>m.query=e),onKeyup:l[2]||(l[2]=(0,r.jR)((e=>g.submit()),["enter"]))},null,544),[[r.Jo,m.query]])])]),(0,t.Lk)("div",c,[(0,t.Lk)("div",f,[l[7]||(l[7]=(0,t.Lk)("button",{class:"w-full text-dark font-bold border-b-2 p-1 md:px-8 md:py-4 hover:bg-lightblue"}," Top ",-1)),(0,t.Lk)("button",{onClick:l[3]||(l[3]=e=>g.submit("Latest")),class:(0,s.C4)(["w-full text-dark font-bold border-b-2 p-1 md:px-5 md:py-4 hover:bg-lightblue",""+("Latest"==this.mode?"border-blue":"")])}," Latest ",2),(0,t.Lk)("button",{onClick:l[4]||(l[4]=e=>g.submit("People")),class:(0,s.C4)(["w-full text-dark font-bold border-b-2 p-1 md:px-5 md:py-4 hover:bg-lightblue",""+("People"==this.mode?"border-blue":"")])}," People ",2),l[8]||(l[8]=(0,t.Lk)("button",{class:"w-full text-dark font-bold border-b-2 p-1 md:px-5 md:py-4 hover:bg-lightblue"}," Photos ",-1)),l[9]||(l[9]=(0,t.Lk)("button",{class:"w-full text-dark font-bold border-b-2 p-1 md:px-5 md:py-4 hover:bg-lightblue"}," Videos ",-1))])]),(0,t.bF)(k,{loading:m.loading},null,8,["loading"]),!m.loading&&e.results&&0===e.results.length?((0,t.uX)(),(0,t.CE)("div",h,[(0,t.Lk)("div",b,[(0,t.Lk)("p",p,'No results for "'+(0,s.v_)(m.noResults)+'"',1),l[10]||(l[10]=(0,t.Lk)("p",{class:"text-sm text-dark"}," The term you entered did not bring up any results. You may have mistyped your term or your Search settings could be protecting you from some potentially sensitive content. ",-1))])])):(0,t.Q3)("",!0),(0,t.bF)(y,{results:e.results},null,8,["results"])])),[[x,g.loadMore,"bottom"]]),l[11]||(l[11]=(0,t.Lk)("div",{class:"hidden md:block w-1/3 z-0 h-full border-l border-lighter px-6 py-2 overflow-y-scroll no-scrollbar relative"},null,-1))])])}o(4114);var m=o(2992),g=o(4993),v=o(5587),k=o(6278),y={name:"Search",components:{SideNav:m.A,Results:g.A,Loader:v.A},data(){return{loading:!0,query:this.$route.query.q,noResults:"",mode:this.$route.query.m||"Latest"}},computed:{...(0,k.L8)("warpnet",["profile"]),...(0,k.L8)("warpnet",{results:"search"})},methods:{...(0,k.i0)("authentication",["loginUserIfAlreadyAuthenticated"]),...(0,k.i0)("warpnet",["loadSearch","loadMoreSearch","resetSearch"]),...(0,k.i0)("profilePage",["loadProfile"]),gotoHome(){this.$router.push({name:"Home"})},submit(e=this.mode){this.loading=!0,this.resetSearch(),this.$router.push({name:"Search",query:{q:this.query,m:e,hash:Date.now()}})},async loadMore(){console.log("loading..."),await this.loadMoreSearch({query:this.query,mode:this.mode,limit:10}).catch((e=>{console.log(e)}))}},async created(){this.resetSearch(),await this.loginUserIfAlreadyAuthenticated(),this.query=this.$route.query.q,this.noResults=this.$route.query.q,await this.loadSearch({query:this.query,mode:this.mode,limit:10}).then((()=>this.loading=!1))}},x=o(6262);const L=(0,x.A)(y,[["render",w]]);var C=L}}]);
//# sourceMappingURL=search.1f7c7d14.js.map