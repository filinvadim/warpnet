{"version":3,"file":"js/864.4efdb01a.js","mappings":"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","sources":["webpack://warpnet-frontend/./src/components/EditProfileOverlay.vue","webpack://warpnet-frontend/./src/components/EditProfileOverlay.vue?dbfb"],"sourcesContent":["<template>\n  <div\n    class=\"fixed w-full h-full top-0 left-0 flex items-center justify-center\"\n  >\n    <div\n      class=\"absolute w-full h-full bg-gray-900 opacity-50\"\n      @click.prevent=\"$emit('update:showEditProfileModal', false)\"\n    ></div>\n\n    <div\n      class=\"modal-main bg-white mx-auto rounded-lg z-50 overflow-y-auto no-scrollbar\"\n      style=\"height:85%; width:40%\"\n    >\n      <div class=\"pl-1 pr-4 py-1 h-16 border-b-2 border-lightblue\">\n        <button\n          @click=\"saveProfile\"\n          class=\"rounded-full bg-blue font-bold text-white mt-2 p-1 px-4 relative right-0 float-right focus:outline-none hover:bg-darkblue\"\n        >\n          Save\n        </button>\n        <div class=\"flex flex-row mt-1 ml-4\">\n          <i\n            @click=\"$emit('update:showEditProfileModal', false)\"\n            class=\"fas fa-times text-blue text-2xl mb-8 mr-6 rounded-full bg-white p-2 px-3 hover:bg-lightblue cursor-pointer\"\n          ></i>\n          <p class=\"text-xl pt-1 font-bold\">Edit profile</p>\n        </div>\n      </div>\n\n      <div class=\"border-l-2 border-r-2 border-white\">\n        <!-- background image -->\n        <div class=\"relative\" style=\"height:200px; display:block\">\n          <!-- change background overlay -->\n          <div\n            class=\"absolute w-full max-w-full h-full max-h-full bg-gray-600 opacity-50\"\n          ></div>\n          <button\n            @click=\"openFileInput('backgroundFileInput')\"\n            class=\"absolute hover:bg-gray-800 p-3 rounded-full\"\n            style=\"margin-left: 45%; margin-top: 80px\"\n          >\n            <i class=\"text-2xl fas fa-camera text-white\"></i>\n            <input\n              @change=\"fileChange('backgroundFileInput', 'background_image')\"\n              ref=\"backgroundFileInput\"\n              accept=\"image/*\"\n              type=\"file\"\n              class=\"hidden\"\n            />\n          </button>\n\n          <div v-if=\"background_image\" class=\"h-full max-h-full\">\n            <img :src=\"background_image\" class=\"h-full w-full object-cover\" alt=\"Background\" />\n          </div>\n          <div\n            v-if=\"!background_image\"\n            class=\"bg-gray-400 h-full max-h-full\"\n          ></div>\n        </div>\n\n        <div class=\"p-3 flex flex-col\">\n          <!-- profile image -->\n          <div\n            style=\"margin-top:-80px\"\n            class=\"relative w-32 h-32 rounded-full mb-6\"\n          >\n            <div\n              class=\"absolute w-32 h-32 rounded-full bg-gray-600 opacity-50 border-4 border-white\"\n            ></div>\n            <button\n              @click=\"openFileInput('imageUrlFileInput')\"\n              class=\"absolute hover:bg-gray-800 p-3 rounded-full ml-10 mt-10\"\n            >\n              <i class=\"text-2xl fas fa-camera text-white\"></i>\n              <input\n                @change=\"fileChange('imageUrlFileInput', 'avatar')\"\n                ref=\"imageUrlFileInput\"\n                accept=\"image/*\"\n                type=\"file\"\n                class=\"hidden\"\n              />\n            </button>\n\n            <img\n              :src=\"avatar\"\n              class=\"w-32 h-32 rounded-full border-4 border-white\"\n              alt=\"Avatar\"\n            />\n          </div>\n\n          <div class=\"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3\">\n            <label class=\"text-dark\" for=\"username\">Name</label>\n            <input\n              id=\"username\"\n              v-model.trim=\"username\"\n              class=\"w-full bg-lightest text-lg focus:outline-none\"\n              type=\"text\"\n              required\n            />\n          </div>\n          <div class=\"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3\">\n            <label class=\"text-dark\" for=\"bio\">Bio</label>\n            <textarea\n              id=\"bio\"\n              v-model.trim=\"bio\"\n              class=\"w-full bg-lightest text-lg focus:outline-none\"\n              placeholder=\"Add your bio\"\n            />\n          </div>\n          <div class=\"w-full bg-lightest border-b-2 border-dark mb-6 py-1 px-3\">\n            <label class=\"text-dark\" for=\"website\">Website</label>\n            <input\n              id=\"website\"\n              v-model.trim=\"website\"\n              class=\"w-full bg-lightest text-lg focus:outline-none\"\n              type=\"url\"\n              placeholder=\"Add your website\"\n            />\n          </div>\n          <div\n            class=\"w-full bg-lightest border-b-2 border-dark mb-24 py-1 px-3\"\n          >\n            <label class=\"text-dark\" for=\"birthdate\">Birth date</label>\n            <input\n              id=\"birthdate\"\n              v-model=\"birthdate\"\n              class=\"w-full bg-lightest text-lg focus:outline-none\"\n              type=\"date\"\n              placeholder=\"Add your birth date\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style scoped>\n.modal-main {\n  max-height: 90vh;\n}\n\ninput[type=\"date\"]::-webkit-calendar-picker-indicator {\n  cursor: pointer;\n}\n\ntextarea {\n  resize: none;\n}\n</style>\n\n\n<script>\nimport moment from \"moment\";\nimport {mapActions} from \"vuex\";\n\nexport default {\n  name: \"EditProfileOverlay\", \n  props: {\n    showEditProfileModal: Boolean \n  },\n  data() {\n    return {\n      profile: {},\n      username: undefined,\n      background_image: undefined,\n      avatar: undefined,\n      bio: undefined,\n      website: undefined,\n      birthdate: undefined,\n    };\n  },\n  methods: {\n    ...mapActions(\"warpnet\", [\n      \"editMyProfile\",\n      \"getOwnerProfile\",\n    ]),\n    handleKeyup(event) {\n      if (event.key === \"Escape\") {\n        this.$emit(\"update:showEditProfileModal\", false); \n      }\n    },\n    openFileInput(ref) {\n      this.$refs[ref].click();\n    },\n    async fileChange(ref, prop) {\n      const file = this.$refs[ref].files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => this[prop] = reader.result;\n      reader.onerror = (error) => alert(error);\n    },\n    async saveProfile() {\n      const p = {\n        username: this.username,\n        avatar: this.avatar,\n        background_image: this.background_image,\n        bio: this.bio,\n        website: this.website,\n        birthdate: this.birthdate ? moment(this.birthdate, \"YYYY-MM-DD\").format(\"YYYY-MM-DD\") : null,\n      };\n      this.profile = await this.editMyProfile(p);\n      this.background_image = this.profile.background_image;\n      this.avatar = this.profile.avatar;\n      this.$emit(\"update:showEditProfileModal\", false);\n    },\n  },\n  mounted() {\n    window.addEventListener(\"keyup\", this.handleKeyup);\n  },\n  beforeDestroy() { // Исправлено на правильный хук жизненного цикла\n    window.removeEventListener(\"keyup\", this.handleKeyup);\n  },\n  async created() {\n    console.log(\"loading component:\", this.$options.name);\n    console.log(this.$options.name);\n    this.profile = await this.getOwnerProfile();\n    this.username = this.profile.username;\n    this.background_image = this.profile.background_image;\n    this.avatar = this.profile.avatar;\n    this.bio = this.profile.bio;\n    this.website = this.profile.website;\n    this.birthdate = this.profile.birthdate;\n  },\n};\n</script>\n","import { render } from \"./EditProfileOverlay.vue?vue&type=template&id=6b304ecc&scoped=true\"\nimport script from \"./EditProfileOverlay.vue?vue&type=script&lang=js\"\nexport * from \"./EditProfileOverlay.vue?vue&type=script&lang=js\"\n\nimport \"./EditProfileOverlay.vue?vue&type=style&index=0&id=6b304ecc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6b304ecc\"]])\n\nexport default __exports__"],"names":["class","style","key","_createElementBlock","_hoisted_1","_createElementVNode","onClick","_cache","_withModifiers","$event","_ctx","$emit","_hoisted_2","_hoisted_3","args","$options","saveProfile","_hoisted_4","_hoisted_5","_hoisted_6","openFileInput","onChange","fileChange","ref","accept","type","$data","background_image","_hoisted_7","src","alt","_hoisted_8","_createCommentVNode","_hoisted_9","_hoisted_10","_hoisted_11","avatar","_hoisted_12","_hoisted_13","for","id","username","required","trim","_hoisted_14","bio","placeholder","_hoisted_15","website","_hoisted_16","birthdate","name","props","showEditProfileModal","Boolean","data","profile","undefined","methods","mapActions","handleKeyup","event","this","$refs","click","prop","file","files","reader","FileReader","readAsDataURL","onload","result","onerror","error","alert","p","moment","format","editMyProfile","mounted","window","addEventListener","beforeDestroy","removeEventListener","created","console","log","getOwnerProfile","__exports__","render"],"sourceRoot":""}