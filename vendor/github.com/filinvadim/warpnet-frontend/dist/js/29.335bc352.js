"use strict";(self["webpackChunkwarpnet_frontend"]=self["webpackChunkwarpnet_frontend"]||[]).push([[29],{4039:function(e,t,o){o.d(t,{A:function(){return L}});var l=o(641);const r={class:"hidden md:block w-1/3 h-full border-l border-lighter px-6 py-2 relative min-w-max"};function n(e,t,o,n,s,a){const i=(0,l.g2)("SearchBar"),u=(0,l.g2)("WhoToFollow");return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.bF)(i),(0,l.bF)(u)])}var s=o(6159),a=o(33);const i={class:"w-full rounded-lg bg-lightest my-4"},u=["onClick","src","alt"],d={class:"hidden lg:block ml-4"},c=["onClick"],f={class:"text-left text-sm leading-tight text-dark"},h=["onClick"];function g(e,t,o,r,n,s){return(0,l.uX)(),(0,l.CE)("div",i,[t[0]||(t[0]=(0,l.Lk)("div",{class:"p-3"},[(0,l.Lk)("p",{class:"text-lg font-bold"},"Who to follow")],-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.profiles,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"w-full flex hover:bg-lighter p-3 border-t border-lighter"},[(0,l.Lk)("img",{onClick:t=>s.pushToProfilePage(e.id),src:e.avatar||"default_profile.png",class:"w-12 h-12 rounded-full cursor-pointer",alt:e.username},null,8,u),(0,l.Lk)("div",d,[(0,l.Lk)("p",{onClick:t=>s.pushToProfilePage(e.id),class:"text-left text-sm font-bold leading-tight cursor-pointer"},(0,a.v_)(e.username),9,c),(0,l.Lk)("p",f,(0,a.v_)(e.id.slice(0,8))+"...",1)]),(0,l.Lk)("button",{onClick:t=>s.follow(e.id),class:"ml-auto text-sm text-blue font-bold px-4 py-1 rounded-full border border-blue m-2"}," Follow ",8,h)])))),128)),t[1]||(t[1]=(0,l.Lk)("button",{class:"p-3 w-full hover:bg-lighter text-left text-blue border-t border-lighter"}," Show More ",-1))])}o(4114),o(8111),o(2489);var m=o(6278),p={name:"WhoToFollow",data(){return{userProfile:void 0,profiles:[],profilesCursor:""}},methods:{...(0,m.i0)("warpnet",["getUsers","getProfile","followUser","unfollowUser"]),async pushToProfilePage(e){this.$router.push({name:"Profile",params:{id:e}})},async follow(e){try{await this.followUser(e)}catch(t){console.error(`failed to follow [${e}]`,t)}},async unfollow(e){try{await this.unfollowUser(e)}catch(t){console.error(`failed to unfollow [${e}]`,t)}}},async created(){try{let e;this.userProfile=await this.getProfile(this.$route.params.id),e="Home"===this.$route.name?this.userProfile.id:this.$route.params.id;const t=await this.getUsers(e,20,this.profilesCursor);this.profiles=t.users.filter((e=>e.id!==this.userProfile.id)),this.profilesCursor=t.cursor}catch(e){console.error("Failed to load who to follow:",e),this.profiles=[]}}},b=o(6262);const x=(0,b.A)(p,[["render",g]]);var k=x,v={name:"DefaultRightBar",components:{SearchBar:s.A,WhoToFollow:k}};const w=(0,b.A)(v,[["render",n]]);var L=w},6159:function(e,t,o){o.d(t,{A:function(){return u}});var l=o(641),r=o(3751);function n(e,t,o,n,s,a){return(0,l.uX)(),(0,l.CE)("div",null,[t[2]||(t[2]=(0,l.Lk)("i",{class:"fas fa-search absolute mt-2 ml-5 text-sm text-light"},null,-1)),(0,l.bo)((0,l.Lk)("input",{class:"pl-12 rounded-full w-full p-2 bg-lighter text-sm mb-4",placeholder:"Search Tweet","onUpdate:modelValue":t[0]||(t[0]=e=>s.query=e),onKeyup:t[1]||(t[1]=(0,r.jR)((e=>a.submit()),["enter"]))},null,544),[[r.Jo,s.query]])])}o(4114);var s={name:"SearchBar",data(){return{query:""}},methods:{submit(){this.$router.push({name:"Search",query:{q:this.query}})}}},a=o(6262);const i=(0,a.A)(s,[["render",n]]);var u=i},6655:function(e,t,o){o.d(t,{A:function(){return H}});var l=o(641),r=o(33);const n={class:"w-1/6 md:w-1/12 xl:w-1/6 border-r border-lighter lg:px-6 py-2 flex-col justify-between hidden sm:flex"},s={key:0,class:"absolute -mt-6 ml-2"},a={class:"inline-flex items-center px-1.5 py-0.5 border-2 border-white rounded-full text-xs font-semibold leading-4 bg-blue text-white"},i={key:0,class:"absolute -mt-6 ml-2"},u={class:"inline-flex items-center px-1.5 py-0.5 border-2 border-white rounded-full text-xs font-semibold leading-4 bg-blue text-white"},d={key:0,class:"xl:w-full relative mt-2 w-10 h-10"},c=["src"],f={class:"hidden xl:block ml-4 truncate"},h={class:"text-left text-sm font-bold leading-tight truncate"},g={class:"text-left text-sm leading-tight text-dark truncate"},m={key:0,class:"absolute bottom-0 left-0 w-64 rounded-lg shadow-md border-lightest bg-white mb-16"},p=["src"],b={class:"ml-4"},x={class:"text-left text-sm font-bold leading-tight"},k={class:"text-left text-sm leading-tight text-dark"};function v(e,t,o,v,w,L){const y=(0,l.g2)("QRCodeModal");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",null,[(0,l.bF)(y,{show:e.qrModalOpen,qrData:e.qrCode,onClose:e.closeQRCodeModal},null,8,["show","qrData","onClose"])]),(0,l.Lk)("div",n,[(0,l.Lk)("div",null,[t[14]||(t[14]=(0,l.Lk)("button",{class:"h-12 w-12 hover:bg-lightblue text-3xl text-blue rounded-full"},null,-1)),(0,l.Lk)("div",null,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>L.open("Home")),class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,l.Lk)("i",{class:(0,r.C4)(["fa fa-home","Home"===e.$route.name?"text-2xl":"text-xl"]),"aria-hidden":"true"},null,2),(0,l.Lk)("p",{class:(0,r.C4)(["text-lg ml-4 text-left hidden xl:block","Home"===e.$route.name?"font-bold":""])}," Home ",2)]),(0,l.Lk)("button",{onClick:t[1]||(t[1]=e=>L.open("Notifications")),class:"relative focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,l.Lk)("i",{class:(0,r.C4)(["fa-bell","Notifications"===e.$route.name?"text-2xl fas":"text-xl far"]),"aria-hidden":"true"},null,2),w.newNotifications>0?((0,l.uX)(),(0,l.CE)("span",s,[(0,l.Lk)("div",a,(0,r.v_)(w.newNotifications),1)])):(0,l.Q3)("",!0),(0,l.Lk)("p",{class:(0,r.C4)(["text-lg ml-4 text-left hidden xl:block","Notifications"===e.$route.name?"font-bold":""])}," Notifications ",2)]),(0,l.Lk)("button",{onClick:t[2]||(t[2]=e=>L.open("Chats")),class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,l.Lk)("i",{class:(0,r.C4)(["fa-envelope","Chats"===e.$route.name?"text-2xl fas":"text-xl far"]),"aria-hidden":"true"},null,2),w.newMessages>0?((0,l.uX)(),(0,l.CE)("span",i,[(0,l.Lk)("div",u,(0,r.v_)(w.newMessages),1)])):(0,l.Q3)("",!0),(0,l.Lk)("p",{class:(0,r.C4)(["text-lg ml-4 text-left hidden xl:block","Chats"===e.$route.name?"font-bold":""])}," Messages ",2)]),t[12]||(t[12]=(0,l.Lk)("button",{class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,l.Lk)("i",{class:"text-xl far fa-bookmark","aria-hidden":"true"}),(0,l.Lk)("p",{class:"text-lg ml-4 text-left hidden xl:block"},"Bookmarks")],-1)),(0,l.Lk)("button",{onClick:t[3]||(t[3]=e=>L.open("Profile")),class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},[(0,l.Lk)("i",{class:(0,r.C4)(["fa-user","Profile"===e.$route.name?"text-2xl fas":"text-xl far"]),"aria-hidden":"true"},null,2),(0,l.Lk)("p",{class:(0,r.C4)(["text-lg ml-4 text-left hidden xl:block","Profile"===e.$route.name?"font-bold":""])}," Profile ",2)]),(0,l.Lk)("button",{onClick:t[4]||(t[4]=()=>{}),class:"focus:outline-none hover:text-blue flex items-center px-4 py-2 hover:bg-transparent md:hover:bg-lightblue rounded-full mr-auto mb-1"},t[11]||(t[11]=[(0,l.Lk)("i",{class:"text-xl fas fa-cog","aria-hidden":"true"},null,-1),(0,l.Lk)("p",{class:"text-lg ml-4 text-left hidden xl:block"},"Settings",-1)]))]),(0,l.Lk)("button",{onClick:t[5]||(t[5]=e=>L.open("Home")),class:"text-white bg-blue rounded-full font-semibold h-12 lg:h-auto w-12 xl:w-full hover:bg-darkblue p-3"},t[13]||(t[13]=[(0,l.Lk)("p",{class:"hidden xl:block"},"Tweet",-1),(0,l.Lk)("i",{class:"fas fa-plus xl:hidden"},null,-1)]))]),w.profile?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("button",{onClick:t[6]||(t[6]=e=>w.dropdown=!w.dropdown),class:"flex items-center w-full hover:bg-lightblue rounded-full"},[(0,l.Lk)("img",{src:w.profile.avatar||"default_profile.png",class:"w-10 h-10 rounded-full",alt:"Profile avatar"},null,8,c),(0,l.Lk)("div",f,[(0,l.Lk)("div",h,(0,r.v_)(w.profile.username),1),(0,l.Lk)("div",g,(0,r.v_)(w.profile.id),1)]),t[15]||(t[15]=(0,l.Lk)("i",{class:"hidden xl:block fas fa-angle-down ml-auto text-lg"},null,-1))]),w.dropdown?((0,l.uX)(),(0,l.CE)("div",m,[(0,l.Lk)("button",{onClick:t[7]||(t[7]=e=>w.dropdown=!1),class:"p-3 flex items-center w-full hover:bg-lightest"},[(0,l.Lk)("img",{src:w.profile.avatar||"default_profile.png",class:"w-10 h-10 rounded-full",alt:"Profile avatar"},null,8,p),(0,l.Lk)("div",b,[(0,l.Lk)("p",x,(0,r.v_)(w.profile.username),1),(0,l.Lk)("p",k,(0,r.v_)(w.profile.id),1)]),t[16]||(t[16]=(0,l.Lk)("i",{class:"fas fa-check ml-auto text-blue"},null,-1))]),(0,l.Lk)("button",{class:"w-full text-left hover:bg-lightest border-t border-lighter p-3 text-sm",onClick:t[8]||(t[8]=(...e)=>L.toggleDarkMode&&L.toggleDarkMode(...e))}," Toggle Theme "),t[17]||(t[17]=(0,l.Lk)("button",{class:"w-full text-left hover:bg-lightest border-t border-lighter p-3 text-sm"}," Add an existing account ",-1)),(0,l.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>L.signInByQR&&L.signInByQR(...e)),class:"w-full text-left hover:bg-lightest border-t border-lighter p-3 text-sm"}," Sign in by QR-code "),(0,l.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>L.signOut&&L.signOut(...e)),class:"w-full text-left hover:bg-lightest border-t border-lighter p-3 text-sm"}," Log out "+(0,r.v_)(w.profile.username),1)])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])],64)}o(4114);var w=o(3751);const L={class:"bg-white rounded-lg shadow-lg p-6 w-80 relative"},y={key:0,class:"flex justify-center mb-4"},C=["src"],E={key:1,class:"text-center text-gray-500"};function Q(e,t,o,r,n,s){return o.show?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",onClick:t[1]||(t[1]=(0,w.D$)(((...e)=>s.close&&s.close(...e)),["self"]))},[(0,l.Lk)("div",L,[(0,l.Lk)("button",{class:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:t[0]||(t[0]=(...e)=>s.close&&s.close(...e))},t[2]||(t[2]=[(0,l.Lk)("i",{class:"fas fa-times"},null,-1)])),t[4]||(t[4]=(0,l.Lk)("h3",{class:"text-xl font-semibold text-center mb-4"},"Your QR Code",-1)),o.qrData?((0,l.uX)(),(0,l.CE)("div",y,[(0,l.Lk)("img",{src:o.qrData,alt:"QR Code",class:"w-48 h-48"},null,8,C)])):((0,l.uX)(),(0,l.CE)("div",E,t[3]||(t[3]=[(0,l.Lk)("p",null,"No QR code is currently available. Please try again later.",-1)]))),t[5]||(t[5]=(0,l.Lk)("p",{class:"text-sm text-gray-600 text-center"}," Scan this QR code with your app to log in. ",-1))])])):(0,l.Q3)("",!0)}var P=o(6278),R={props:{show:{type:Boolean,required:!0},qrData:{type:String,required:!1}},methods:{...(0,P.i0)("authentication",["closeQRCodeModal"]),close(){this.closeQRCodeModal()},handleEscape(e){"Escape"===e.key&&this.close()}},mounted(){window.addEventListener("keydown",this.handleEscape)},beforeDestroy(){window.removeEventListener("keydown",this.handleEscape)}},M=o(6262);const $=(0,M.A)(R,[["render",Q]]);var q=$,S={name:"SideNav",data(){return{dropdown:!1,profile:{},newMessages:0,newNotifications:0}},async created(){this.profile=await this.getOwnerProfile()},mounted(){const e=localStorage.getItem("theme");"dark"===e||!e&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},components:{QRCodeModal:q},computed:{...(0,P.L8)("authentication",["qrCode","qrModalOpen"])},methods:{...(0,P.i0)("authentication",["logoutUser","closeQRCodeModal","openQRCodeModal"]),...(0,P.i0)("warpnet",["getOwnerProfile"]),async open(e){const t=this.$route.name;e===t&&this.$route.params.id===this.profile.id||this.$router.push({name:e,params:{id:this.profile.id}})},toggleDarkMode(){const e=document.documentElement;e.classList.contains("dark")?(e.classList.remove("dark"),localStorage.setItem("theme","light")):(e.classList.add("dark"),localStorage.setItem("theme","dark"))},async signInByQR(){try{console.log("signing in by QR..."),await this.openQRCodeModal()}catch(e){alert("Error signing in by QR, please check console to read the error details"),console.log("Error signing in by QR:",e)}},async signOut(){try{await this.logoutUser()}catch(e){alert("Error signing out, please check console for error details"),console.log("Error signing out:",e)}}}};const _=(0,M.A)(S,[["render",v]]);var H=_},6319:function(e,t,o){var l=o(8551),r=o(9539);e.exports=function(e,t,o,n){try{return n?t(l(o)[0],o[1]):t(o)}catch(s){r(e,"throw",s)}}},2529:function(e){e.exports=function(e,t){return{value:e,done:t}}},6279:function(e,t,o){var l=o(6840);e.exports=function(e,t,o){for(var r in t)l(e,r,t[r],o);return e}},9462:function(e,t,o){var l=o(9565),r=o(2360),n=o(6699),s=o(6279),a=o(8227),i=o(1181),u=o(5966),d=o(7657).IteratorPrototype,c=o(2529),f=o(9539),h=a("toStringTag"),g="IteratorHelper",m="WrapForValidIterator",p=i.set,b=function(e){var t=i.getterFor(e?m:g);return s(r(d),{next:function(){var o=t(this);if(e)return o.nextHandler();if(o.done)return c(void 0,!0);try{var l=o.nextHandler();return o.returnHandlerResult?l:c(l,o.done)}catch(r){throw o.done=!0,r}},return:function(){var o=t(this),r=o.iterator;if(o.done=!0,e){var n=u(r,"return");return n?l(n,r):c(void 0,!0)}if(o.inner)try{f(o.inner.iterator,"normal")}catch(s){return f(r,"throw",s)}return r&&f(r,"normal"),c(void 0,!0)}})},x=b(!0),k=b(!1);n(k,h,"Iterator Helper"),e.exports=function(e,t,o){var l=function(l,r){r?(r.iterator=l.iterator,r.next=l.next):r=l,r.type=t?m:g,r.returnHandlerResult=!!o,r.nextHandler=e,r.counter=0,r.done=!1,p(this,r)};return l.prototype=t?x:k,l}},2489:function(e,t,o){var l=o(6518),r=o(9565),n=o(9306),s=o(8551),a=o(1767),i=o(9462),u=o(6319),d=o(6395),c=i((function(){var e,t,o,l=this.iterator,n=this.predicate,a=this.next;while(1){if(e=s(r(a,l)),t=this.done=!!e.done,t)return;if(o=e.value,u(l,n,[o,this.counter++],!0))return o}}));l({target:"Iterator",proto:!0,real:!0,forced:d},{filter:function(e){return s(this),n(e),new c(a(this),{predicate:e})}})}}]);
//# sourceMappingURL=29.335bc352.js.map