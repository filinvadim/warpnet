openapi: 3.0.0
info:
  title: Warp Network
  version: 1.0.0
  description: Components for a distributed Twitter-like application

paths: {}

components:
  schemas:
    CreateChatRequest:
      type: object
      properties:
        from_user_id:
          type: string
          minLength: 1
        to_user_id:
          type: string
          minLength: 1
      required:
        - from_user_id
        - to_user_id

    FollowRequest:
      type: object
      properties:
        reader_id:
          type: string
          minLength: 1
        writer_id:
          type: string
          minLength: 1
      required:
        - reader_id
        - writer_id

    UnfollowRequest:
      type: object
      properties:
        reader_id:
          type: string
          minLength: 1
        writer_id:
          type: string
          minLength: 1
      required:
        - reader_id
        - writer_id

    TweetsResponse:
      type: object
      properties:
        user_id:
          type: string
        cursor:
          type: string
        tweets:
          type: array
          items:
            $ref: './domain.yml#/components/schemas/Tweet'
      required:
        - cursor
        - tweets

    RepliesTreeResponse:
      type: object
      properties:
        user_id:
          type: string
        cursor:
          type: string
        replies:
          type: array
          items:
            $ref: './domain.yml#/components/schemas/ReplyNode'
      required:
        - cursor
        - replies

    ChatsResponse:
      type: object
      properties:
        user_id:
          type: string
        cursor:
          type: string
        chats:
          type: array
          items:
            $ref: './domain.yml#/components/schemas/Chat'
      required:
        - cursor
        - chats

    MessagesResponse:
      type: object
      properties:
        user_id:
          type: string
        chat_id:
          type: string
        cursor:
          type: string
        messages:
          type: array
          items:
            $ref: './domain.yml#/components/schemas/ChatMessage'
      required:
        - cursor
        - messages

    UsersResponse:
      type: object
      properties:
        cursor:
          type: string
        users:
          type: array
          items:
            $ref: './domain.yml#/components/schemas/User'
      required:
        - cursor
        - users
